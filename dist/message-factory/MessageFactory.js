"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdGenerator=void 0;var _createClass=function(){function e(e,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(s,r,a){return r&&e(s.prototype,r),a&&e(s,a),s}}(),_Message=require("./Message.js"),_Message2=_interopRequireDefault(_Message),_MessageBody=require("./MessageBody.js"),MessageFactory=function(){function e(){_classCallCheck(this,e),this.myGenerator=(new IdGenerator).idMaker()}return _createClass(e,[{key:"createCreateMessageRequest",value:function(e,s,r,a){if(!e||!s||!r)throw new Error("from, to, and value of object to be created MUST be specified");var o=""+this.myGenerator.next().value,t=new _MessageBody.CreateMessageBody(r,a,(void 0),(void 0),(void 0),(void 0),(void 0)),n=new _Message2["default"](o,e,s,_Message.MessageType.CREATE,t);return n}},{key:"createForwardMessageRequest",value:function(e,s,r){if(!e||!s||!r)throw new Error("from, to, and message to forward MUST be specified");var a=""+this.myGenerator.next().value,o=new _MessageBody.ForwardMessageBody((void 0),(void 0),(void 0),(void 0),(void 0),r),t=new _Message2["default"](a,e,s,_Message.MessageType.FORWARD,o);return t}},{key:"createDeleteMessageRequest",value:function(e,s,r,a){if(!e||!s)throw new Error("from and to parameters MUST be specified");var o=""+this.myGenerator.next().value,t=new _MessageBody.DeleteMessageBody((void 0),(void 0),r,a,(void 0),(void 0)),n=new _Message2["default"](o,e,s,_Message.MessageType.DELETE,t);return n}},{key:"createUpdateMessageRequest",value:function(e,s,r,a,o){if(!e||!s||!r)throw new Error("from, and to and value MUST be specified");var t=""+this.myGenerator.next().value,n=new _MessageBody.UpdateMessageBody((void 0),(void 0),a,(void 0),(void 0),o,r),i=new _Message2["default"](t,e,s,_Message.MessageType.UPDATE,n);return i}},{key:"createReadMessageRequest",value:function(e,s,r,a){if(!e||!s||!r)throw new Error("from, to and the resource to read from MUST be specified");var o=""+this.myGenerator.next().value,t=new _MessageBody.ReadMessageBody((void 0),(void 0),r,(void 0),(void 0),a,(void 0),(void 0)),n=new _Message2["default"](o,e,s,_Message.MessageType.READ,t);return n}},{key:"createSubscribeMessageRequest",value:function(e,s,r){if(!e||!s||!r)throw new Error("from, to and the resource to subscribe to MUST be specified");var a=""+this.myGenerator.next().value,o=new _MessageBody.MessageBody((void 0),(void 0),r,(void 0),(void 0)),t=new _Message2["default"](a,e,s,_Message.MessageType.SUBSCRIBE,o);return t}},{key:"createUnsubscribeMessageRequest",value:function(e,s,r){if(!e||!s||!r)throw new Error("from, to and the resource to subscribe to MUST be specified");var a=""+this.myGenerator.next().value,o=new _MessageBody.MessageBody((void 0),(void 0),r,(void 0),(void 0)),t=new _Message2["default"](a,e,s,_Message.MessageType.UNSUBSCRIBE,o);return t}},{key:"createExecuteMessageRequest",value:function(e,s,r,a){if(!e||!s||!r)throw new Error("from, to and the method to execute MUST be specified");var o=""+this.myGenerator.next().value,t=new _MessageBody.ExecuteMessageBody((void 0),(void 0),(void 0),(void 0),(void 0),r,a),n=new _Message2["default"](o,e,s,_Message.MessageType.EXECUTE,t);return n}},{key:"createMessageResponse",value:function(e,s,r,a){if(!s)throw new Error("response Code MUST be specified");var o=new _MessageBody.ResponseMessageBody((void 0),(void 0),(void 0),s,r,a);return new _Message2["default"](e.id,e.to,e.from,_Message.MessageType.RESPONSE,o)}},{key:"generateMessageResponse",value:function(e,s,r){if(!e||!s)throw new Error("message and response code MUST be specified");var a=e.body,o=a.idToken,t=a.accessToken,n=a.resource,i=new _MessageBody.ResponseMessageBody(o,t,n,s,r),d=this.myGenerator.next().value;return new _Message2["default"](d,e.to,e.from,_Message.MessageType.RESPONSE,i)}}]),e}(),IdGenerator=exports.IdGenerator=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"idMaker",value:regeneratorRuntime.mark(function s(){var e;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=1;case 1:if(!(e<1e6)){s.next=6;break}return s.next=4,e++;case 4:s.next=1;break;case 6:case"end":return s.stop()}},s,this)})}]),e}();exports["default"]=MessageFactory;
//# sourceMappingURL=MessageFactory.js.map
