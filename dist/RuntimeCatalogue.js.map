{"version":3,"sources":["RuntimeCatalogue.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","RuntimeCatalogue","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/json/stringify","2","core-js/library/fn/object/create","3","core-js/library/fn/object/define-property","4","core-js/library/fn/object/get-prototype-of","5","core-js/library/fn/object/set-prototype-of","6","core-js/library/fn/promise","7","core-js/library/fn/symbol","8","instance","Constructor","TypeError","9","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","10","_Object$create","_Object$setPrototypeOf","subClass","superClass","constructor","value","__proto__","babel-runtime/core-js/object/create","babel-runtime/core-js/object/set-prototype-of","11","_typeof2","_typeof3","ReferenceError","../helpers/typeof","12","_Symbol","babel-runtime/core-js/symbol","13","14","core","it","JSON","stringify","apply","arguments","../../modules/$.core","15","$","P","D","create","../../modules/$","16","desc","setDesc","17","Object","getPrototypeOf","../../modules/es6.object.get-prototype-of","18","setPrototypeOf","../../modules/es6.object.set-prototype-of","19","Promise","../modules/$.core","../modules/es6.object.to-string","../modules/es6.promise","../modules/es6.string.iterator","../modules/web.dom.iterable","20","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","21","22","23","isObject","./$.is-object","24","cof","TAG","ARG","O","T","B","undefined","callee","./$.cof","./$.wks","25","toString","slice","26","version","__e","27","aFunction","fn","that","b","c","./$.a-function","28","29","defineProperty","get","./$.fails","30","document","is","createElement","./$.global","31","keys","getKeys","getSymbols","symbols","isEnum","push","./$","32","ctx","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","W","C","param","Function","./$.core","./$.ctx","33","exec","34","isArrayIter","anObject","toLength","getIterFn","iterable","entries","step","iterator","iterFn","index","next","done","./$.an-object","./$.is-array-iter","./$.iter-call","./$.to-length","./core.get-iterator-method","35","toIObject","getNames","windowNames","getOwnPropertyNames","getWindowNames","./$.to-iobject","36","Math","__g","37","hasOwnProperty","38","createDesc","object","./$.descriptors","./$.property-desc","39","documentElement","40","args","un","41","propertyIsEnumerable","split","42","Iterators","ITERATOR","ArrayProto","Array","./$.iterators","43","isArray","arg","44","45","ret","46","setToStringTag","IteratorPrototype","NAME","./$.hide","./$.set-to-string-tag","47","LIBRARY","redefine","hide","has","$iterCreate","getProto","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","values","./$.export","./$.has","./$.iter-create","./$.library","./$.redefine","48","SAFE_CLOSING","riter","from","skipClosing","safe","arr","iter","49","50","51","$Object","getDesc","getOwnPropertyDescriptor","setDescs","getOwnPropertySymbols","each","forEach","52","el","53","54","head","last","notify","macrotask","set","Observer","MutationObserver","WebKitMutationObserver","process","isNode","flush","parent","domain","exit","enter","nextTick","toggle","node","createTextNode","observe","characterData","data","resolve","then","task","./$.task","55","fails","KEY","exp","56","bitmap","57","src","58","59","x","y","60","check","test","buggy","61","DESCRIPTORS","SPECIES","62","def","tag","stat","63","SHARED","store","64","65","66","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./$.defined","./$.to-integer","67","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","id","listner","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","clear","./$.dom-create","./$.html","./$.invoke","68","ceil","floor","isNaN","69","IObject","./$.iobject","70","min","71","72","px","random","concat","73","uid","./$.shared","./$.uid","74","classof","getIteratorMethod","./$.classof","75","addToUnscopables","iterated","_t","_i","_k","Arguments","./$.add-to-unscopables","./$.iter-define","./$.iter-step","76","toObject","$getPrototypeOf","./$.object-sap","./$.to-object","77","./$.set-proto","78","dup","79","Wrapper","strictNew","forOf","setProto","same","speciesConstructor","asap","PROMISE","testResolve","sub","USE_NATIVE","P2","works","thenableThenGotten","sameConstructor","getConstructor","isThenable","PromiseCapability","reject","promise","$$resolve","$$reject","perform","error","record","isReject","chain","v","ok","reaction","result","handler","fail","h","console","p","isUnhandled","emit","onunhandledrejection","reason","_d","$reject","d","$resolve","wrapper","executor","err","onFulfilled","onRejected","catch","capability","all","abrupt","remaining","results","alreadyCalled","race","./$.for-of","./$.iter-detect","./$.microtask","./$.redefine-all","./$.same-value","./$.set-species","./$.species-constructor","./$.strict-new","80","$at","point","./$.string-at","81","$fails","shared","wks","keyOf","$names","enumKeys","_create","$Symbol","$JSON","_stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","$stringify","replacer","$replacer","$$","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","./$.enum-keys","./$.get-names","./$.is-array","./$.keyof","82","NodeList","HTMLCollection","./es6.array.iterator","83","EventEmitter","_events","_maxListeners","isFunction","isNumber","isUndefined","defaultMaxListeners","setMaxListeners","er","len","listeners","addListener","listener","m","newListener","warned","trace","on","once","removeListener","fired","list","position","splice","removeAllListeners","listenerCount","evlistener","emitter","84","JSONStorage","LocalStorage","QUOTA_EXCEEDED_ERR","StorageEvent","events","fs","path","_emptyDirectory","_rm","__extends","child","ctor","__hasProp","__super__","_len","_ref","_results","readdirSync","join","statSync","isDirectory","rmdirSync","unlinkSync","_super","_at_message","message","captureStackTrace","_at_key","_at_oldValue","_at_newValue","_at_url","_at_storageArea","oldValue","newValue","url","storageArea","_at_location","_at_quota","location","quota","bytesInUse","metaKeyMap","createMap","eventUrl","pid","_init","MetaKey","_at_index","Map","k","_MetaKey","_decodedKey","_keys","existsSync","mkdirSync","decodeURIComponent","getStat","size","setItem","encodedKey","evnt","existsBeforeSet","filename","hasListeners","metaKey","oldLength","valueString","valueStringLength","getItem","encodeURIComponent","writeFileSync","readFileSync","removeItem","meta","getBytesInUse","_deleteLocation","parse","_process","85","normalizeArray","parts","allowAboveRoot","up","unshift","filter","xs","res","splitPathRe","splitPath","resolvedPath","resolvedAbsolute","cwd","normalize","isAbsolute","trailingSlash","substr","paths","relative","to","trim","start","end","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","root","dir","basename","ext","extname","str","86","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","timeout","clearTimeout","Item","fun","array","noop","title","browser","env","argv","versions","off","binding","chdir","umask","87","factory","tv4","notReallyPercentEncode","string","encodeURI","replace","doubleEncoded","substring","uriTemplateSubstitution","spec","modifier","uriTemplateGlobalModifiers","separator","prefix","shouldEscape","showVariables","trimEmptyString","varNames","varList","varSpecs","varSpecMap","varName","truncate","indexOf","parseInt","suffices","uriTemplateSuffices","varSpec","subFunction","valueFunction","startIndex","j","first","substitution","UriTemplate","template","textParts","shift","prefixes","substitutions","part","remainder","funcs","fill","recursiveCompare","A","parseURI","match","href","protocol","authority","host","hostname","pathname","search","hash","resolveUrl","base","removeDotSegments","input","output","pop","lastIndexOf","getDocumentUri","uri","normSchema","schema","baseUri","defaultErrorReporter","language","errorMessages","languages","messageTemplate","ErrorMessagesDefault","messageParams","params","whole","subValue","ValidationError","dataPath","schemaPath","subErrors","stack","stacktrace","isTrustedUrl","baseUrl","testUrl","createApi","currentLanguage","customErrorReporter","globalContext","ValidatorContext","api","setErrorReporter","reporter","addFormat","addLanguage","messageMap","ErrorCodes","rootCode","freshApi","validate","checkRecursive","banUnknownProperties","errorReporter","context","$ref","addSchema","validateAll","missing","valid","validateResult","validateMultiple","errors","getSchema","getSchemaMap","getSchemaUris","getMissingUris","dropSchemas","defineKeyword","defineError","codeName","codeNumber","defaultMessage","ErrorCodeLookup","langCode","reset","errorCodes","hasDontEnumBug","dontEnums","dontEnumsLength","prop","vArg","searchElement","Number","Infinity","abs","max","isFrozen","+","#",".","/",";","?","&","*","fillFromObject","collectMultiple","trackUnknownProperties","missingMap","formatValidators","schemas","handleError","collectError","returnError","scanned","scannedFrozen","scannedFrozenSchemas","scannedFrozenValidationErrors","validatedSchemasKey","validationErrorsKey","knownPropertyPaths","unknownPropertyPaths","definedKeywords","keyword","keywordFunction","createError","prefixErrors","prefixWith","unknownPath","UNKNOWN_PROPERTY","format","validator","resolveRefs","urlHistory","CIRCULAR_REFERENCE","urls","fragment","pointerPath","component","searchSchemas","map","filterRegExp","dataPathParts","schemaPathParts","dataPointerPath","topLevel","frozenIndex","startErrorCount","scannedFrozenSchemaIndex","scannedSchemasIndex","schemaIndex","frozenSchemaIndex","errorCount","validateBasic","validateNumeric","validateString","validateArray","validateObject","validateCombinations","validateHypermedia","validateFormat","validateDefinedKeywords","item","dataPart","schemaPart","errorMessage","FORMAT_CUSTOM","validationFunctions","func","KEYWORD_CUSTOM","validateType","validateEnum","dataType","allowedTypes","INVALID_TYPE","expected","enumVal","ENUM_MISMATCH","validateMultipleOf","validateMinMax","validateNaN","CLOSE_ENOUGH_LOW","pow","CLOSE_ENOUGH_HIGH","multipleOf","divisibleBy","NUMBER_MULTIPLE_OF","minimum","NUMBER_MINIMUM","exclusiveMinimum","NUMBER_MINIMUM_EXCLUSIVE","maximum","NUMBER_MAXIMUM","exclusiveMaximum","NUMBER_MAXIMUM_EXCLUSIVE","NUMBER_NOT_A_NUMBER","validateStringLength","validateStringPattern","minLength","STRING_LENGTH_SHORT","maxLength","STRING_LENGTH_LONG","pattern","RegExp","regexp","body","flags","literal","STRING_PATTERN","validateArrayLength","validateArrayUniqueItems","validateArrayItems","minItems","ARRAY_LENGTH_SHORT","maxItems","ARRAY_LENGTH_LONG","uniqueItems","ARRAY_UNIQUE","match1","match2","items","additionalItems","ARRAY_ADDITIONAL_ITEMS","validateObjectMinMaxProperties","validateObjectRequiredProperties","validateObjectProperties","validateObjectDependencies","minProperties","OBJECT_PROPERTIES_MINIMUM","propertyCount","maxProperties","OBJECT_PROPERTIES_MAXIMUM","required","OBJECT_REQUIRED","keyPointerPath","foundMatch","properties","patternProperties","patternKey","additionalProperties","OBJECT_ADDITIONAL_PROPERTIES","dependencies","depKey","dep","OBJECT_DEPENDENCY_KEY","requiredKey","validateAllOf","validateAnyOf","validateOneOf","validateNot","allOf","subSchema","anyOf","oldUnknownPropertyPaths","oldKnownPropertyPaths","errorAtEnd","knownKey","unknownKey","ANY_OF_MISSING","oneOf","validIndex","ONE_OF_MULTIPLE","index1","index2","ONE_OF_MISSING","not","oldErrorCount","notErrors","NOT_PASSED","links","ldo","rel","allPresent","schemaUrl","dataPrefix","schemaPrefix","88","mod","localStorage","sessionStorage","./rem-localstorage","node-localstorage","89","remLocalstorage","Storage","createCookie","days","date","expires","Date","setTime","getTime","toGMTString","cookie","readCookie","nameEQ","ca","setData","clearData","getData","ctr","90","RuntimeCatalogueLocal","_RuntimeCatalogueLocal","_RuntimeCatalogueLocal2","_RuntimeCatalogue","_RuntimeCatalogue2","./runtime-catalogue/RuntimeCatalogue","./runtime-catalogue/RuntimeCatalogue-Local","91","DataObjectSourceLanguage","CatalogueObjectType","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","CatalogueDataObject","guid","objectName","description","sourcePackageURL","_guid","_type","_version","_objectName","_description","_language","_sourcePackageURL","_signature","_sourcePackage","signature","sourcePackage","HYPERTY","PROTOSTUB","HYPERTY_RUNTIME","HYPERTY_INTERCEPTOR","HYPERTY_DATA_OBJECT","JAVASCRIPT_ECMA6","JAVASCRIPT_ECMA5","JSON_SCHEMA_V4","PYTHON","TYPESCRIPT","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","92","_getPrototypeOf","_getPrototypeOf2","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_RethinkObject2","_RethinkObject3","_CatalogueDataObject","_CatalogueDataObject2","_SourcePackage","_SourcePackage2","_HypertyDescriptor","_HypertyDescriptor2","_ProtocolStubDescriptor","_ProtocolStubDescriptor2","_HypertyRuntimeDescriptor","_HypertyRuntimeDescriptor2","_HypertyInterceptorDescriptor","_HypertyInterceptorDescriptor2","_DataObjectSchema","CatalogueDataObjectFactory","_RethinkObject","validation","hypertyType","dataObjects","messageSchemas","configuration","constraints","runtimeType","hypertyCapabilities","protocolCapabilities","policies","DataObjectSchema","accessControlPolicy","scheme","DataUrlScheme","COMM","CommunicationDataObjectSchema","CONNECTION","ConnectionDataObjectSchema","CTXT","ContextDataObjectSchema","IDENTITY","IdentityDataObjectSchema","sourceCodeClassname","sourceCode","../reTHINKObject/RethinkObject","./CatalogueDataObject","./DataObjectSchema","./HypertyDescriptor","./HypertyInterceptorDescriptor","./HypertyRuntimeDescriptor","./ProtocolStubDescriptor","./SourcePackage","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","93","HypertyDataObjectSchema","MessageDataObjectSchema","_CatalogueDataObject3","_DataObjectSchema2","dataUrlScheme","_this3","_accessControlPolicy","_scheme","_HypertyDataObjectSch","_HypertyDataObjectSch2","_HypertyDataObjectSch3","_HypertyDataObjectSch4","94","HypertyResourceType","HypertyType","RuntimeHypertyCapabilityType","HypertyDescriptor","catalogueType","dataObjectUrls","_this","_configuration","_constraints","_policies","_messageSchema","_hypertyType","_dataObjects","hType","messageSchema","COMMUNICATOR","CONTEXT","chat","audio","video","av","screen","file","midi","95","PolicyEnforcerDescriptor","96","RuntimeType","RuntimeProtocolCapability","RuntimeHypertyCapability","_stringify2","HypertyRuntimeDescriptor","_runtimeType","_hypertyCapabilities","_protocolCapabilities","isWebRTCSupported","isMicSupported","isCameraSupported","isSensorSupported","isORTCSupported","_isWebRTC","_isMic","_isCamera","_isSensor","_isORTC","isHttp","isHttps","isWS","isWSS","isCoap","isDataChannel","_isHttp","_isHttps","_isWS","_isWSS","_isCoap","_isDataChannel","BROWSER","STANDALONE","SERVER","GATEWAY","babel-runtime/core-js/json/stringify","97","ProtocolStubDescriptor","_messageSchemas","98","SourcePackage","_sourceCode","_sourceCodeClassname","_encoding","encoding","sign","99","_universalLocalstorage","_universalLocalstorage2","persistenceManager","getVersion","delete","universal-localstorage","100","RethinkObject","_tv","_tv2","101","_promise","_promise2","_utils","_RuntimeCatalogue3","runtimeFactory","descriptorURL","createFunc","resourceURL","dividedURL","divideURL","identity","resource","log","includes","httpRequest","ERROR","_descriptor","../utils/utils","./RuntimeCatalogue","babel-runtime/core-js/promise","102","_CatalogueDataObjectFactory","_CatalogueDataObjectFactory2","_PersistenceManager","_PersistenceManager2","_factory","createHttpRequest","hypertyURL","getDescriptor","_createHyperty","stubURL","protostub","_createStub","runtimeURL","_createRuntimeDescriptor","dataSchemaURL","_createDataSchema","idpProxyURL","idpproxy","originDividedURL","originDomain","_createIdpProxy","rawHyperty","hyperty","createHypertyDescriptorObject","_createSourcePackage","rawStub","stub","createProtoStubDescriptorObject","rawRuntime","runtime","createHypertyRuntimeDescriptorObject","rawSchema","dataSchema","createHypertyDataObjectSchema","createMessageDataObjectSchema","getSourcePackageFromURL","rawProxy","sp","atob","createSourcePackage","warn","_runtimeURL","../catalogue-factory/CatalogueDataObjectFactory","../persistence/PersistenceManager","103","re","subst","deepClone"],"mappings":"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","file":"RuntimeCatalogue.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.RuntimeCatalogue = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":14}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":15}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":16}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":17}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":18}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":19}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":20}],8:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],9:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":3}],10:[function(require,module,exports){\n\"use strict\";\n\nvar _Object$create = require(\"babel-runtime/core-js/object/create\")[\"default\"];\n\nvar _Object$setPrototypeOf = require(\"babel-runtime/core-js/object/set-prototype-of\")[\"default\"];\n\nexports[\"default\"] = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _Object$setPrototypeOf ? _Object$setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/object/create\":2,\"babel-runtime/core-js/object/set-prototype-of\":5}],11:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":12}],12:[function(require,module,exports){\n\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;\n},{\"babel-runtime/core-js/symbol\":7}],13:[function(require,module,exports){\n\n},{}],14:[function(require,module,exports){\nvar core = require('../../modules/$.core');\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);\n};\n},{\"../../modules/$.core\":26}],15:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n},{\"../../modules/$\":51}],16:[function(require,module,exports){\nvar $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc){\n  return $.setDesc(it, key, desc);\n};\n},{\"../../modules/$\":51}],17:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.getPrototypeOf;\n},{\"../../modules/$.core\":26,\"../../modules/es6.object.get-prototype-of\":76}],18:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/$.core').Object.setPrototypeOf;\n},{\"../../modules/$.core\":26,\"../../modules/es6.object.set-prototype-of\":77}],19:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/$.core').Promise;\n},{\"../modules/$.core\":26,\"../modules/es6.object.to-string\":78,\"../modules/es6.promise\":79,\"../modules/es6.string.iterator\":80,\"../modules/web.dom.iterable\":82}],20:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;\n},{\"../../modules/$.core\":26,\"../../modules/es6.object.to-string\":78,\"../../modules/es6.symbol\":81}],21:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],22:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],23:[function(require,module,exports){\nvar isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./$.is-object\":44}],24:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./$.cof')\n  , TAG = require('./$.wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = (O = Object(it))[TAG]) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./$.cof\":25,\"./$.wks\":73}],25:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],26:[function(require,module,exports){\nvar core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],27:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./$.a-function\":21}],28:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],29:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./$.fails\":33}],30:[function(require,module,exports){\nvar isObject = require('./$.is-object')\n  , document = require('./$.global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./$.global\":36,\"./$.is-object\":44}],31:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n},{\"./$\":51}],32:[function(require,module,exports){\nvar global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n},{\"./$.core\":26,\"./$.ctx\":27,\"./$.global\":36}],33:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],34:[function(require,module,exports){\nvar ctx         = require('./$.ctx')\n  , call        = require('./$.iter-call')\n  , isArrayIter = require('./$.is-array-iter')\n  , anObject    = require('./$.an-object')\n  , toLength    = require('./$.to-length')\n  , getIterFn   = require('./core.get-iterator-method');\nmodule.exports = function(iterable, entries, fn, that){\n  var iterFn = getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    call(iterator, f, step.value, entries);\n  }\n};\n},{\"./$.an-object\":23,\"./$.ctx\":27,\"./$.is-array-iter\":42,\"./$.iter-call\":45,\"./$.to-length\":70,\"./core.get-iterator-method\":74}],35:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n},{\"./$\":51,\"./$.to-iobject\":69}],36:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],37:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],38:[function(require,module,exports){\nvar $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./$\":51,\"./$.descriptors\":29,\"./$.property-desc\":56}],39:[function(require,module,exports){\nmodule.exports = require('./$.global').document && document.documentElement;\n},{\"./$.global\":36}],40:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n},{}],41:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./$.cof\":25}],42:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators  = require('./$.iterators')\n  , ITERATOR   = require('./$.wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./$.iterators\":50,\"./$.wks\":73}],43:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./$.cof\":25}],44:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],45:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./$.an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./$.an-object\":23}],46:[function(require,module,exports){\n'use strict';\nvar $              = require('./$')\n  , descriptor     = require('./$.property-desc')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./$.hide')(IteratorPrototype, require('./$.wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = $.create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./$\":51,\"./$.hide\":38,\"./$.property-desc\":56,\"./$.set-to-string-tag\":62,\"./$.wks\":73}],47:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./$.library')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , hide           = require('./$.hide')\n  , has            = require('./$.has')\n  , Iterators      = require('./$.iterators')\n  , $iterCreate    = require('./$.iter-create')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , getProto       = require('./$').getProto\n  , ITERATOR       = require('./$.wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , methods, key;\n  // Fix native\n  if($native){\n    var IteratorPrototype = getProto($default.call(new Base));\n    // Set @@toStringTag to native iterators\n    setToStringTag(IteratorPrototype, TAG, true);\n    // FF fix\n    if(!LIBRARY && has(proto, FF_ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if(DEF_VALUES && $native.name !== VALUES){\n      VALUES_BUG = true;\n      $default = function values(){ return $native.call(this); };\n    }\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES  ? $default : getMethod(VALUES),\n      keys:    IS_SET      ? $default : getMethod(KEYS),\n      entries: !DEF_VALUES ? $default : getMethod('entries')\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./$\":51,\"./$.export\":32,\"./$.has\":37,\"./$.hide\":38,\"./$.iter-create\":46,\"./$.iterators\":50,\"./$.library\":53,\"./$.redefine\":58,\"./$.set-to-string-tag\":62,\"./$.wks\":73}],48:[function(require,module,exports){\nvar ITERATOR     = require('./$.wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ safe = true; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n},{\"./$.wks\":73}],49:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],50:[function(require,module,exports){\nmodule.exports = {};\n},{}],51:[function(require,module,exports){\nvar $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n},{}],52:[function(require,module,exports){\nvar $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./$\":51,\"./$.to-iobject\":69}],53:[function(require,module,exports){\nmodule.exports = true;\n},{}],54:[function(require,module,exports){\nvar global    = require('./$.global')\n  , macrotask = require('./$.task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./$.cof')(process) == 'process'\n  , head, last, notify;\n\nvar flush = function(){\n  var parent, domain, fn;\n  if(isNode && (parent = process.domain)){\n    process.domain = null;\n    parent.exit();\n  }\n  while(head){\n    domain = head.domain;\n    fn     = head.fn;\n    if(domain)domain.enter();\n    fn(); // <- currently we use it only for Promise - try / catch not required\n    if(domain)domain.exit();\n    head = head.next;\n  } last = undefined;\n  if(parent)parent.enter();\n};\n\n// Node.js\nif(isNode){\n  notify = function(){\n    process.nextTick(flush);\n  };\n// browsers with MutationObserver\n} else if(Observer){\n  var toggle = 1\n    , node   = document.createTextNode('');\n  new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n  notify = function(){\n    node.data = toggle = -toggle;\n  };\n// environments with maybe non-completely correct, but existent Promise\n} else if(Promise && Promise.resolve){\n  notify = function(){\n    Promise.resolve().then(flush);\n  };\n// for other environments - macrotask based on:\n// - setImmediate\n// - MessageChannel\n// - window.postMessag\n// - onreadystatechange\n// - setTimeout\n} else {\n  notify = function(){\n    // strange IE + webpack dev server bug - use .call(global)\n    macrotask.call(global, flush);\n  };\n}\n\nmodule.exports = function asap(fn){\n  var task = {fn: fn, next: undefined, domain: isNode && process.domain};\n  if(last)last.next = task;\n  if(!head){\n    head = task;\n    notify();\n  } last = task;\n};\n},{\"./$.cof\":25,\"./$.global\":36,\"./$.task\":67}],55:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./$.core\":26,\"./$.export\":32,\"./$.fails\":33}],56:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],57:[function(require,module,exports){\nvar redefine = require('./$.redefine');\nmodule.exports = function(target, src){\n  for(var key in src)redefine(target, key, src[key]);\n  return target;\n};\n},{\"./$.redefine\":58}],58:[function(require,module,exports){\nmodule.exports = require('./$.hide');\n},{\"./$.hide\":38}],59:[function(require,module,exports){\n// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y){\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n},{}],60:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar getDesc  = require('./$').getDesc\n  , isObject = require('./$.is-object')\n  , anObject = require('./$.an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./$.ctx')(Function.call, getDesc(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./$\":51,\"./$.an-object\":23,\"./$.ctx\":27,\"./$.is-object\":44}],61:[function(require,module,exports){\n'use strict';\nvar core        = require('./$.core')\n  , $           = require('./$')\n  , DESCRIPTORS = require('./$.descriptors')\n  , SPECIES     = require('./$.wks')('species');\n\nmodule.exports = function(KEY){\n  var C = core[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])$.setDesc(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./$\":51,\"./$.core\":26,\"./$.descriptors\":29,\"./$.wks\":73}],62:[function(require,module,exports){\nvar def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./$\":51,\"./$.has\":37,\"./$.wks\":73}],63:[function(require,module,exports){\nvar global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./$.global\":36}],64:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./$.an-object')\n  , aFunction = require('./$.a-function')\n  , SPECIES   = require('./$.wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n},{\"./$.a-function\":21,\"./$.an-object\":23,\"./$.wks\":73}],65:[function(require,module,exports){\nmodule.exports = function(it, Constructor, name){\n  if(!(it instanceof Constructor))throw TypeError(name + \": use the 'new' operator!\");\n  return it;\n};\n},{}],66:[function(require,module,exports){\nvar toInteger = require('./$.to-integer')\n  , defined   = require('./$.defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./$.defined\":28,\"./$.to-integer\":68}],67:[function(require,module,exports){\nvar ctx                = require('./$.ctx')\n  , invoke             = require('./$.invoke')\n  , html               = require('./$.html')\n  , cel                = require('./$.dom-create')\n  , global             = require('./$.global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listner = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./$.cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listner;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listner, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n},{\"./$.cof\":25,\"./$.ctx\":27,\"./$.dom-create\":30,\"./$.global\":36,\"./$.html\":39,\"./$.invoke\":40}],68:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],69:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./$.defined\":28,\"./$.iobject\":41}],70:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./$.to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./$.to-integer\":68}],71:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./$.defined\":28}],72:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],73:[function(require,module,exports){\nvar store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n},{\"./$.global\":36,\"./$.shared\":63,\"./$.uid\":72}],74:[function(require,module,exports){\nvar classof   = require('./$.classof')\n  , ITERATOR  = require('./$.wks')('iterator')\n  , Iterators = require('./$.iterators');\nmodule.exports = require('./$.core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./$.classof\":24,\"./$.core\":26,\"./$.iterators\":50,\"./$.wks\":73}],75:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./$.add-to-unscopables')\n  , step             = require('./$.iter-step')\n  , Iterators        = require('./$.iterators')\n  , toIObject        = require('./$.to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./$.iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./$.add-to-unscopables\":22,\"./$.iter-define\":47,\"./$.iter-step\":49,\"./$.iterators\":50,\"./$.to-iobject\":69}],76:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('getPrototypeOf', function($getPrototypeOf){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./$.object-sap\":55,\"./$.to-object\":71}],77:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./$.export');\n$export($export.S, 'Object', {setPrototypeOf: require('./$.set-proto').set});\n},{\"./$.export\":32,\"./$.set-proto\":60}],78:[function(require,module,exports){\narguments[4][13][0].apply(exports,arguments)\n},{\"dup\":13}],79:[function(require,module,exports){\n'use strict';\nvar $          = require('./$')\n  , LIBRARY    = require('./$.library')\n  , global     = require('./$.global')\n  , ctx        = require('./$.ctx')\n  , classof    = require('./$.classof')\n  , $export    = require('./$.export')\n  , isObject   = require('./$.is-object')\n  , anObject   = require('./$.an-object')\n  , aFunction  = require('./$.a-function')\n  , strictNew  = require('./$.strict-new')\n  , forOf      = require('./$.for-of')\n  , setProto   = require('./$.set-proto').set\n  , same       = require('./$.same-value')\n  , SPECIES    = require('./$.wks')('species')\n  , speciesConstructor = require('./$.species-constructor')\n  , asap       = require('./$.microtask')\n  , PROMISE    = 'Promise'\n  , process    = global.process\n  , isNode     = classof(process) == 'process'\n  , P          = global[PROMISE]\n  , Wrapper;\n\nvar testResolve = function(sub){\n  var test = new P(function(){});\n  if(sub)test.constructor = Object;\n  return P.resolve(test) === test;\n};\n\nvar USE_NATIVE = function(){\n  var works = false;\n  function P2(x){\n    var self = new P(x);\n    setProto(self, P2.prototype);\n    return self;\n  }\n  try {\n    works = P && P.resolve && testResolve();\n    setProto(P2, P);\n    P2.prototype = $.create(P.prototype, {constructor: {value: P2}});\n    // actual Firefox has broken subclass support, test that\n    if(!(P2.resolve(5).then(function(){}) instanceof P2)){\n      works = false;\n    }\n    // actual V8 bug, https://code.google.com/p/v8/issues/detail?id=4162\n    if(works && require('./$.descriptors')){\n      var thenableThenGotten = false;\n      P.resolve($.setDesc({}, 'then', {\n        get: function(){ thenableThenGotten = true; }\n      }));\n      works = thenableThenGotten;\n    }\n  } catch(e){ works = false; }\n  return works;\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // library wrapper special case\n  if(LIBRARY && a === P && b === Wrapper)return true;\n  return same(a, b);\n};\nvar getConstructor = function(C){\n  var S = anObject(C)[SPECIES];\n  return S != undefined ? S : C;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar PromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve),\n  this.reject  = aFunction(reject)\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(record, isReject){\n  if(record.n)return;\n  record.n = true;\n  var chain = record.c;\n  asap(function(){\n    var value = record.v\n      , ok    = record.s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , result, then;\n      try {\n        if(handler){\n          if(!ok)record.h = true;\n          result = handler === true ? value : handler(value);\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    chain.length = 0;\n    record.n = false;\n    if(isReject)setTimeout(function(){\n      var promise = record.p\n        , handler, console;\n      if(isUnhandled(promise)){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      } record.a = undefined;\n    }, 1);\n  });\n};\nvar isUnhandled = function(promise){\n  var record = promise._d\n    , chain  = record.a || record.c\n    , i      = 0\n    , reaction;\n  if(record.h)return false;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar $reject = function(value){\n  var record = this;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  record.v = value;\n  record.s = 2;\n  record.a = record.c.slice();\n  notify(record, true);\n};\nvar $resolve = function(value){\n  var record = this\n    , then;\n  if(record.d)return;\n  record.d = true;\n  record = record.r || record; // unwrap\n  try {\n    if(record.p === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      asap(function(){\n        var wrapper = {r: record, d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      record.v = value;\n      record.s = 1;\n      notify(record, false);\n    }\n  } catch(e){\n    $reject.call({r: record, d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  P = function Promise(executor){\n    aFunction(executor);\n    var record = this._d = {\n      p: strictNew(this, P, PROMISE),         // <- promise\n      c: [],                                  // <- awaiting reactions\n      a: undefined,                           // <- checked in isUnhandled reactions\n      s: 0,                                   // <- state\n      d: false,                               // <- done\n      v: undefined,                           // <- value\n      h: false,                               // <- handled rejection\n      n: false                                // <- notify\n    };\n    try {\n      executor(ctx($resolve, record, 1), ctx($reject, record, 1));\n    } catch(err){\n      $reject.call(record, err);\n    }\n  };\n  require('./$.redefine-all')(P.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction = new PromiseCapability(speciesConstructor(this, P))\n        , promise  = reaction.promise\n        , record   = this._d;\n      reaction.ok   = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      record.c.push(reaction);\n      if(record.a)record.a.push(reaction);\n      if(record.s)notify(record, false);\n      return promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: P});\nrequire('./$.set-to-string-tag')(P, PROMISE);\nrequire('./$.set-species')(PROMISE);\nWrapper = require('./$.core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = new PromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (!USE_NATIVE || testResolve(true)), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof P && sameConstructor(x.constructor, this))return x;\n    var capability = new PromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./$.iter-detect')(function(iter){\n  P.all(iter)['catch'](function(){});\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject\n      , values     = [];\n    var abrupt = perform(function(){\n      forOf(iterable, false, values.push, values);\n      var remaining = values.length\n        , results   = Array(remaining);\n      if(remaining)$.each.call(values, function(promise, index){\n        var alreadyCalled = false;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled = true;\n          results[index] = value;\n          --remaining || resolve(results);\n        }, reject);\n      });\n      else resolve(results);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = getConstructor(this)\n      , capability = new PromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n},{\"./$\":51,\"./$.a-function\":21,\"./$.an-object\":23,\"./$.classof\":24,\"./$.core\":26,\"./$.ctx\":27,\"./$.descriptors\":29,\"./$.export\":32,\"./$.for-of\":34,\"./$.global\":36,\"./$.is-object\":44,\"./$.iter-detect\":48,\"./$.library\":53,\"./$.microtask\":54,\"./$.redefine-all\":57,\"./$.same-value\":59,\"./$.set-proto\":60,\"./$.set-species\":61,\"./$.set-to-string-tag\":62,\"./$.species-constructor\":64,\"./$.strict-new\":65,\"./$.wks\":73}],80:[function(require,module,exports){\n'use strict';\nvar $at  = require('./$.string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./$.iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./$.iter-define\":47,\"./$.string-at\":66}],81:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./$\":51,\"./$.an-object\":23,\"./$.descriptors\":29,\"./$.enum-keys\":31,\"./$.export\":32,\"./$.fails\":33,\"./$.get-names\":35,\"./$.global\":36,\"./$.has\":37,\"./$.is-array\":43,\"./$.keyof\":52,\"./$.library\":53,\"./$.property-desc\":56,\"./$.redefine\":58,\"./$.set-to-string-tag\":62,\"./$.shared\":63,\"./$.to-iobject\":69,\"./$.uid\":72,\"./$.wks\":73}],82:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar Iterators = require('./$.iterators');\nIterators.NodeList = Iterators.HTMLCollection = Iterators.Array;\n},{\"./$.iterators\":50,\"./es6.array.iterator\":75}],83:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],84:[function(require,module,exports){\n(function (process){\n// Generated by CoffeeScript 1.9.0\n(function() {\n  var JSONStorage, LocalStorage, QUOTA_EXCEEDED_ERR, StorageEvent, events, fs, path, _emptyDirectory, _rm,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __hasProp = {}.hasOwnProperty;\n\n  path = require('path');\n\n  fs = require('fs');\n\n  events = require('events');\n\n  _emptyDirectory = function(target) {\n    var p, _i, _len, _ref, _results;\n    _ref = fs.readdirSync(target);\n    _results = [];\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      p = _ref[_i];\n      _results.push(_rm(path.join(target, p)));\n    }\n    return _results;\n  };\n\n  _rm = function(target) {\n    if (fs.statSync(target).isDirectory()) {\n      _emptyDirectory(target);\n      return fs.rmdirSync(target);\n    } else {\n      return fs.unlinkSync(target);\n    }\n  };\n\n  QUOTA_EXCEEDED_ERR = (function(_super) {\n    __extends(QUOTA_EXCEEDED_ERR, _super);\n\n    function QUOTA_EXCEEDED_ERR(_at_message) {\n      this.message = _at_message != null ? _at_message : 'Unknown error.';\n      if (Error.captureStackTrace != null) {\n        Error.captureStackTrace(this, this.constructor);\n      }\n      this.name = this.constructor.name;\n    }\n\n    QUOTA_EXCEEDED_ERR.prototype.toString = function() {\n      return this.name + \": \" + this.message;\n    };\n\n    return QUOTA_EXCEEDED_ERR;\n\n  })(Error);\n\n  StorageEvent = (function() {\n    function StorageEvent(_at_key, _at_oldValue, _at_newValue, _at_url, _at_storageArea) {\n      this.key = _at_key;\n      this.oldValue = _at_oldValue;\n      this.newValue = _at_newValue;\n      this.url = _at_url;\n      this.storageArea = _at_storageArea != null ? _at_storageArea : 'localStorage';\n    }\n\n    return StorageEvent;\n\n  })();\n\n  LocalStorage = (function(_super) {\n    var MetaKey, createMap;\n\n    __extends(LocalStorage, _super);\n\n    function LocalStorage(_at_location, _at_quota) {\n      this.location = _at_location;\n      this.quota = _at_quota != null ? _at_quota : 5 * 1024 * 1024;\n      if (!(this instanceof LocalStorage)) {\n        return new LocalStorage(this.location, this.quota);\n      }\n      this.length = 0;\n      this.bytesInUse = 0;\n      this.keys = [];\n      this.metaKeyMap = createMap();\n      this.eventUrl = \"pid:\" + process.pid;\n      this._init();\n      this.QUOTA_EXCEEDED_ERR = QUOTA_EXCEEDED_ERR;\n    }\n\n    MetaKey = (function() {\n      function MetaKey(_at_key, _at_index) {\n        this.key = _at_key;\n        this.index = _at_index;\n        if (!(this instanceof MetaKey)) {\n          return new MetaKey(this.key, this.index);\n        }\n      }\n\n      return MetaKey;\n\n    })();\n\n    createMap = function() {\n      var Map;\n      Map = function() {};\n      Map.prototype = Object.create(null);\n      return new Map();\n    };\n\n    LocalStorage.prototype._init = function() {\n      var index, k, stat, _MetaKey, _decodedKey, _i, _keys, _len;\n      if (fs.existsSync(this.location)) {\n        if (!fs.statSync(this.location).isDirectory()) {\n          throw new Error(\"A file exists at the location '\" + this.location + \"' when trying to create/open localStorage\");\n        }\n      }\n      this.bytesInUse = 0;\n      this.length = 0;\n      if (!fs.existsSync(this.location)) {\n        fs.mkdirSync(this.location);\n        return;\n      }\n      _keys = fs.readdirSync(this.location);\n      for (index = _i = 0, _len = _keys.length; _i < _len; index = ++_i) {\n        k = _keys[index];\n        _decodedKey = decodeURIComponent(k);\n        this.keys.push(_decodedKey);\n        _MetaKey = new MetaKey(k, index);\n        this.metaKeyMap[_decodedKey] = _MetaKey;\n        stat = this.getStat(k);\n        if ((stat != null ? stat.size : void 0) != null) {\n          _MetaKey.size = stat.size;\n          this.bytesInUse += stat.size;\n        }\n      }\n      return this.length = _keys.length;\n    };\n\n    LocalStorage.prototype.setItem = function(key, value) {\n      var encodedKey, evnt, existsBeforeSet, filename, hasListeners, metaKey, oldLength, oldValue, valueString, valueStringLength;\n      hasListeners = events.EventEmitter.listenerCount(this, 'storage');\n      oldValue = null;\n      if (hasListeners) {\n        oldValue = this.getItem(key);\n      }\n      key = key.toString();\n      encodedKey = encodeURIComponent(key);\n      filename = path.join(this.location, encodedKey);\n      valueString = value.toString();\n      valueStringLength = valueString.length;\n      metaKey = this.metaKeyMap[key];\n      existsBeforeSet = !!metaKey;\n      if (existsBeforeSet) {\n        oldLength = metaKey.size;\n      } else {\n        oldLength = 0;\n      }\n      if (this.bytesInUse - oldLength + valueStringLength > this.quota) {\n        throw new QUOTA_EXCEEDED_ERR();\n      }\n      fs.writeFileSync(filename, valueString, 'utf8');\n      if (!existsBeforeSet) {\n        metaKey = new MetaKey(encodedKey, (this.keys.push(key)) - 1);\n        metaKey.size = valueStringLength;\n        this.metaKeyMap[key] = metaKey;\n        this.length += 1;\n        this.bytesInUse += valueStringLength;\n      }\n      if (hasListeners) {\n        evnt = new StorageEvent(key, oldValue, value, this.eventUrl);\n        return this.emit('storage', evnt);\n      }\n    };\n\n    LocalStorage.prototype.getItem = function(key) {\n      var filename, metaKey;\n      key = key.toString();\n      metaKey = this.metaKeyMap[key];\n      if (!!metaKey) {\n        filename = path.join(this.location, metaKey.key);\n        return fs.readFileSync(filename, 'utf8');\n      } else {\n        return null;\n      }\n    };\n\n    LocalStorage.prototype.getStat = function(key) {\n      var filename;\n      key = key.toString();\n      filename = path.join(this.location, encodeURIComponent(key));\n      if (fs.existsSync(filename)) {\n        return fs.statSync(filename);\n      } else {\n        return null;\n      }\n    };\n\n    LocalStorage.prototype.removeItem = function(key) {\n      var evnt, filename, hasListeners, k, meta, metaKey, oldValue, v, _ref;\n      key = key.toString();\n      metaKey = this.metaKeyMap[key];\n      if (!!metaKey) {\n        hasListeners = events.EventEmitter.listenerCount(this, 'storage');\n        oldValue = null;\n        if (hasListeners) {\n          oldValue = this.getItem(key);\n        }\n        delete this.metaKeyMap[key];\n        this.length -= 1;\n        this.bytesInUse -= metaKey.size;\n        filename = path.join(this.location, metaKey.key);\n        this.keys.splice(metaKey.index, 1);\n        _ref = this.metaKeyMap;\n        for (k in _ref) {\n          v = _ref[k];\n          meta = this.metaKeyMap[k];\n          if (meta.index > metaKey.index) {\n            meta.index -= 1;\n          }\n        }\n        _rm(filename);\n        if (hasListeners) {\n          evnt = new StorageEvent(key, oldValue, null, this.eventUrl);\n          return this.emit('storage', evnt);\n        }\n      }\n    };\n\n    LocalStorage.prototype.key = function(n) {\n      return this.keys[n];\n    };\n\n    LocalStorage.prototype.clear = function() {\n      var evnt;\n      _emptyDirectory(this.location);\n      this.metaKeyMap = createMap();\n      this.keys = [];\n      this.length = 0;\n      this.bytesInUse = 0;\n      if (events.EventEmitter.listenerCount(this, 'storage')) {\n        evnt = new StorageEvent(null, null, null, this.eventUrl);\n        return this.emit('storage', evnt);\n      }\n    };\n\n    LocalStorage.prototype.getBytesInUse = function() {\n      return this.bytesInUse;\n    };\n\n    LocalStorage.prototype._deleteLocation = function() {\n      _rm(this.location);\n      this.metaKeyMap = {};\n      this.keys = [];\n      this.length = 0;\n      return this.bytesInUse = 0;\n    };\n\n    return LocalStorage;\n\n  })(events.EventEmitter);\n\n  JSONStorage = (function(_super) {\n    __extends(JSONStorage, _super);\n\n    function JSONStorage() {\n      return JSONStorage.__super__.constructor.apply(this, arguments);\n    }\n\n    JSONStorage.prototype.setItem = function(key, value) {\n      var newValue;\n      newValue = JSON.stringify(value);\n      return JSONStorage.__super__.setItem.call(this, key, newValue);\n    };\n\n    JSONStorage.prototype.getItem = function(key) {\n      return JSON.parse(JSONStorage.__super__.getItem.call(this, key));\n    };\n\n    return JSONStorage;\n\n  })(LocalStorage);\n\n  exports.LocalStorage = LocalStorage;\n\n  exports.JSONStorage = JSONStorage;\n\n  exports.QUOTA_EXCEEDED_ERR = QUOTA_EXCEEDED_ERR;\n\n}).call(this);\n\n}).call(this,require('_process'))\n},{\"_process\":86,\"events\":83,\"fs\":13,\"path\":85}],85:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n}).call(this,require('_process'))\n},{\"_process\":86}],86:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],87:[function(require,module,exports){\n/*\nAuthor: Geraint Luff and others\nYear: 2013\n\nThis code is released into the \"public domain\" by its author(s).  Anybody may use, alter and distribute the code without restriction.  The author makes no guarantees, and takes no liability of any kind for use of this code.\n\nIf you find a bug or make an improvement, it would be courteous to let the author know, but it is not compulsory.\n*/\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else if (typeof module !== 'undefined' && module.exports){\n    // CommonJS. Define export.\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.tv4 = factory();\n  }\n}(this, function () {\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys\nif (!Object.keys) {\n\tObject.keys = (function () {\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty,\n\t\t\thasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\n\t\t\tdontEnums = [\n\t\t\t\t'toString',\n\t\t\t\t'toLocaleString',\n\t\t\t\t'valueOf',\n\t\t\t\t'hasOwnProperty',\n\t\t\t\t'isPrototypeOf',\n\t\t\t\t'propertyIsEnumerable',\n\t\t\t\t'constructor'\n\t\t\t],\n\t\t\tdontEnumsLength = dontEnums.length;\n\n\t\treturn function (obj) {\n\t\t\tif (typeof obj !== 'object' && typeof obj !== 'function' || obj === null) {\n\t\t\t\tthrow new TypeError('Object.keys called on non-object');\n\t\t\t}\n\n\t\t\tvar result = [];\n\n\t\t\tfor (var prop in obj) {\n\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\n\t\t\t\t\tresult.push(prop);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasDontEnumBug) {\n\t\t\t\tfor (var i=0; i < dontEnumsLength; i++) {\n\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnums[i])) {\n\t\t\t\t\t\tresult.push(dontEnums[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t})();\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\nif (!Object.create) {\n\tObject.create = (function(){\n\t\tfunction F(){}\n\n\t\treturn function(o){\n\t\t\tif (arguments.length !== 1) {\n\t\t\t\tthrow new Error('Object.create implementation only accepts one parameter.');\n\t\t\t}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t})();\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray\nif(!Array.isArray) {\n\tArray.isArray = function (vArg) {\n\t\treturn Object.prototype.toString.call(vArg) === \"[object Array]\";\n\t};\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\nif (!Array.prototype.indexOf) {\n\tArray.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\n\t\tif (this === null) {\n\t\t\tthrow new TypeError();\n\t\t}\n\t\tvar t = Object(this);\n\t\tvar len = t.length >>> 0;\n\n\t\tif (len === 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar n = 0;\n\t\tif (arguments.length > 1) {\n\t\t\tn = Number(arguments[1]);\n\t\t\tif (n !== n) { // shortcut for verifying if it's NaN\n\t\t\t\tn = 0;\n\t\t\t} else if (n !== 0 && n !== Infinity && n !== -Infinity) {\n\t\t\t\tn = (n > 0 || -1) * Math.floor(Math.abs(n));\n\t\t\t}\n\t\t}\n\t\tif (n >= len) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n\t\tfor (; k < len; k++) {\n\t\t\tif (k in t && t[k] === searchElement) {\n\t\t\t\treturn k;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n}\n\n// Grungey Object.isFrozen hack\nif (!Object.isFrozen) {\n\tObject.isFrozen = function (obj) {\n\t\tvar key = \"tv4_test_frozen_key\";\n\t\twhile (obj.hasOwnProperty(key)) {\n\t\t\tkey += Math.random();\n\t\t}\n\t\ttry {\n\t\t\tobj[key] = true;\n\t\t\tdelete obj[key];\n\t\t\treturn false;\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t};\n}\n// Based on: https://github.com/geraintluff/uri-templates, but with all the de-substitution stuff removed\n\nvar uriTemplateGlobalModifiers = {\n\t\"+\": true,\n\t\"#\": true,\n\t\".\": true,\n\t\"/\": true,\n\t\";\": true,\n\t\"?\": true,\n\t\"&\": true\n};\nvar uriTemplateSuffices = {\n\t\"*\": true\n};\n\nfunction notReallyPercentEncode(string) {\n\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\n\t\treturn \"%\" + doubleEncoded.substring(3);\n\t});\n}\n\nfunction uriTemplateSubstitution(spec) {\n\tvar modifier = \"\";\n\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\n\t\tmodifier = spec.charAt(0);\n\t\tspec = spec.substring(1);\n\t}\n\tvar separator = \"\";\n\tvar prefix = \"\";\n\tvar shouldEscape = true;\n\tvar showVariables = false;\n\tvar trimEmptyString = false;\n\tif (modifier === '+') {\n\t\tshouldEscape = false;\n\t} else if (modifier === \".\") {\n\t\tprefix = \".\";\n\t\tseparator = \".\";\n\t} else if (modifier === \"/\") {\n\t\tprefix = \"/\";\n\t\tseparator = \"/\";\n\t} else if (modifier === '#') {\n\t\tprefix = \"#\";\n\t\tshouldEscape = false;\n\t} else if (modifier === ';') {\n\t\tprefix = \";\";\n\t\tseparator = \";\";\n\t\tshowVariables = true;\n\t\ttrimEmptyString = true;\n\t} else if (modifier === '?') {\n\t\tprefix = \"?\";\n\t\tseparator = \"&\";\n\t\tshowVariables = true;\n\t} else if (modifier === '&') {\n\t\tprefix = \"&\";\n\t\tseparator = \"&\";\n\t\tshowVariables = true;\n\t}\n\n\tvar varNames = [];\n\tvar varList = spec.split(\",\");\n\tvar varSpecs = [];\n\tvar varSpecMap = {};\n\tfor (var i = 0; i < varList.length; i++) {\n\t\tvar varName = varList[i];\n\t\tvar truncate = null;\n\t\tif (varName.indexOf(\":\") !== -1) {\n\t\t\tvar parts = varName.split(\":\");\n\t\t\tvarName = parts[0];\n\t\t\ttruncate = parseInt(parts[1], 10);\n\t\t}\n\t\tvar suffices = {};\n\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\n\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\n\t\t\tvarName = varName.substring(0, varName.length - 1);\n\t\t}\n\t\tvar varSpec = {\n\t\t\ttruncate: truncate,\n\t\t\tname: varName,\n\t\t\tsuffices: suffices\n\t\t};\n\t\tvarSpecs.push(varSpec);\n\t\tvarSpecMap[varName] = varSpec;\n\t\tvarNames.push(varName);\n\t}\n\tvar subFunction = function (valueFunction) {\n\t\tvar result = \"\";\n\t\tvar startIndex = 0;\n\t\tfor (var i = 0; i < varSpecs.length; i++) {\n\t\t\tvar varSpec = varSpecs[i];\n\t\t\tvar value = valueFunction(varSpec.name);\n\t\t\tif (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === 'object' && Object.keys(value).length === 0)) {\n\t\t\t\tstartIndex++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (i === startIndex) {\n\t\t\t\tresult += prefix;\n\t\t\t} else {\n\t\t\t\tresult += (separator || \",\");\n\t\t\t}\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tif (showVariables) {\n\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < value.length; j++) {\n\t\t\t\t\tif (j > 0) {\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\n\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\n\t\t\t\t}\n\t\t\t} else if (typeof value === \"object\") {\n\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\n\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t}\n\t\t\t\tvar first = true;\n\t\t\t\tfor (var key in value) {\n\t\t\t\t\tif (!first) {\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t}\n\t\t\t\t\tfirst = false;\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\n\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (showVariables) {\n\t\t\t\t\tresult += varSpec.name;\n\t\t\t\t\tif (!trimEmptyString || value !== \"\") {\n\t\t\t\t\t\tresult += \"=\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (varSpec.truncate != null) {\n\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\n\t\t\t\t}\n\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\tsubFunction.varNames = varNames;\n\treturn {\n\t\tprefix: prefix,\n\t\tsubstitution: subFunction\n\t};\n}\n\nfunction UriTemplate(template) {\n\tif (!(this instanceof UriTemplate)) {\n\t\treturn new UriTemplate(template);\n\t}\n\tvar parts = template.split(\"{\");\n\tvar textParts = [parts.shift()];\n\tvar prefixes = [];\n\tvar substitutions = [];\n\tvar varNames = [];\n\twhile (parts.length > 0) {\n\t\tvar part = parts.shift();\n\t\tvar spec = part.split(\"}\")[0];\n\t\tvar remainder = part.substring(spec.length + 1);\n\t\tvar funcs = uriTemplateSubstitution(spec);\n\t\tsubstitutions.push(funcs.substitution);\n\t\tprefixes.push(funcs.prefix);\n\t\ttextParts.push(remainder);\n\t\tvarNames = varNames.concat(funcs.substitution.varNames);\n\t}\n\tthis.fill = function (valueFunction) {\n\t\tvar result = textParts[0];\n\t\tfor (var i = 0; i < substitutions.length; i++) {\n\t\t\tvar substitution = substitutions[i];\n\t\t\tresult += substitution(valueFunction);\n\t\t\tresult += textParts[i + 1];\n\t\t}\n\t\treturn result;\n\t};\n\tthis.varNames = varNames;\n\tthis.template = template;\n}\nUriTemplate.prototype = {\n\ttoString: function () {\n\t\treturn this.template;\n\t},\n\tfillFromObject: function (obj) {\n\t\treturn this.fill(function (varName) {\n\t\t\treturn obj[varName];\n\t\t});\n\t}\n};\nvar ValidatorContext = function ValidatorContext(parent, collectMultiple, errorReporter, checkRecursive, trackUnknownProperties) {\n\tthis.missing = [];\n\tthis.missingMap = {};\n\tthis.formatValidators = parent ? Object.create(parent.formatValidators) : {};\n\tthis.schemas = parent ? Object.create(parent.schemas) : {};\n\tthis.collectMultiple = collectMultiple;\n\tthis.errors = [];\n\tthis.handleError = collectMultiple ? this.collectError : this.returnError;\n\tif (checkRecursive) {\n\t\tthis.checkRecursive = true;\n\t\tthis.scanned = [];\n\t\tthis.scannedFrozen = [];\n\t\tthis.scannedFrozenSchemas = [];\n\t\tthis.scannedFrozenValidationErrors = [];\n\t\tthis.validatedSchemasKey = 'tv4_validation_id';\n\t\tthis.validationErrorsKey = 'tv4_validation_errors_id';\n\t}\n\tif (trackUnknownProperties) {\n\t\tthis.trackUnknownProperties = true;\n\t\tthis.knownPropertyPaths = {};\n\t\tthis.unknownPropertyPaths = {};\n\t}\n\tthis.errorReporter = errorReporter || defaultErrorReporter('en');\n\tif (typeof this.errorReporter === 'string') {\n\t\tthrow new Error('debug');\n\t}\n\tthis.definedKeywords = {};\n\tif (parent) {\n\t\tfor (var key in parent.definedKeywords) {\n\t\t\tthis.definedKeywords[key] = parent.definedKeywords[key].slice(0);\n\t\t}\n\t}\n};\nValidatorContext.prototype.defineKeyword = function (keyword, keywordFunction) {\n\tthis.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\n\tthis.definedKeywords[keyword].push(keywordFunction);\n};\nValidatorContext.prototype.createError = function (code, messageParams, dataPath, schemaPath, subErrors, data, schema) {\n\tvar error = new ValidationError(code, messageParams, dataPath, schemaPath, subErrors);\n\terror.message = this.errorReporter(error, data, schema);\n\treturn error;\n};\nValidatorContext.prototype.returnError = function (error) {\n\treturn error;\n};\nValidatorContext.prototype.collectError = function (error) {\n\tif (error) {\n\t\tthis.errors.push(error);\n\t}\n\treturn null;\n};\nValidatorContext.prototype.prefixErrors = function (startIndex, dataPath, schemaPath) {\n\tfor (var i = startIndex; i < this.errors.length; i++) {\n\t\tthis.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\n\t}\n\treturn this;\n};\nValidatorContext.prototype.banUnknownProperties = function (data, schema) {\n\tfor (var unknownPath in this.unknownPropertyPaths) {\n\t\tvar error = this.createError(ErrorCodes.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, \"\", null, data, schema);\n\t\tvar result = this.handleError(error);\n\t\tif (result) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.addFormat = function (format, validator) {\n\tif (typeof format === 'object') {\n\t\tfor (var key in format) {\n\t\t\tthis.addFormat(key, format[key]);\n\t\t}\n\t\treturn this;\n\t}\n\tthis.formatValidators[format] = validator;\n};\nValidatorContext.prototype.resolveRefs = function (schema, urlHistory) {\n\tif (schema['$ref'] !== undefined) {\n\t\turlHistory = urlHistory || {};\n\t\tif (urlHistory[schema['$ref']]) {\n\t\t\treturn this.createError(ErrorCodes.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(', ')}, '', '', null, undefined, schema);\n\t\t}\n\t\turlHistory[schema['$ref']] = true;\n\t\tschema = this.getSchema(schema['$ref'], urlHistory);\n\t}\n\treturn schema;\n};\nValidatorContext.prototype.getSchema = function (url, urlHistory) {\n\tvar schema;\n\tif (this.schemas[url] !== undefined) {\n\t\tschema = this.schemas[url];\n\t\treturn this.resolveRefs(schema, urlHistory);\n\t}\n\tvar baseUrl = url;\n\tvar fragment = \"\";\n\tif (url.indexOf('#') !== -1) {\n\t\tfragment = url.substring(url.indexOf(\"#\") + 1);\n\t\tbaseUrl = url.substring(0, url.indexOf(\"#\"));\n\t}\n\tif (typeof this.schemas[baseUrl] === 'object') {\n\t\tschema = this.schemas[baseUrl];\n\t\tvar pointerPath = decodeURIComponent(fragment);\n\t\tif (pointerPath === \"\") {\n\t\t\treturn this.resolveRefs(schema, urlHistory);\n\t\t} else if (pointerPath.charAt(0) !== \"/\") {\n\t\t\treturn undefined;\n\t\t}\n\t\tvar parts = pointerPath.split(\"/\").slice(1);\n\t\tfor (var i = 0; i < parts.length; i++) {\n\t\t\tvar component = parts[i].replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n\t\t\tif (schema[component] === undefined) {\n\t\t\t\tschema = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tschema = schema[component];\n\t\t}\n\t\tif (schema !== undefined) {\n\t\t\treturn this.resolveRefs(schema, urlHistory);\n\t\t}\n\t}\n\tif (this.missing[baseUrl] === undefined) {\n\t\tthis.missing.push(baseUrl);\n\t\tthis.missing[baseUrl] = baseUrl;\n\t\tthis.missingMap[baseUrl] = baseUrl;\n\t}\n};\nValidatorContext.prototype.searchSchemas = function (schema, url) {\n\tif (Array.isArray(schema)) {\n\t\tfor (var i = 0; i < schema.length; i++) {\n\t\t\tthis.searchSchemas(schema[i], url);\n\t\t}\n\t} else if (schema && typeof schema === \"object\") {\n\t\tif (typeof schema.id === \"string\") {\n\t\t\tif (isTrustedUrl(url, schema.id)) {\n\t\t\t\tif (this.schemas[schema.id] === undefined) {\n\t\t\t\t\tthis.schemas[schema.id] = schema;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var key in schema) {\n\t\t\tif (key !== \"enum\") {\n\t\t\t\tif (typeof schema[key] === \"object\") {\n\t\t\t\t\tthis.searchSchemas(schema[key], url);\n\t\t\t\t} else if (key === \"$ref\") {\n\t\t\t\t\tvar uri = getDocumentUri(schema[key]);\n\t\t\t\t\tif (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\n\t\t\t\t\t\tthis.missingMap[uri] = uri;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\nValidatorContext.prototype.addSchema = function (url, schema) {\n\t//overload\n\tif (typeof url !== 'string' || typeof schema === 'undefined') {\n\t\tif (typeof url === 'object' && typeof url.id === 'string') {\n\t\t\tschema = url;\n\t\t\turl = schema.id;\n\t\t}\n\t\telse {\n\t\t\treturn;\n\t\t}\n\t}\n\tif (url === getDocumentUri(url) + \"#\") {\n\t\t// Remove empty fragment\n\t\turl = getDocumentUri(url);\n\t}\n\tthis.schemas[url] = schema;\n\tdelete this.missingMap[url];\n\tnormSchema(schema, url);\n\tthis.searchSchemas(schema, url);\n};\n\nValidatorContext.prototype.getSchemaMap = function () {\n\tvar map = {};\n\tfor (var key in this.schemas) {\n\t\tmap[key] = this.schemas[key];\n\t}\n\treturn map;\n};\n\nValidatorContext.prototype.getSchemaUris = function (filterRegExp) {\n\tvar list = [];\n\tfor (var key in this.schemas) {\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\n\t\t\tlist.push(key);\n\t\t}\n\t}\n\treturn list;\n};\n\nValidatorContext.prototype.getMissingUris = function (filterRegExp) {\n\tvar list = [];\n\tfor (var key in this.missingMap) {\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\n\t\t\tlist.push(key);\n\t\t}\n\t}\n\treturn list;\n};\n\nValidatorContext.prototype.dropSchemas = function () {\n\tthis.schemas = {};\n\tthis.reset();\n};\nValidatorContext.prototype.reset = function () {\n\tthis.missing = [];\n\tthis.missingMap = {};\n\tthis.errors = [];\n};\n\nValidatorContext.prototype.validateAll = function (data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\n\tvar topLevel;\n\tschema = this.resolveRefs(schema);\n\tif (!schema) {\n\t\treturn null;\n\t} else if (schema instanceof ValidationError) {\n\t\tthis.errors.push(schema);\n\t\treturn schema;\n\t}\n\n\tvar startErrorCount = this.errors.length;\n\tvar frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\n\tif (this.checkRecursive && data && typeof data === 'object') {\n\t\ttopLevel = !this.scanned.length;\n\t\tif (data[this.validatedSchemasKey]) {\n\t\t\tvar schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\n\t\t\tif (schemaIndex !== -1) {\n\t\t\t\tthis.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif (Object.isFrozen(data)) {\n\t\t\tfrozenIndex = this.scannedFrozen.indexOf(data);\n\t\t\tif (frozenIndex !== -1) {\n\t\t\t\tvar frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\n\t\t\t\tif (frozenSchemaIndex !== -1) {\n\t\t\t\t\tthis.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.scanned.push(data);\n\t\tif (Object.isFrozen(data)) {\n\t\t\tif (frozenIndex === -1) {\n\t\t\t\tfrozenIndex = this.scannedFrozen.length;\n\t\t\t\tthis.scannedFrozen.push(data);\n\t\t\t\tthis.scannedFrozenSchemas.push([]);\n\t\t\t}\n\t\t\tscannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\n\t\t\tthis.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\n\t\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\n\t\t} else {\n\t\t\tif (!data[this.validatedSchemasKey]) {\n\t\t\t\ttry {\n\t\t\t\t\tObject.defineProperty(data, this.validatedSchemasKey, {\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\t\t\t\t\tObject.defineProperty(data, this.validationErrorsKey, {\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\t//IE 7/8 workaround\n\t\t\t\t\tdata[this.validatedSchemasKey] = [];\n\t\t\t\t\tdata[this.validationErrorsKey] = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tscannedSchemasIndex = data[this.validatedSchemasKey].length;\n\t\t\tdata[this.validatedSchemasKey][scannedSchemasIndex] = schema;\n\t\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = [];\n\t\t}\n\t}\n\n\tvar errorCount = this.errors.length;\n\tvar error = this.validateBasic(data, schema, dataPointerPath)\n\t\t|| this.validateNumeric(data, schema, dataPointerPath)\n\t\t|| this.validateString(data, schema, dataPointerPath)\n\t\t|| this.validateArray(data, schema, dataPointerPath)\n\t\t|| this.validateObject(data, schema, dataPointerPath)\n\t\t|| this.validateCombinations(data, schema, dataPointerPath)\n\t\t|| this.validateHypermedia(data, schema, dataPointerPath)\n\t\t|| this.validateFormat(data, schema, dataPointerPath)\n\t\t|| this.validateDefinedKeywords(data, schema, dataPointerPath)\n\t\t|| null;\n\n\tif (topLevel) {\n\t\twhile (this.scanned.length) {\n\t\t\tvar item = this.scanned.pop();\n\t\t\tdelete item[this.validatedSchemasKey];\n\t\t}\n\t\tthis.scannedFrozen = [];\n\t\tthis.scannedFrozenSchemas = [];\n\t}\n\n\tif (error || errorCount !== this.errors.length) {\n\t\twhile ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\n\t\t\tvar dataPart = (dataPathParts && dataPathParts.length) ? \"\" + dataPathParts.pop() : null;\n\t\t\tvar schemaPart = (schemaPathParts && schemaPathParts.length) ? \"\" + schemaPathParts.pop() : null;\n\t\t\tif (error) {\n\t\t\t\terror = error.prefixWith(dataPart, schemaPart);\n\t\t\t}\n\t\t\tthis.prefixErrors(errorCount, dataPart, schemaPart);\n\t\t}\n\t}\n\n\tif (scannedFrozenSchemaIndex !== null) {\n\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\n\t} else if (scannedSchemasIndex !== null) {\n\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\n\t}\n\n\treturn this.handleError(error);\n};\nValidatorContext.prototype.validateFormat = function (data, schema) {\n\tif (typeof schema.format !== 'string' || !this.formatValidators[schema.format]) {\n\t\treturn null;\n\t}\n\tvar errorMessage = this.formatValidators[schema.format].call(null, data, schema);\n\tif (typeof errorMessage === 'string' || typeof errorMessage === 'number') {\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage}, '', '/format', null, data, schema);\n\t} else if (errorMessage && typeof errorMessage === 'object') {\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage.message || \"?\"}, errorMessage.dataPath || '', errorMessage.schemaPath || \"/format\", null, data, schema);\n\t}\n\treturn null;\n};\nValidatorContext.prototype.validateDefinedKeywords = function (data, schema, dataPointerPath) {\n\tfor (var key in this.definedKeywords) {\n\t\tif (typeof schema[key] === 'undefined') {\n\t\t\tcontinue;\n\t\t}\n\t\tvar validationFunctions = this.definedKeywords[key];\n\t\tfor (var i = 0; i < validationFunctions.length; i++) {\n\t\t\tvar func = validationFunctions[i];\n\t\t\tvar result = func(data, schema[key], schema, dataPointerPath);\n\t\t\tif (typeof result === 'string' || typeof result === 'number') {\n\t\t\t\treturn this.createError(ErrorCodes.KEYWORD_CUSTOM, {key: key, message: result}, '', '', null, data, schema).prefixWith(null, key);\n\t\t\t} else if (result && typeof result === 'object') {\n\t\t\t\tvar code = result.code;\n\t\t\t\tif (typeof code === 'string') {\n\t\t\t\t\tif (!ErrorCodes[code]) {\n\t\t\t\t\t\tthrow new Error('Undefined error code (use defineError): ' + code);\n\t\t\t\t\t}\n\t\t\t\t\tcode = ErrorCodes[code];\n\t\t\t\t} else if (typeof code !== 'number') {\n\t\t\t\t\tcode = ErrorCodes.KEYWORD_CUSTOM;\n\t\t\t\t}\n\t\t\t\tvar messageParams = (typeof result.message === 'object') ? result.message : {key: key, message: result.message || \"?\"};\n\t\t\t\tvar schemaPath = result.schemaPath || (\"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1'));\n\t\t\t\treturn this.createError(code, messageParams, result.dataPath || null, schemaPath, null, data, schema);\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nfunction recursiveCompare(A, B) {\n\tif (A === B) {\n\t\treturn true;\n\t}\n\tif (A && B && typeof A === \"object\" && typeof B === \"object\") {\n\t\tif (Array.isArray(A) !== Array.isArray(B)) {\n\t\t\treturn false;\n\t\t} else if (Array.isArray(A)) {\n\t\t\tif (A.length !== B.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < A.length; i++) {\n\t\t\t\tif (!recursiveCompare(A[i], B[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar key;\n\t\t\tfor (key in A) {\n\t\t\t\tif (B[key] === undefined && A[key] !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (key in B) {\n\t\t\t\tif (A[key] === undefined && B[key] !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (key in A) {\n\t\t\t\tif (!recursiveCompare(A[key], B[key])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nValidatorContext.prototype.validateBasic = function validateBasic(data, schema, dataPointerPath) {\n\tvar error;\n\tif (error = this.validateType(data, schema, dataPointerPath)) {\n\t\treturn error.prefixWith(null, \"type\");\n\t}\n\tif (error = this.validateEnum(data, schema, dataPointerPath)) {\n\t\treturn error.prefixWith(null, \"type\");\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateType = function validateType(data, schema) {\n\tif (schema.type === undefined) {\n\t\treturn null;\n\t}\n\tvar dataType = typeof data;\n\tif (data === null) {\n\t\tdataType = \"null\";\n\t} else if (Array.isArray(data)) {\n\t\tdataType = \"array\";\n\t}\n\tvar allowedTypes = schema.type;\n\tif (!Array.isArray(allowedTypes)) {\n\t\tallowedTypes = [allowedTypes];\n\t}\n\n\tfor (var i = 0; i < allowedTypes.length; i++) {\n\t\tvar type = allowedTypes[i];\n\t\tif (type === dataType || (type === \"integer\" && dataType === \"number\" && (data % 1 === 0))) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn this.createError(ErrorCodes.INVALID_TYPE, {type: dataType, expected: allowedTypes.join(\"/\")}, '', '', null, data, schema);\n};\n\nValidatorContext.prototype.validateEnum = function validateEnum(data, schema) {\n\tif (schema[\"enum\"] === undefined) {\n\t\treturn null;\n\t}\n\tfor (var i = 0; i < schema[\"enum\"].length; i++) {\n\t\tvar enumVal = schema[\"enum\"][i];\n\t\tif (recursiveCompare(data, enumVal)) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn this.createError(ErrorCodes.ENUM_MISMATCH, {value: (typeof JSON !== 'undefined') ? JSON.stringify(data) : data}, '', '', null, data, schema);\n};\n\nValidatorContext.prototype.validateNumeric = function validateNumeric(data, schema, dataPointerPath) {\n\treturn this.validateMultipleOf(data, schema, dataPointerPath)\n\t\t|| this.validateMinMax(data, schema, dataPointerPath)\n\t\t|| this.validateNaN(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nvar CLOSE_ENOUGH_LOW = Math.pow(2, -51);\nvar CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\nValidatorContext.prototype.validateMultipleOf = function validateMultipleOf(data, schema) {\n\tvar multipleOf = schema.multipleOf || schema.divisibleBy;\n\tif (multipleOf === undefined) {\n\t\treturn null;\n\t}\n\tif (typeof data === \"number\") {\n\t\tvar remainder = (data/multipleOf)%1;\n\t\tif (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf}, '', '', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateMinMax = function validateMinMax(data, schema) {\n\tif (typeof data !== \"number\") {\n\t\treturn null;\n\t}\n\tif (schema.minimum !== undefined) {\n\t\tif (data < schema.minimum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}, '', '/minimum', null, data, schema);\n\t\t}\n\t\tif (schema.exclusiveMinimum && data === schema.minimum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}, '', '/exclusiveMinimum', null, data, schema);\n\t\t}\n\t}\n\tif (schema.maximum !== undefined) {\n\t\tif (data > schema.maximum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}, '', '/maximum', null, data, schema);\n\t\t}\n\t\tif (schema.exclusiveMaximum && data === schema.maximum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}, '', '/exclusiveMaximum', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateNaN = function validateNaN(data, schema) {\n\tif (typeof data !== \"number\") {\n\t\treturn null;\n\t}\n\tif (isNaN(data) === true || data === Infinity || data === -Infinity) {\n\t\treturn this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER, {value: data}, '', '/type', null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateString = function validateString(data, schema, dataPointerPath) {\n\treturn this.validateStringLength(data, schema, dataPointerPath)\n\t\t|| this.validateStringPattern(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateStringLength = function validateStringLength(data, schema) {\n\tif (typeof data !== \"string\") {\n\t\treturn null;\n\t}\n\tif (schema.minLength !== undefined) {\n\t\tif (data.length < schema.minLength) {\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}, '', '/minLength', null, data, schema);\n\t\t}\n\t}\n\tif (schema.maxLength !== undefined) {\n\t\tif (data.length > schema.maxLength) {\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}, '', '/maxLength', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateStringPattern = function validateStringPattern(data, schema) {\n\tif (typeof data !== \"string\" || (typeof schema.pattern !== \"string\" && !(schema.pattern instanceof RegExp))) {\n\t\treturn null;\n\t}\n\tvar regexp;\n\tif (schema.pattern instanceof RegExp) {\n\t  regexp = schema.pattern;\n\t}\n\telse {\n\t  var body, flags = '';\n\t  // Check for regular expression literals\n\t  // @see http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5\n\t  var literal = schema.pattern.match(/^\\/(.+)\\/([img]*)$/);\n\t  if (literal) {\n\t    body = literal[1];\n\t    flags = literal[2];\n\t  }\n\t  else {\n\t    body = schema.pattern;\n\t  }\n\t  regexp = new RegExp(body, flags);\n\t}\n\tif (!regexp.test(data)) {\n\t\treturn this.createError(ErrorCodes.STRING_PATTERN, {pattern: schema.pattern}, '', '/pattern', null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArray = function validateArray(data, schema, dataPointerPath) {\n\tif (!Array.isArray(data)) {\n\t\treturn null;\n\t}\n\treturn this.validateArrayLength(data, schema, dataPointerPath)\n\t\t|| this.validateArrayUniqueItems(data, schema, dataPointerPath)\n\t\t|| this.validateArrayItems(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateArrayLength = function validateArrayLength(data, schema) {\n\tvar error;\n\tif (schema.minItems !== undefined) {\n\t\tif (data.length < schema.minItems) {\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems}, '', '/minItems', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\tif (schema.maxItems !== undefined) {\n\t\tif (data.length > schema.maxItems) {\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems}, '', '/maxItems', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArrayUniqueItems = function validateArrayUniqueItems(data, schema) {\n\tif (schema.uniqueItems) {\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tfor (var j = i + 1; j < data.length; j++) {\n\t\t\t\tif (recursiveCompare(data[i], data[j])) {\n\t\t\t\t\tvar error = this.createError(ErrorCodes.ARRAY_UNIQUE, {match1: i, match2: j}, '', '/uniqueItems', null, data, schema);\n\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArrayItems = function validateArrayItems(data, schema, dataPointerPath) {\n\tif (schema.items === undefined) {\n\t\treturn null;\n\t}\n\tvar error, i;\n\tif (Array.isArray(schema.items)) {\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tif (i < schema.items.length) {\n\t\t\t\tif (error = this.validateAll(data[i], schema.items[i], [i], [\"items\", i], dataPointerPath + \"/\" + i)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t} else if (schema.additionalItems !== undefined) {\n\t\t\t\tif (typeof schema.additionalItems === \"boolean\") {\n\t\t\t\t\tif (!schema.additionalItems) {\n\t\t\t\t\t\terror = (this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS, {}, '/' + i, '/additionalItems', null, data, schema));\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (error = this.validateAll(data[i], schema.additionalItems, [i], [\"additionalItems\"], dataPointerPath + \"/\" + i)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tif (error = this.validateAll(data[i], schema.items, [i], [\"items\"], dataPointerPath + \"/\" + i)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObject = function validateObject(data, schema, dataPointerPath) {\n\tif (typeof data !== \"object\" || data === null || Array.isArray(data)) {\n\t\treturn null;\n\t}\n\treturn this.validateObjectMinMaxProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectRequiredProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectDependencies(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateObjectMinMaxProperties = function validateObjectMinMaxProperties(data, schema) {\n\tvar keys = Object.keys(data);\n\tvar error;\n\tif (schema.minProperties !== undefined) {\n\t\tif (keys.length < schema.minProperties) {\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}, '', '/minProperties', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\tif (schema.maxProperties !== undefined) {\n\t\tif (keys.length > schema.maxProperties) {\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}, '', '/maxProperties', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectRequiredProperties = function validateObjectRequiredProperties(data, schema) {\n\tif (schema.required !== undefined) {\n\t\tfor (var i = 0; i < schema.required.length; i++) {\n\t\t\tvar key = schema.required[i];\n\t\t\tif (data[key] === undefined) {\n\t\t\t\tvar error = this.createError(ErrorCodes.OBJECT_REQUIRED, {key: key}, '', '/required/' + i, null, data, schema);\n\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectProperties = function validateObjectProperties(data, schema, dataPointerPath) {\n\tvar error;\n\tfor (var key in data) {\n\t\tvar keyPointerPath = dataPointerPath + \"/\" + key.replace(/~/g, '~0').replace(/\\//g, '~1');\n\t\tvar foundMatch = false;\n\t\tif (schema.properties !== undefined && schema.properties[key] !== undefined) {\n\t\t\tfoundMatch = true;\n\t\t\tif (error = this.validateAll(data[key], schema.properties[key], [key], [\"properties\", key], keyPointerPath)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t\tif (schema.patternProperties !== undefined) {\n\t\t\tfor (var patternKey in schema.patternProperties) {\n\t\t\t\tvar regexp = new RegExp(patternKey);\n\t\t\t\tif (regexp.test(key)) {\n\t\t\t\t\tfoundMatch = true;\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], [\"patternProperties\", patternKey], keyPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!foundMatch) {\n\t\t\tif (schema.additionalProperties !== undefined) {\n\t\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\n\t\t\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\n\t\t\t\t}\n\t\t\t\tif (typeof schema.additionalProperties === \"boolean\") {\n\t\t\t\t\tif (!schema.additionalProperties) {\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES, {key: key}, '', '/additionalProperties', null, data, schema).prefixWith(key, null);\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.additionalProperties, [key], [\"additionalProperties\"], keyPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\n\t\t\t\tthis.unknownPropertyPaths[keyPointerPath] = true;\n\t\t\t}\n\t\t} else if (this.trackUnknownProperties) {\n\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\n\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectDependencies = function validateObjectDependencies(data, schema, dataPointerPath) {\n\tvar error;\n\tif (schema.dependencies !== undefined) {\n\t\tfor (var depKey in schema.dependencies) {\n\t\t\tif (data[depKey] !== undefined) {\n\t\t\t\tvar dep = schema.dependencies[depKey];\n\t\t\t\tif (typeof dep === \"string\") {\n\t\t\t\t\tif (data[dep] === undefined) {\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}, '', '', null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (Array.isArray(dep)) {\n\t\t\t\t\tfor (var i = 0; i < dep.length; i++) {\n\t\t\t\t\t\tvar requiredKey = dep[i];\n\t\t\t\t\t\tif (data[requiredKey] === undefined) {\n\t\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}, '', '/' + i, null, data, schema).prefixWith(null, depKey).prefixWith(null, \"dependencies\");\n\t\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error = this.validateAll(data, dep, [], [\"dependencies\", depKey], dataPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateCombinations = function validateCombinations(data, schema, dataPointerPath) {\n\treturn this.validateAllOf(data, schema, dataPointerPath)\n\t\t|| this.validateAnyOf(data, schema, dataPointerPath)\n\t\t|| this.validateOneOf(data, schema, dataPointerPath)\n\t\t|| this.validateNot(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateAllOf = function validateAllOf(data, schema, dataPointerPath) {\n\tif (schema.allOf === undefined) {\n\t\treturn null;\n\t}\n\tvar error;\n\tfor (var i = 0; i < schema.allOf.length; i++) {\n\t\tvar subSchema = schema.allOf[i];\n\t\tif (error = this.validateAll(data, subSchema, [], [\"allOf\", i], dataPointerPath)) {\n\t\t\treturn error;\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateAnyOf = function validateAnyOf(data, schema, dataPointerPath) {\n\tif (schema.anyOf === undefined) {\n\t\treturn null;\n\t}\n\tvar errors = [];\n\tvar startErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t}\n\tvar errorAtEnd = true;\n\tfor (var i = 0; i < schema.anyOf.length; i++) {\n\t\tif (this.trackUnknownProperties) {\n\t\t\tthis.unknownPropertyPaths = {};\n\t\t\tthis.knownPropertyPaths = {};\n\t\t}\n\t\tvar subSchema = schema.anyOf[i];\n\n\t\tvar errorCount = this.errors.length;\n\t\tvar error = this.validateAll(data, subSchema, [], [\"anyOf\", i], dataPointerPath);\n\n\t\tif (error === null && errorCount === this.errors.length) {\n\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\n\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\n\t\t\t\t}\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// We need to continue looping so we catch all the property definitions, but we don't want to return an error\n\t\t\t\terrorAtEnd = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t\tif (error) {\n\t\t\terrors.push(error.prefixWith(null, \"\" + i).prefixWith(null, \"anyOf\"));\n\t\t}\n\t}\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (errorAtEnd) {\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\treturn this.createError(ErrorCodes.ANY_OF_MISSING, {}, \"\", \"/anyOf\", errors, data, schema);\n\t}\n};\n\nValidatorContext.prototype.validateOneOf = function validateOneOf(data, schema, dataPointerPath) {\n\tif (schema.oneOf === undefined) {\n\t\treturn null;\n\t}\n\tvar validIndex = null;\n\tvar errors = [];\n\tvar startErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t}\n\tfor (var i = 0; i < schema.oneOf.length; i++) {\n\t\tif (this.trackUnknownProperties) {\n\t\t\tthis.unknownPropertyPaths = {};\n\t\t\tthis.knownPropertyPaths = {};\n\t\t}\n\t\tvar subSchema = schema.oneOf[i];\n\n\t\tvar errorCount = this.errors.length;\n\t\tvar error = this.validateAll(data, subSchema, [], [\"oneOf\", i], dataPointerPath);\n\n\t\tif (error === null && errorCount === this.errors.length) {\n\t\t\tif (validIndex === null) {\n\t\t\t\tvalidIndex = i;\n\t\t\t} else {\n\t\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\t\t\treturn this.createError(ErrorCodes.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, \"\", \"/oneOf\", null, data, schema);\n\t\t\t}\n\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\n\t\t\t\t}\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (error) {\n\t\t\terrors.push(error);\n\t\t}\n\t}\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (validIndex === null) {\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\treturn this.createError(ErrorCodes.ONE_OF_MISSING, {}, \"\", \"/oneOf\", errors, data, schema);\n\t} else {\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateNot = function validateNot(data, schema, dataPointerPath) {\n\tif (schema.not === undefined) {\n\t\treturn null;\n\t}\n\tvar oldErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t\tthis.unknownPropertyPaths = {};\n\t\tthis.knownPropertyPaths = {};\n\t}\n\tvar error = this.validateAll(data, schema.not, null, null, dataPointerPath);\n\tvar notErrors = this.errors.slice(oldErrorCount);\n\tthis.errors = this.errors.slice(0, oldErrorCount);\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (error === null && notErrors.length === 0) {\n\t\treturn this.createError(ErrorCodes.NOT_PASSED, {}, \"\", \"/not\", null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateHypermedia = function validateCombinations(data, schema, dataPointerPath) {\n\tif (!schema.links) {\n\t\treturn null;\n\t}\n\tvar error;\n\tfor (var i = 0; i < schema.links.length; i++) {\n\t\tvar ldo = schema.links[i];\n\t\tif (ldo.rel === \"describedby\") {\n\t\t\tvar template = new UriTemplate(ldo.href);\n\t\t\tvar allPresent = true;\n\t\t\tfor (var j = 0; j < template.varNames.length; j++) {\n\t\t\t\tif (!(template.varNames[j] in data)) {\n\t\t\t\t\tallPresent = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (allPresent) {\n\t\t\t\tvar schemaUrl = template.fillFromObject(data);\n\t\t\t\tvar subSchema = {\"$ref\": schemaUrl};\n\t\t\t\tif (error = this.validateAll(data, subSchema, [], [\"links\", i], dataPointerPath)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\n//   -  released as public domain by author (\"Yaffle\") - see comments on gist\n\nfunction parseURI(url) {\n\tvar m = String(url).replace(/^\\s+|\\s+$/g, '').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\n\t// authority = '//' + user + ':' + pass '@' + hostname + ':' port\n\treturn (m ? {\n\t\thref     : m[0] || '',\n\t\tprotocol : m[1] || '',\n\t\tauthority: m[2] || '',\n\t\thost     : m[3] || '',\n\t\thostname : m[4] || '',\n\t\tport     : m[5] || '',\n\t\tpathname : m[6] || '',\n\t\tsearch   : m[7] || '',\n\t\thash     : m[8] || ''\n\t} : null);\n}\n\nfunction resolveUrl(base, href) {// RFC 3986\n\n\tfunction removeDotSegments(input) {\n\t\tvar output = [];\n\t\tinput.replace(/^(\\.\\.?(\\/|$))+/, '')\n\t\t\t.replace(/\\/(\\.(\\/|$))+/g, '/')\n\t\t\t.replace(/\\/\\.\\.$/, '/../')\n\t\t\t.replace(/\\/?[^\\/]*/g, function (p) {\n\t\t\t\tif (p === '/..') {\n\t\t\t\t\toutput.pop();\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(p);\n\t\t\t\t}\n\t\t});\n\t\treturn output.join('').replace(/^\\//, input.charAt(0) === '/' ? '/' : '');\n\t}\n\n\thref = parseURI(href || '');\n\tbase = parseURI(base || '');\n\n\treturn !href || !base ? null : (href.protocol || base.protocol) +\n\t\t(href.protocol || href.authority ? href.authority : base.authority) +\n\t\tremoveDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === '/' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? '/' : '') + base.pathname.slice(0, base.pathname.lastIndexOf('/') + 1) + href.pathname) : base.pathname)) +\n\t\t(href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\n\t\thref.hash;\n}\n\nfunction getDocumentUri(uri) {\n\treturn uri.split('#')[0];\n}\nfunction normSchema(schema, baseUri) {\n\tif (schema && typeof schema === \"object\") {\n\t\tif (baseUri === undefined) {\n\t\t\tbaseUri = schema.id;\n\t\t} else if (typeof schema.id === \"string\") {\n\t\t\tbaseUri = resolveUrl(baseUri, schema.id);\n\t\t\tschema.id = baseUri;\n\t\t}\n\t\tif (Array.isArray(schema)) {\n\t\t\tfor (var i = 0; i < schema.length; i++) {\n\t\t\t\tnormSchema(schema[i], baseUri);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof schema['$ref'] === \"string\") {\n\t\t\t\tschema['$ref'] = resolveUrl(baseUri, schema['$ref']);\n\t\t\t}\n\t\t\tfor (var key in schema) {\n\t\t\t\tif (key !== \"enum\") {\n\t\t\t\t\tnormSchema(schema[key], baseUri);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction defaultErrorReporter(language) {\n\tlanguage = language || 'en';\n\n\tvar errorMessages = languages[language];\n\n\treturn function (error) {\n\t\tvar messageTemplate = errorMessages[error.code] || ErrorMessagesDefault[error.code];\n\t\tif (typeof messageTemplate !== 'string') {\n\t\t\treturn \"Unknown error code \" + error.code + \": \" + JSON.stringify(error.messageParams);\n\t\t}\n\t\tvar messageParams = error.params;\n\t\t// Adapted from Crockford's supplant()\n\t\treturn messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\n\t\t\tvar subValue = messageParams[varName];\n\t\t\treturn typeof subValue === 'string' || typeof subValue === 'number' ? subValue : whole;\n\t\t});\n\t};\n}\n\nvar ErrorCodes = {\n\tINVALID_TYPE: 0,\n\tENUM_MISMATCH: 1,\n\tANY_OF_MISSING: 10,\n\tONE_OF_MISSING: 11,\n\tONE_OF_MULTIPLE: 12,\n\tNOT_PASSED: 13,\n\t// Numeric errors\n\tNUMBER_MULTIPLE_OF: 100,\n\tNUMBER_MINIMUM: 101,\n\tNUMBER_MINIMUM_EXCLUSIVE: 102,\n\tNUMBER_MAXIMUM: 103,\n\tNUMBER_MAXIMUM_EXCLUSIVE: 104,\n\tNUMBER_NOT_A_NUMBER: 105,\n\t// String errors\n\tSTRING_LENGTH_SHORT: 200,\n\tSTRING_LENGTH_LONG: 201,\n\tSTRING_PATTERN: 202,\n\t// Object errors\n\tOBJECT_PROPERTIES_MINIMUM: 300,\n\tOBJECT_PROPERTIES_MAXIMUM: 301,\n\tOBJECT_REQUIRED: 302,\n\tOBJECT_ADDITIONAL_PROPERTIES: 303,\n\tOBJECT_DEPENDENCY_KEY: 304,\n\t// Array errors\n\tARRAY_LENGTH_SHORT: 400,\n\tARRAY_LENGTH_LONG: 401,\n\tARRAY_UNIQUE: 402,\n\tARRAY_ADDITIONAL_ITEMS: 403,\n\t// Custom/user-defined errors\n\tFORMAT_CUSTOM: 500,\n\tKEYWORD_CUSTOM: 501,\n\t// Schema structure\n\tCIRCULAR_REFERENCE: 600,\n\t// Non-standard validation options\n\tUNKNOWN_PROPERTY: 1000\n};\nvar ErrorCodeLookup = {};\nfor (var key in ErrorCodes) {\n\tErrorCodeLookup[ErrorCodes[key]] = key;\n}\nvar ErrorMessagesDefault = {\n\tINVALID_TYPE: \"Invalid type: {type} (expected {expected})\",\n\tENUM_MISMATCH: \"No enum match for: {value}\",\n\tANY_OF_MISSING: \"Data does not match any schemas from \\\"anyOf\\\"\",\n\tONE_OF_MISSING: \"Data does not match any schemas from \\\"oneOf\\\"\",\n\tONE_OF_MULTIPLE: \"Data is valid against more than one schema from \\\"oneOf\\\": indices {index1} and {index2}\",\n\tNOT_PASSED: \"Data matches schema from \\\"not\\\"\",\n\t// Numeric errors\n\tNUMBER_MULTIPLE_OF: \"Value {value} is not a multiple of {multipleOf}\",\n\tNUMBER_MINIMUM: \"Value {value} is less than minimum {minimum}\",\n\tNUMBER_MINIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive minimum {minimum}\",\n\tNUMBER_MAXIMUM: \"Value {value} is greater than maximum {maximum}\",\n\tNUMBER_MAXIMUM_EXCLUSIVE: \"Value {value} is equal to exclusive maximum {maximum}\",\n\tNUMBER_NOT_A_NUMBER: \"Value {value} is not a valid number\",\n\t// String errors\n\tSTRING_LENGTH_SHORT: \"String is too short ({length} chars), minimum {minimum}\",\n\tSTRING_LENGTH_LONG: \"String is too long ({length} chars), maximum {maximum}\",\n\tSTRING_PATTERN: \"String does not match pattern: {pattern}\",\n\t// Object errors\n\tOBJECT_PROPERTIES_MINIMUM: \"Too few properties defined ({propertyCount}), minimum {minimum}\",\n\tOBJECT_PROPERTIES_MAXIMUM: \"Too many properties defined ({propertyCount}), maximum {maximum}\",\n\tOBJECT_REQUIRED: \"Missing required property: {key}\",\n\tOBJECT_ADDITIONAL_PROPERTIES: \"Additional properties not allowed\",\n\tOBJECT_DEPENDENCY_KEY: \"Dependency failed - key must exist: {missing} (due to key: {key})\",\n\t// Array errors\n\tARRAY_LENGTH_SHORT: \"Array is too short ({length}), minimum {minimum}\",\n\tARRAY_LENGTH_LONG: \"Array is too long ({length}), maximum {maximum}\",\n\tARRAY_UNIQUE: \"Array items are not unique (indices {match1} and {match2})\",\n\tARRAY_ADDITIONAL_ITEMS: \"Additional items not allowed\",\n\t// Format errors\n\tFORMAT_CUSTOM: \"Format validation failed ({message})\",\n\tKEYWORD_CUSTOM: \"Keyword failed: {key} ({message})\",\n\t// Schema structure\n\tCIRCULAR_REFERENCE: \"Circular $refs: {urls}\",\n\t// Non-standard validation options\n\tUNKNOWN_PROPERTY: \"Unknown property (not in schema)\"\n};\n\nfunction ValidationError(code, params, dataPath, schemaPath, subErrors) {\n\tError.call(this);\n\tif (code === undefined) {\n\t\tthrow new Error (\"No error code supplied: \" + schemaPath);\n\t}\n\tthis.message = '';\n\tthis.params = params;\n\tthis.code = code;\n\tthis.dataPath = dataPath || \"\";\n\tthis.schemaPath = schemaPath || \"\";\n\tthis.subErrors = subErrors || null;\n\n\tvar err = new Error(this.message);\n\tthis.stack = err.stack || err.stacktrace;\n\tif (!this.stack) {\n\t\ttry {\n\t\t\tthrow err;\n\t\t}\n\t\tcatch(err) {\n\t\t\tthis.stack = err.stack || err.stacktrace;\n\t\t}\n\t}\n}\nValidationError.prototype = Object.create(Error.prototype);\nValidationError.prototype.constructor = ValidationError;\nValidationError.prototype.name = 'ValidationError';\n\nValidationError.prototype.prefixWith = function (dataPrefix, schemaPrefix) {\n\tif (dataPrefix !== null) {\n\t\tdataPrefix = dataPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n\t\tthis.dataPath = \"/\" + dataPrefix + this.dataPath;\n\t}\n\tif (schemaPrefix !== null) {\n\t\tschemaPrefix = schemaPrefix.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n\t\tthis.schemaPath = \"/\" + schemaPrefix + this.schemaPath;\n\t}\n\tif (this.subErrors !== null) {\n\t\tfor (var i = 0; i < this.subErrors.length; i++) {\n\t\t\tthis.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\n\t\t}\n\t}\n\treturn this;\n};\n\nfunction isTrustedUrl(baseUrl, testUrl) {\n\tif(testUrl.substring(0, baseUrl.length) === baseUrl){\n\t\tvar remainder = testUrl.substring(baseUrl.length);\n\t\tif ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === \"/\")\n\t\t\t|| remainder.charAt(0) === \"#\"\n\t\t\t|| remainder.charAt(0) === \"?\") {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nvar languages = {};\nfunction createApi(language) {\n\tvar globalContext = new ValidatorContext();\n\tvar currentLanguage;\n\tvar customErrorReporter;\n\tvar api = {\n\t\tsetErrorReporter: function (reporter) {\n\t\t\tif (typeof reporter === 'string') {\n\t\t\t\treturn this.language(reporter);\n\t\t\t}\n\t\t\tcustomErrorReporter = reporter;\n\t\t\treturn true;\n\t\t},\n\t\taddFormat: function () {\n\t\t\tglobalContext.addFormat.apply(globalContext, arguments);\n\t\t},\n\t\tlanguage: function (code) {\n\t\t\tif (!code) {\n\t\t\t\treturn currentLanguage;\n\t\t\t}\n\t\t\tif (!languages[code]) {\n\t\t\t\tcode = code.split('-')[0]; // fall back to base language\n\t\t\t}\n\t\t\tif (languages[code]) {\n\t\t\t\tcurrentLanguage = code;\n\t\t\t\treturn code; // so you can tell if fall-back has happened\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\taddLanguage: function (code, messageMap) {\n\t\t\tvar key;\n\t\t\tfor (key in ErrorCodes) {\n\t\t\t\tif (messageMap[key] && !messageMap[ErrorCodes[key]]) {\n\t\t\t\t\tmessageMap[ErrorCodes[key]] = messageMap[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar rootCode = code.split('-')[0];\n\t\t\tif (!languages[rootCode]) { // use for base language if not yet defined\n\t\t\t\tlanguages[code] = messageMap;\n\t\t\t\tlanguages[rootCode] = messageMap;\n\t\t\t} else {\n\t\t\t\tlanguages[code] = Object.create(languages[rootCode]);\n\t\t\t\tfor (key in messageMap) {\n\t\t\t\t\tif (typeof languages[rootCode][key] === 'undefined') {\n\t\t\t\t\t\tlanguages[rootCode][key] = messageMap[key];\n\t\t\t\t\t}\n\t\t\t\t\tlanguages[code][key] = messageMap[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tfreshApi: function (language) {\n\t\t\tvar result = createApi();\n\t\t\tif (language) {\n\t\t\t\tresult.language(language);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tvalidate: function (data, schema, checkRecursive, banUnknownProperties) {\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\n\t\t\t} : def;\n\t\t\tvar context = new ValidatorContext(globalContext, false, errorReporter, checkRecursive, banUnknownProperties);\n\t\t\tif (typeof schema === \"string\") {\n\t\t\t\tschema = {\"$ref\": schema};\n\t\t\t}\n\t\t\tcontext.addSchema(\"\", schema);\n\t\t\tvar error = context.validateAll(data, schema, null, null, \"\");\n\t\t\tif (!error && banUnknownProperties) {\n\t\t\t\terror = context.banUnknownProperties(data, schema);\n\t\t\t}\n\t\t\tthis.error = error;\n\t\t\tthis.missing = context.missing;\n\t\t\tthis.valid = (error === null);\n\t\t\treturn this.valid;\n\t\t},\n\t\tvalidateResult: function () {\n\t\t\tvar result = {};\n\t\t\tthis.validate.apply(result, arguments);\n\t\t\treturn result;\n\t\t},\n\t\tvalidateMultiple: function (data, schema, checkRecursive, banUnknownProperties) {\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\n\t\t\t} : def;\n\t\t\tvar context = new ValidatorContext(globalContext, true, errorReporter, checkRecursive, banUnknownProperties);\n\t\t\tif (typeof schema === \"string\") {\n\t\t\t\tschema = {\"$ref\": schema};\n\t\t\t}\n\t\t\tcontext.addSchema(\"\", schema);\n\t\t\tcontext.validateAll(data, schema, null, null, \"\");\n\t\t\tif (banUnknownProperties) {\n\t\t\t\tcontext.banUnknownProperties(data, schema);\n\t\t\t}\n\t\t\tvar result = {};\n\t\t\tresult.errors = context.errors;\n\t\t\tresult.missing = context.missing;\n\t\t\tresult.valid = (result.errors.length === 0);\n\t\t\treturn result;\n\t\t},\n\t\taddSchema: function () {\n\t\t\treturn globalContext.addSchema.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchema: function () {\n\t\t\treturn globalContext.getSchema.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchemaMap: function () {\n\t\t\treturn globalContext.getSchemaMap.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchemaUris: function () {\n\t\t\treturn globalContext.getSchemaUris.apply(globalContext, arguments);\n\t\t},\n\t\tgetMissingUris: function () {\n\t\t\treturn globalContext.getMissingUris.apply(globalContext, arguments);\n\t\t},\n\t\tdropSchemas: function () {\n\t\t\tglobalContext.dropSchemas.apply(globalContext, arguments);\n\t\t},\n\t\tdefineKeyword: function () {\n\t\t\tglobalContext.defineKeyword.apply(globalContext, arguments);\n\t\t},\n\t\tdefineError: function (codeName, codeNumber, defaultMessage) {\n\t\t\tif (typeof codeName !== 'string' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\n\t\t\t\tthrow new Error('Code name must be a string in UPPER_CASE_WITH_UNDERSCORES');\n\t\t\t}\n\t\t\tif (typeof codeNumber !== 'number' || codeNumber%1 !== 0 || codeNumber < 10000) {\n\t\t\t\tthrow new Error('Code number must be an integer > 10000');\n\t\t\t}\n\t\t\tif (typeof ErrorCodes[codeName] !== 'undefined') {\n\t\t\t\tthrow new Error('Error already defined: ' + codeName + ' as ' + ErrorCodes[codeName]);\n\t\t\t}\n\t\t\tif (typeof ErrorCodeLookup[codeNumber] !== 'undefined') {\n\t\t\t\tthrow new Error('Error code already used: ' + ErrorCodeLookup[codeNumber] + ' as ' + codeNumber);\n\t\t\t}\n\t\t\tErrorCodes[codeName] = codeNumber;\n\t\t\tErrorCodeLookup[codeNumber] = codeName;\n\t\t\tErrorMessagesDefault[codeName] = ErrorMessagesDefault[codeNumber] = defaultMessage;\n\t\t\tfor (var langCode in languages) {\n\t\t\t\tvar language = languages[langCode];\n\t\t\t\tif (language[codeName]) {\n\t\t\t\t\tlanguage[codeNumber] = language[codeNumber] || language[codeName];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\treset: function () {\n\t\t\tglobalContext.reset();\n\t\t\tthis.error = null;\n\t\t\tthis.missing = [];\n\t\t\tthis.valid = true;\n\t\t},\n\t\tmissing: [],\n\t\terror: null,\n\t\tvalid: true,\n\t\tnormSchema: normSchema,\n\t\tresolveUrl: resolveUrl,\n\t\tgetDocumentUri: getDocumentUri,\n\t\terrorCodes: ErrorCodes\n\t};\n\tapi.language(language || 'en');\n\treturn api;\n}\n\nvar tv4 = createApi();\ntv4.addLanguage('en-gb', ErrorMessagesDefault);\n\n//legacy property\ntv4.tv4 = tv4;\n\nreturn tv4; // used by _header.js to globalise.\n\n}));\n},{}],88:[function(require,module,exports){\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports', 'module'], factory);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    factory(exports, module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, mod);\n    global.index = mod.exports;\n  }\n})(this, function (exports, module) {\n  'use strict';\n\n  var localStorage = undefined;\n  if (typeof window === 'undefined') {\n    var LocalStorage = require('node-localstorage').LocalStorage;\n    localStorage = new LocalStorage('./uls-scratch');\n  } else if (typeof window.localStorage === 'undefined' || typeof window.sessionStorage === 'undefined') {\n    localStorage = require('./rem-localstorage');\n  } else {\n    localStorage = window.localStorage;\n  }\n  module.exports = localStorage;\n});\n},{\"./rem-localstorage\":89,\"node-localstorage\":84}],89:[function(require,module,exports){\n(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== 'undefined') {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.remLocalstorage = mod.exports;\n  }\n})(this, function (exports) {\n  // By Remy Sharp https://gist.github.com/remy/350433\n  'use strict';\n\n  if (typeof window.localStorage == 'undefined' || typeof window.sessionStorage == 'undefined') (function () {\n\n    var Storage = function Storage(type) {\n      function createCookie(name, value, days) {\n        var date, expires;\n\n        if (days) {\n          date = new Date();\n          date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n          expires = '; expires=' + date.toGMTString();\n        } else {\n          expires = '';\n        }\n        document.cookie = name + '=' + value + expires + '; path=/';\n      }\n\n      function readCookie(name) {\n        var nameEQ = name + '=',\n            ca = document.cookie.split(';'),\n            i,\n            c;\n\n        for (i = 0; i < ca.length; i++) {\n          c = ca[i];\n          while (c.charAt(0) == ' ') {\n            c = c.substring(1, c.length);\n          }\n\n          if (c.indexOf(nameEQ) == 0) {\n            return c.substring(nameEQ.length, c.length);\n          }\n        }\n        return null;\n      }\n\n      function setData(data) {\n        data = JSON.stringify(data);\n        if (type == 'session') {\n          window.name = data;\n        } else {\n          createCookie('localStorage', data, 365);\n        }\n      }\n\n      function clearData() {\n        if (type == 'session') {\n          window.name = '';\n        } else {\n          createCookie('localStorage', '', 365);\n        }\n      }\n\n      function getData() {\n        var data = type == 'session' ? window.name : readCookie('localStorage');\n        return data ? JSON.parse(data) : {};\n      }\n\n      // initialise if there's already data\n      var data = getData();\n\n      return {\n        length: 0,\n        clear: function clear() {\n          data = {};\n          this.length = 0;\n          clearData();\n        },\n        getItem: function getItem(key) {\n          return data[key] === undefined ? null : data[key];\n        },\n        key: function key(i) {\n          // not perfect, but works\n          var ctr = 0;\n          for (var k in data) {\n            if (ctr == i) return k;else ctr++;\n          }\n          return null;\n        },\n        removeItem: function removeItem(key) {\n          delete data[key];\n          this.length--;\n          setData(data);\n        },\n        setItem: function setItem(key, value) {\n          data[key] = value + ''; // forces the value to a string\n          this.length++;\n          setData(data);\n        }\n      };\n    };\n\n    if (typeof window.localStorage == 'undefined') window.localStorage = new Storage('local');\n    if (typeof window.sessionStorage == 'undefined') window.sessionStorage = new Storage('session');\n  })();\n});\n},{}],90:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.RuntimeCatalogueLocal=exports.RuntimeCatalogue=undefined;var _RuntimeCatalogueLocal=require('./runtime-catalogue/RuntimeCatalogue-Local');var _RuntimeCatalogueLocal2=_interopRequireDefault(_RuntimeCatalogueLocal);var _RuntimeCatalogue=require('./runtime-catalogue/RuntimeCatalogue');var _RuntimeCatalogue2=_interopRequireDefault(_RuntimeCatalogue);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.RuntimeCatalogue=_RuntimeCatalogue2.default;exports.RuntimeCatalogueLocal=_RuntimeCatalogueLocal2.default;\n\n},{\"./runtime-catalogue/RuntimeCatalogue\":102,\"./runtime-catalogue/RuntimeCatalogue-Local\":101}],91:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.DataObjectSourceLanguage=exports.CatalogueObjectType=undefined;var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * @author alice.cheambe[at]fokus.fraunhofer.de\n * The CatalogueDataObject class is the representation of the reTHINK Catalogue Data Model\n */var CatalogueDataObject=function(){ /**\n     * Creates the Catalogue Data Object\n     * @param guid - Global Unique identifier of the Catalogue Object (e.g. Hyperty descriptor, ProtocolStub descriptor,\n     * etc) enabling the same object to be stored and discovered in different Catalogues. That means, guid corresponds to\n     * [resource-type-id] per BNF of Resource Path. Couldn't we have problems with too long URL paths?\n     * @param type - indicates the type of Catalogue Data Object e.g. Hyperty, ProtocolStub, etc\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param objectName - human-understandable name of the catalogue object e.g. \"My Awesome Hyperty\"\n     * @param description - description of the source package\n     * @param language - the programming language used in the SourcePackage.SourceCode\n     * @param sourcePackageURL - A string containing the URL from where the source code package of the corresponding\n     * catalogue object, e.g. deployable packages containing executable code for Hyperties or ProtoStubs, can be downloaded\n     */function CatalogueDataObject(guid,type,version,objectName,description,language,sourcePackageURL){(0,_classCallCheck3.default)(this,CatalogueDataObject);this._guid=guid;this._type=type;this._version=version;this._objectName=objectName;this._description=description;this._language=language;this._sourcePackageURL=sourcePackageURL;this._signature=null;this._sourcePackage=null;} // Getters\n(0,_createClass3.default)(CatalogueDataObject,[{key:'guid',get:function get(){return this._guid;},set:function set(guid){if(guid)this._guid=guid;}},{key:'type',get:function get(){return this._type;},set:function set(type){if(type)this._type=type;}},{key:'version',get:function get(){return this._version;},set:function set(version){if(version){this._version=version;}}},{key:'objectName',get:function get(){return this._objectName;},set:function set(objectName){if(objectName)this._objectName=objectName;}},{key:'description',get:function get(){return this._description;},set:function set(description){if(description)this._description=description;}},{key:'language',get:function get(){return this._language;},set:function set(language){if(language)this._language=language;}},{key:'signature',get:function get(){return this._signature;}, // Setters\n/**\n     * Set the signature to enables integrity and authenticity verification\n     * @param signature\n     */set:function set(signature){if(signature)this._signature=signature;}},{key:'sourcePackage',get:function get(){return this._sourcePackage;},set:function set(sourcePackage){if(sourcePackage)this._sourcePackage=sourcePackage;}},{key:'sourcePackageURL',get:function get(){return this._sourcePackageURL;},set:function set(sourcePackageURL){if(sourcePackageURL)this._sourcePackageURL=sourcePackageURL;}}]);return CatalogueDataObject;}(); //Alice: removed POLICY_ENFORCER: 'policy_enforcer', DATA_SCHEMA: 'data_schema' from the list\n//wrt: https://github.com/reTHINK-project/dev-service-framework/blob/develop/docs/datamodel/core/hyperty-catalogue/readme.md#data-object-schema\nvar CatalogueObjectType=exports.CatalogueObjectType={HYPERTY:'hyperty',PROTOSTUB:'protostub',HYPERTY_RUNTIME:'hyperty_runtime',HYPERTY_INTERCEPTOR:'hyperty_inspector',HYPERTY_DATA_OBJECT:'hyperty_data_object'};var DataObjectSourceLanguage=exports.DataObjectSourceLanguage={JAVASCRIPT_ECMA6:'javascript_ecma6',JAVASCRIPT_ECMA5:'javascript_ecma5',JSON_SCHEMA_V4:'json_schema_v4',PYTHON:'python',TYPESCRIPT:'typescript'};exports.default=CatalogueDataObject;\n\n},{\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9}],92:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _RethinkObject2=require('../reTHINKObject/RethinkObject');var _RethinkObject3=_interopRequireDefault(_RethinkObject2);var _CatalogueDataObject=require('./CatalogueDataObject');var _CatalogueDataObject2=_interopRequireDefault(_CatalogueDataObject);var _SourcePackage=require('./SourcePackage');var _SourcePackage2=_interopRequireDefault(_SourcePackage);var _HypertyDescriptor=require('./HypertyDescriptor');var _HypertyDescriptor2=_interopRequireDefault(_HypertyDescriptor);var _ProtocolStubDescriptor=require('./ProtocolStubDescriptor');var _ProtocolStubDescriptor2=_interopRequireDefault(_ProtocolStubDescriptor);var _HypertyRuntimeDescriptor=require('./HypertyRuntimeDescriptor');var _HypertyRuntimeDescriptor2=_interopRequireDefault(_HypertyRuntimeDescriptor);var _HypertyInterceptorDescriptor=require('./HypertyInterceptorDescriptor');var _HypertyInterceptorDescriptor2=_interopRequireDefault(_HypertyInterceptorDescriptor);var _DataObjectSchema=require('./DataObjectSchema');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var CatalogueDataObjectFactory=function(_RethinkObject){(0,_inherits3.default)(CatalogueDataObjectFactory,_RethinkObject); /**\n     * Constructor\n     * @param {boolean} validation\n     * @param {URL.URL } schema - link to the schema\n     */function CatalogueDataObjectFactory(validation,schema){(0,_classCallCheck3.default)(this,CatalogueDataObjectFactory);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(CatalogueDataObjectFactory).call(this,validation,schema));} /**\n     * Create CatalogueDataObject\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {CatalogueObjectType} type - Indicates the type of Catalogue Data Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @returns {CatalogueDataObject}\n     */(0,_createClass3.default)(CatalogueDataObjectFactory,[{key:'createCatalogueDataObject',value:function createCatalogueDataObject(guid,type,version,objectName,description,language,sourcePackageURL){if(typeof guid===\"undefined\"||typeof type===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\")throw new Error(\"Invalid parameters!\");return new _CatalogueDataObject2.default(guid,type,version,objectName,description,language,sourcePackageURL);} /**\n     * Create HypertyDescriptor\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object\n     * can be downloaded.\n     * @param {HypertyResourceType[]} hypertyType - An array of HypertyResourceType that identifies what type of hyperty\n     * resources are handled by the object.\n     * @param {URL.URLList} dataObjects - Defines the Data Object Schemas supported by the Hyperty through a list of Catalogue URLs from where these schemas can be reached.\n     * @returns {HypertyDescriptor}\n     */},{key:'createHypertyDescriptorObject',value:function createHypertyDescriptorObject(guid,version,objectName,description,language,sourcePackageURL,hypertyType,dataObjects){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\"||typeof hypertyType===\"undefined\"||typeof dataObjects===\"undefined\")throw new Error(\"Invalid parameters!\");return new _HypertyDescriptor2.default(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY,version,objectName,description,language,sourcePackageURL,hypertyType,dataObjects);} /**\n     * Create ProtocolStubDescriptor\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @param {URL.URL} messageSchemas - Defines the Schema describing the Message Data Model used by the Hyperty through the Catalogue URL from where the Message schema can be reached. If not defined, by default it is assumed the standard Message Model is used.\n     * @param configuration - Data required to configure the ProtocolStub\n     * @param constraints - Describes capabilities required from the Hyperty Runtime in order to be able to execute the ProtocolStub\n     * @returns {ProtocolStubDescriptor}\n     */},{key:'createProtoStubDescriptorObject',value:function createProtoStubDescriptorObject(guid,version,objectName,description,language,sourcePackageURL,messageSchemas,configuration,constraints){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\"||typeof messageSchemas===\"undefined\"||typeof configuration===\"undefined\"||typeof constraints===\"undefined\")throw new Error(\"Invalid parameters!\");return new _ProtocolStubDescriptor2.default(guid,_CatalogueDataObject.CatalogueObjectType.PROTOSTUB,version,objectName,description,language,sourcePackageURL,messageSchemas,configuration,constraints);} /**\n     * Create HypertyRuntimeDescriptor\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @param {RuntimeType}runtimeType\n     * @param {RuntimeHypertyCapabilities} hypertyCapabilities - Supported capabilities to execute Hyperties\n     * @param {RuntimeProtocolCapabilities} protocolCapabilities - Supported capabilities to execute Protocol Stubs\n     * @returns {HypertyRuntimeDescriptor} the data object of the Hyperty Runtime Descriptor\n     */},{key:'createHypertyRuntimeDescriptorObject',value:function createHypertyRuntimeDescriptorObject(guid,version,objectName,description,language,sourcePackageURL,runtimeType,hypertyCapabilities,protocolCapabilities){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\"||typeof runtimeType===\"undefined\")throw new Error(\"Invalid parameters!\");return new _HypertyRuntimeDescriptor2.default(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_RUNTIME,version,objectName,description,language,sourcePackageURL,runtimeType,hypertyCapabilities,protocolCapabilities);} /**\n     * Create Hyperty Interceptor Descriptor\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @param configuration\n     * @param policies\n     * @returns {PolicyEnforcerDescriptor}\n     */},{key:'createHypertyInterceptorDescriptorObject',value:function createHypertyInterceptorDescriptorObject(guid,version,objectName,description,language,sourcePackageURL,configuration,policies){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\")throw new Error(\"Invalid parameters!\");return new _HypertyInterceptorDescriptor2.default(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_INTERCEPTOR,version,objectName,description,language,sourcePackageURL,configuration,policies);} /**\n     * Create DataObjectSchema which in effect is the MessageDataObjectSchema\n     * @deprecated Use either createMessageDataObjectSchema or createHypertyDataObjectSchema instead\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @returns {DataObjectSchema}\n     */},{key:'createDataObjectSchema',value:function createDataObjectSchema(guid,version,objectName,description,language,sourcePackageURL){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\")throw new Error(\"Invalid parameters!\");return new _DataObjectSchema.DataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL);} /**\n     * Create DataObjectSchema which in effect is the MessageDataObjectSchema\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @returns {DataObjectSchema}\n     */},{key:'createMessageDataObjectSchema',value:function createMessageDataObjectSchema(guid,version,objectName,description,language,sourcePackageURL){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\")throw new Error(\"Invalid parameters!\");return new _DataObjectSchema.DataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL);} /**\n     * Create HypertyDataObjectSchema\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object\n     * @param {string} version - Indicates the version of Catalogue Data\n     * @param {string} objectName - Human-understandable name of the catalogue object\n     * @param {string} description\n     * @param {DataObjectSourceLanguage} language - Programming language used in the SourcePackage\n     * @param {string} sourcePackageURL - URL from where the source code package of the corresponding catalogue object can be downloaded.\n     * @param {string} accessControlPolicy - policy rule to access object (see Reporter-Observer Comm pattern)\n     * @param {DataUrlScheme} scheme - identifies the data scheme (COMM, CONNECTION, CTXT or IDENTITY)\n     * @returns {DataObjectSchema}\n     */},{key:'createHypertyDataObjectSchema',value:function createHypertyDataObjectSchema(guid,version,objectName,description,language,sourcePackageURL,accessControlPolicy,scheme){if(typeof guid===\"undefined\"||typeof version===\"undefined\"||typeof objectName===\"undefined\"||typeof description===\"undefined\"||typeof language===\"undefined\"||typeof sourcePackageURL===\"undefined\"||typeof scheme===\"undefined\"||typeof accessControlPolicy===\"undefined\")throw new Error(\"Invalid parameters!\");if(scheme===_DataObjectSchema.DataUrlScheme.COMM)return new _DataObjectSchema.CommunicationDataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL,scheme,accessControlPolicy);else if(scheme===_DataObjectSchema.DataUrlScheme.CONNECTION)return new _DataObjectSchema.ConnectionDataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL,scheme,accessControlPolicy);else if(scheme===_DataObjectSchema.DataUrlScheme.CTXT)return new _DataObjectSchema.ContextDataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL,scheme,accessControlPolicy);else if(scheme===_DataObjectSchema.DataUrlScheme.IDENTITY)return new _DataObjectSchema.IdentityDataObjectSchema(guid,_CatalogueDataObject.CatalogueObjectType.HYPERTY_DATA_OBJECT,version,objectName,description,language,sourcePackageURL,scheme,accessControlPolicy);} /**\n     * Create SourcePackage\n     * @param sourceCodeClassname - The Class-name of the SourceCode\n     * @param sourceCode - The source code of the catalogue object\n     * @returns {SourcePackage}\n     */},{key:'createSourcePackage',value:function createSourcePackage(sourceCodeClassname,sourceCode){if(typeof sourceCode===\"undefined\"||typeof sourceCodeClassname===\"undefined\")throw new Error(\"Invalid parameters!\");return new _SourcePackage2.default(sourceCodeClassname,sourceCode);}}]);return CatalogueDataObjectFactory;}(_RethinkObject3.default); /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/exports.default=CatalogueDataObjectFactory;module.exports=exports['default'];\n\n},{\"../reTHINKObject/RethinkObject\":100,\"./CatalogueDataObject\":91,\"./DataObjectSchema\":93,\"./HypertyDescriptor\":94,\"./HypertyInterceptorDescriptor\":95,\"./HypertyRuntimeDescriptor\":96,\"./ProtocolStubDescriptor\":97,\"./SourcePackage\":98,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],93:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.DataUrlScheme=exports.ContextDataObjectSchema=exports.IdentityDataObjectSchema=exports.ConnectionDataObjectSchema=exports.CommunicationDataObjectSchema=exports.HypertyDataObjectSchema=exports.MessageDataObjectSchema=exports.DataObjectSchema=undefined;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var DataObjectSchema=exports.DataObjectSchema=function(_CatalogueDataObject){(0,_inherits3.default)(DataObjectSchema,_CatalogueDataObject);function DataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL){(0,_classCallCheck3.default)(this,DataObjectSchema);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(DataObjectSchema).call(this,guid,type,version,objectName,description,language,sourcePackageURL));}return DataObjectSchema;}(_CatalogueDataObject3.default); //Children\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * Created by pzu on 19.11.15.\n */var MessageDataObjectSchema=exports.MessageDataObjectSchema=function(_DataObjectSchema){(0,_inherits3.default)(MessageDataObjectSchema,_DataObjectSchema);function MessageDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL){(0,_classCallCheck3.default)(this,MessageDataObjectSchema);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(MessageDataObjectSchema).call(this,guid,type,version,objectName,description,language,sourcePackageURL));}return MessageDataObjectSchema;}(DataObjectSchema);var HypertyDataObjectSchema=exports.HypertyDataObjectSchema=function(_DataObjectSchema2){(0,_inherits3.default)(HypertyDataObjectSchema,_DataObjectSchema2);function HypertyDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy,dataUrlScheme){(0,_classCallCheck3.default)(this,HypertyDataObjectSchema);var _this3=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(HypertyDataObjectSchema).call(this,guid,type,version,objectName,description,language,sourcePackageURL));_this3._accessControlPolicy=accessControlPolicy;_this3._scheme=dataUrlScheme;return _this3;}return HypertyDataObjectSchema;}(DataObjectSchema); //Children\nvar CommunicationDataObjectSchema=exports.CommunicationDataObjectSchema=function(_HypertyDataObjectSch){(0,_inherits3.default)(CommunicationDataObjectSchema,_HypertyDataObjectSch);function CommunicationDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy){(0,_classCallCheck3.default)(this,CommunicationDataObjectSchema);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(CommunicationDataObjectSchema).call(this,guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy));}return CommunicationDataObjectSchema;}(HypertyDataObjectSchema);var ConnectionDataObjectSchema=exports.ConnectionDataObjectSchema=function(_HypertyDataObjectSch2){(0,_inherits3.default)(ConnectionDataObjectSchema,_HypertyDataObjectSch2);function ConnectionDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy){(0,_classCallCheck3.default)(this,ConnectionDataObjectSchema);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(ConnectionDataObjectSchema).call(this,guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy));}return ConnectionDataObjectSchema;}(HypertyDataObjectSchema);var IdentityDataObjectSchema=exports.IdentityDataObjectSchema=function(_HypertyDataObjectSch3){(0,_inherits3.default)(IdentityDataObjectSchema,_HypertyDataObjectSch3);function IdentityDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy){(0,_classCallCheck3.default)(this,IdentityDataObjectSchema);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(IdentityDataObjectSchema).call(this,guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy));}return IdentityDataObjectSchema;}(HypertyDataObjectSchema);var ContextDataObjectSchema=exports.ContextDataObjectSchema=function(_HypertyDataObjectSch4){(0,_inherits3.default)(ContextDataObjectSchema,_HypertyDataObjectSch4);function ContextDataObjectSchema(guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy){(0,_classCallCheck3.default)(this,ContextDataObjectSchema);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(ContextDataObjectSchema).call(this,guid,type,version,objectName,description,language,sourcePackageURL,accessControlPolicy));}return ContextDataObjectSchema;}(HypertyDataObjectSchema);var DataUrlScheme=exports.DataUrlScheme={COMM:'COMM',CONNECTION:'CONNECTION',CTXT:'CTXT',IDENTITY:'IDENTITY'};exports.default=DataObjectSchema;\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],94:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.HypertyResourceType=exports.HypertyType=exports.RuntimeHypertyCapabilityType=undefined;var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var HypertyDescriptor=function(_CatalogueDataObject){(0,_inherits3.default)(HypertyDescriptor,_CatalogueDataObject); /**\n     *\n     * @param {string} guid - Catalogue Global Unique identifier of the Catalogue Object enabling the same object to be\n     * stored and discovered in different Catalogues. Guid corresponds to <resource-type-id> per BNF of Resource Path.\n     * @param {CatalogueObjectType} catalogueType - \tIndicates the type of Catalogue Data Object\n     * @param {string} version\n     * @param {string} objectName\n     * @param {string} description\n     * @param {string} language\n     * @param {string} sourcePackageURL\n     * @param {HypertyResourceType[]} hypertyType A tag that identifies what type of hyperty is described in the object.\n     * @param {URL.HypertyCatalogueURLList} dataObjectUrls - It defines the Data Object Schemas supported by the Hyperty\n     * through a list of Catalogue URLs from where these schemas can be reached\n     */function HypertyDescriptor(guid,catalogueType,version,objectName,description,language,sourcePackageURL,hypertyType,dataObjectUrls){(0,_classCallCheck3.default)(this,HypertyDescriptor);var _this=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(HypertyDescriptor).call(this,guid,catalogueType,version,objectName,description,language,sourcePackageURL));_this._configuration={};_this._constraints={};_this._policies={};_this._messageSchema=null;_this._hypertyType=hypertyType;_this._dataObjects=dataObjectUrls;return _this;}(0,_createClass3.default)(HypertyDescriptor,[{key:'hypertyType',get:function get(){return this._hypertyType;},set:function set(hType){if(hType)this._hypertyType=hType;}},{key:'dataObjects',get:function get(){return this._dataObjects;},set:function set(dataObjects){if(dataObjects)this._dataObjects=dataObjects;}},{key:'configuration',get:function get(){return this._configuration;},set:function set(configuration){if(configuration)this._configuration=configuration;}},{key:'constraints',get:function get(){return this._constraints;},set:function set(constraints){if(constraints)this._constraints=constraints;}},{key:'messageSchema',get:function get(){return this._messageSchema;},set:function set(messageSchema){if(messageSchema)this._messageSchema=messageSchema;}},{key:'policies',get:function get(){return this._policies;},set:function set(policies){if(policies)this._policies=policies;}}]);return HypertyDescriptor;}(_CatalogueDataObject3.default); /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * Created by amo on 14/11/2015.\n */var RuntimeHypertyCapabilityType=exports.RuntimeHypertyCapabilityType={};var HypertyType=exports.HypertyType={COMMUNICATOR:'communicator',IDENTITY:'identity',CONTEXT:'context'};var HypertyResourceType=exports.HypertyResourceType={chat:'CHAT',audio:'Audio',video:'Video',av:'AV',screen:'SCREEN',file:'FILe',midi:'MIDI'};exports.default=HypertyDescriptor;\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],95:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var PolicyEnforcerDescriptor=function(_CatalogueDataObject){(0,_inherits3.default)(PolicyEnforcerDescriptor,_CatalogueDataObject);function PolicyEnforcerDescriptor(guid,type,version,objectName,description,language,sourcePackageURL,configuration,policies){(0,_classCallCheck3.default)(this,PolicyEnforcerDescriptor);var _this=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(PolicyEnforcerDescriptor).call(this,guid,type,version,objectName,description,language,sourcePackageURL));_this._configuration=configuration;_this._policies=policies;return _this;}(0,_createClass3.default)(PolicyEnforcerDescriptor,[{key:'configuration',get:function get(){return this._configuration;},set:function set(configuration){this._configuration=configuration;}},{key:'policies',get:function get(){return this._policies;},set:function set(policies){this._policies=policies;}}]);return PolicyEnforcerDescriptor;}(_CatalogueDataObject3.default); /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * Created by pzu on 19.11.15.\n */exports.default=PolicyEnforcerDescriptor;module.exports=exports['default'];\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],96:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.RuntimeType=exports.RuntimeProtocolCapability=exports.RuntimeHypertyCapability=undefined;var _stringify=require('babel-runtime/core-js/json/stringify');var _stringify2=_interopRequireDefault(_stringify);var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var HypertyRuntimeDescriptor=function(_CatalogueDataObject){(0,_inherits3.default)(HypertyRuntimeDescriptor,_CatalogueDataObject);function HypertyRuntimeDescriptor(guid,catalogueType,version,objectName,description,language,sourcePackageURL,runtimeType,hypertyCapabilities,protocolCapabilities){(0,_classCallCheck3.default)(this,HypertyRuntimeDescriptor);var _this=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(HypertyRuntimeDescriptor).call(this,guid,catalogueType,version,objectName,description,language,sourcePackageURL));_this._runtimeType=runtimeType;if(hypertyCapabilities)_this._hypertyCapabilities=hypertyCapabilities;else _this._hypertyCapabilities=new RuntimeHypertyCapability(true,false,false,false,false);if(protocolCapabilities)_this._protocolCapabilities=protocolCapabilities;else _this._protocolCapabilities=new RuntimeProtocolCapability(true,false,true,false,false,false);return _this;}(0,_createClass3.default)(HypertyRuntimeDescriptor,[{key:'runtimeType',get:function get(){return this._runtimeType;},set:function set(runtimeType){if(runtimeType)this._runtimeType=runtimeType;}},{key:'hypertyCapabilities',get:function get(){return this._hypertyCapabilities;},set:function set(hypertyCapabilities){if(hypertyCapabilities)this._hypertyCapabilities=hypertyCapabilities;}},{key:'protocolCapabilities',get:function get(){return this._hypertyCapabilities;},set:function set(protocolCapabilities){if(protocolCapabilities)this._protocolCapabilities=protocolCapabilities;}}]);return HypertyRuntimeDescriptor;}(_CatalogueDataObject3.default); /**\n * A class representation of the capability set of the Runtime Hyperty\n */ /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * Created by amo on 14/11/2015.\n */var RuntimeHypertyCapability=exports.RuntimeHypertyCapability=function(){ /**\n     * Creates an object of the Runtime Hyperty capability set\n     * @param {boolean} isWebRTCSupported\n     * @param {boolean} isMicSupported\n     * @param {boolean} isCameraSupported\n     * @param {boolean} isSensorSupported\n     * @param {boolean} isORTCSupported\n     */function RuntimeHypertyCapability(isWebRTCSupported,isMicSupported,isCameraSupported,isSensorSupported,isORTCSupported){(0,_classCallCheck3.default)(this,RuntimeHypertyCapability);this._isWebRTC=isWebRTCSupported;this._isMic=isMicSupported;this._isCamera=isCameraSupported;this._isSensor=isSensorSupported;this._isORTC=isORTCSupported;}(0,_createClass3.default)(RuntimeHypertyCapability,[{key:'getCapabilitySet',value:function getCapabilitySet(){return (0,_stringify2.default)(this);}},{key:'isMic',get:function get(){return this._isMic;}},{key:'isCamera',get:function get(){return this._isCamera;}},{key:'isSensor',get:function get(){return this._isSensor;}},{key:'isWebRTC',get:function get(){return this._isWebRTC;}},{key:'isORTCS',get:function get(){return this._isORTC;}}]);return RuntimeHypertyCapability;}(); /**\n * A class representation of the protocol capability set of the Runtime Hyperty\n */var RuntimeProtocolCapability=exports.RuntimeProtocolCapability=function(){ /**\n     * Creates an object of the runtime protocol capability\n     * @param {boolean} isHttp\n     * @param {boolean} isHttps\n     * @param {boolean} isWS\n     * @param {boolean} isWSS\n     * @param {boolean} isCoap\n     * @param {boolean} isDataChannel\n     */function RuntimeProtocolCapability(isHttp,isHttps,isWS,isWSS,isCoap,isDataChannel){(0,_classCallCheck3.default)(this,RuntimeProtocolCapability);this._isHttp=isHttp;this._isHttps=isHttps;this._isWS=isWS;this._isWSS=isWSS;this._isCoap=isCoap;this._isDataChannel=isDataChannel;}(0,_createClass3.default)(RuntimeProtocolCapability,[{key:'isHttp',value:function isHttp(){return this._isHttp;}},{key:'isHttps',value:function isHttps(){return this._isHttps;}},{key:'isWS',value:function isWS(){return this._isWS;}},{key:'isSensorSupported',value:function isSensorSupported(){return this._isSensor;}},{key:'isWSS',value:function isWSS(){return this._isWSS;}},{key:'isCoap',value:function isCoap(){return this._isCoap;}},{key:'isDataChannel',value:function isDataChannel(){return this._isDataChannel;}},{key:'getCapabilitySet',value:function getCapabilitySet(){return (0,_stringify2.default)(this);}}]);return RuntimeProtocolCapability;}();var RuntimeType=exports.RuntimeType={BROWSER:'browser',STANDALONE:'standalone',SERVER:'server',GATEWAY:'gateway'};exports.default=HypertyRuntimeDescriptor;\n\n},{\"./CatalogueDataObject\":91,\"babel-runtime/core-js/json/stringify\":1,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],97:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _CatalogueDataObject2=require('./CatalogueDataObject');var _CatalogueDataObject3=_interopRequireDefault(_CatalogueDataObject2);var _HypertyRuntimeDescriptor=require('./HypertyRuntimeDescriptor');var _HypertyRuntimeDescriptor2=_interopRequireDefault(_HypertyRuntimeDescriptor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * Created by amo on 14/11/2015.\n */var ProtocolStubDescriptor=function(_CatalogueDataObject){(0,_inherits3.default)(ProtocolStubDescriptor,_CatalogueDataObject);function ProtocolStubDescriptor(guid,type,version,objectName,description,language,sourcePackageURL,messageSchemas,configuration,constraints){(0,_classCallCheck3.default)(this,ProtocolStubDescriptor);var _this=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(ProtocolStubDescriptor).call(this,guid,type,version,objectName,description,language,sourcePackageURL));_this._messageSchemas=messageSchemas;if(configuration)_this._configuration=configuration;else _this._configuration={};if(constraints)_this._constraints=constraints;else _this._constraints={};return _this;}(0,_createClass3.default)(ProtocolStubDescriptor,[{key:'messageSchemas',get:function get(){return this._messageSchemas;},set:function set(messageSchemas){if(messageSchemas)this._messageSchemas=messageSchemas;}},{key:'constraints',get:function get(){return this._constraints;},set:function set(constraints){if(constraints)this._constraints=constraints;}},{key:'configuration',get:function get(){return this._configuration;},set:function set(configuration){if(configuration)this._configuration=configuration;}}]);return ProtocolStubDescriptor;}(_CatalogueDataObject3.default);exports.default=ProtocolStubDescriptor;module.exports=exports['default'];\n\n},{\"./CatalogueDataObject\":91,\"./HypertyRuntimeDescriptor\":96,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],98:[function(require,module,exports){\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require(\"babel-runtime/helpers/classCallCheck\");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require(\"babel-runtime/helpers/createClass\");var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * Created by amo on 14/11/2015.\n */var SourcePackage=function(){function SourcePackage(sourceCodeClassname,sourceCode){(0,_classCallCheck3.default)(this,SourcePackage);this._sourceCode=sourceCode;this._sourceCodeClassname=sourceCodeClassname;this._encoding=null;this._signature=null;}(0,_createClass3.default)(SourcePackage,[{key:\"sourceCode\",get:function get(){return this._sourceCode;},set:function set(sourceCode){if(sourceCode)this._sourceCode=sourceCode;}},{key:\"sourceCodeClassname\",get:function get(){return this._sourceCodeClassname;},set:function set(sourceCodeClassname){if(sourceCodeClassname)this._sourceCodeClassname=sourceCodeClassname;}},{key:\"encoding\",get:function get(){return this._encoding;},set:function set(encoding){if(encoding)this._encoding=encoding;}},{key:\"signature\",get:function get(){return this._signature;},set:function set(sign){if(sign)this._signature=sign;}}]);return SourcePackage;}();exports.default=SourcePackage;module.exports=exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9}],99:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _stringify=require('babel-runtime/core-js/json/stringify');var _stringify2=_interopRequireDefault(_stringify);var _universalLocalstorage=require('universal-localstorage');var _universalLocalstorage2=_interopRequireDefault(_universalLocalstorage);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var persistenceManager={set:function set(key,version,value){_universalLocalstorage2.default.setItem(key,(0,_stringify2.default)({'version':version,'value':value}));},get:function get(key){try{return JSON.parse(_universalLocalstorage2.default.getItem(key)).value;}catch(e){ // return undefined\n}},getVersion:function getVersion(key){try{return JSON.parse(_universalLocalstorage2.default.getItem(key)).version;}catch(e){ // return undefined\n}},delete:function _delete(key){_universalLocalstorage2.default.removeItem(key);}};exports.default=persistenceManager;module.exports=exports['default'];\n\n},{\"babel-runtime/core-js/json/stringify\":1,\"universal-localstorage\":88}],100:[function(require,module,exports){\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.RethinkObject=undefined;var _classCallCheck2=require(\"babel-runtime/helpers/classCallCheck\");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require(\"babel-runtime/helpers/createClass\");var _createClass3=_interopRequireDefault(_createClass2);var _tv=require(\"tv4\");var _tv2=_interopRequireDefault(_tv);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var RethinkObject=exports.RethinkObject=function(){function RethinkObject(validation,schema){(0,_classCallCheck3.default)(this,RethinkObject);var _this=this;this.validation=validation;this.schema=schema;}(0,_createClass3.default)(RethinkObject,[{key:\"validate\",value:function validate(data){if(this.schema)return _tv2.default.validate(data,this.schema);else return false;}}]);return RethinkObject;}(); /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/exports.default=RethinkObject;\n\n},{\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"tv4\":87}],101:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _promise=require('babel-runtime/core-js/promise');var _promise2=_interopRequireDefault(_promise);var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _utils=require('../utils/utils');var _RuntimeCatalogue2=require('./RuntimeCatalogue');var _RuntimeCatalogue3=_interopRequireDefault(_RuntimeCatalogue2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var RuntimeCatalogueLocal=function(_RuntimeCatalogue){(0,_inherits3.default)(RuntimeCatalogueLocal,_RuntimeCatalogue);function RuntimeCatalogueLocal(runtimeFactory){(0,_classCallCheck3.default)(this,RuntimeCatalogueLocal);return (0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(RuntimeCatalogueLocal).call(this,runtimeFactory));} /**\n     * Get a Catalogue Data Object (Descriptor) from a URL, and construct it using the provided function\n     * @param {String} descriptorURL - e.g. mydomain.com/.well-known/hyperty/MyHyperty\n     * @param {function} createFunc - e.g. _createHyperty\n     * @returns {Promise}\n     */(0,_createClass3.default)(RuntimeCatalogueLocal,[{key:'getDescriptor',value:function getDescriptor(descriptorURL,createFunc){var _this=this;return new _promise2.default(function(resolve,reject){var resourceURL='';var dividedURL=(0,_utils.divideURL)(descriptorURL);var type=dividedURL.type;var domain=dividedURL.domain;var identity=dividedURL.identity;var resource='';if(!domain){domain=descriptorURL;}if(identity){identity=identity.substring(identity.lastIndexOf('/')+1);} // type + '://' + domain + '/resources/descriptors/Hyperties.json'\n// type + '://' + domain + '/resources/descriptors/Runtimes.json'\n// type + '://' + domain + '/resources/descriptors/IDPProxys.json'\n// type + '://' + domain + '/resources/descriptors/ProtoStubs.json'\n// type + '://' + domain + '/resources/descriptors/DataSchemas.json'\nconsole.log('DescriptorURL:',descriptorURL);if(descriptorURL.includes('hyperty')){resource='Hyperties';resourceURL=type+'://'+domain+'/resources/descriptors/Hyperties.json';}if(descriptorURL.includes('protocolstub')||descriptorURL.includes('ProtoStubs')){resource='ProtoStubs';resourceURL=type+'://'+domain+'/resources/descriptors/ProtoStubs.json';}if(descriptorURL.includes('runtime')){resource='Runtimes';resourceURL=type+'://'+domain+'/resources/descriptors/Runtimes.json';}if(descriptorURL.includes('idp-proxy')){resource='IDPProxys';resourceURL=type+'://'+domain+'/resources/descriptors/IDPProxys.json';}if(descriptorURL.includes('dataschema')){resource='DataSchemas';resourceURL=type+'://'+domain+'/resources/descriptors/DataSchemas.json';}_this.httpRequest.get(resourceURL).then(function(descriptor){try{_this[resource]=JSON.parse(descriptor);}catch(e){_this[resource]=descriptor;}if(!_this[resource].hasOwnProperty(identity)){reject('The '+identity+' is not available on '+resource);}var result=_this[resource][identity];if(result.ERROR){ // TODO handle error properly\nreject(result);}else { // FIXME hotfix for unparsed arrays (e.g. hypertyType), will be fixed in Catalogue 1.1.0\nfor(var key in result){try{result[key]=JSON.parse(result[key]);}catch(e){ // do nothing\n}} // console.log('creating descriptor based on: ', result);\nvar _descriptor=createFunc(_this,result); // persistenceManager.set(descriptorURL, descriptor.version, result);\n// console.log('created descriptor object:', hyperty);\nresolve(_descriptor);}}).catch(function(reason){reject(reason);});});}}]);return RuntimeCatalogueLocal;}(_RuntimeCatalogue3.default);exports.default=RuntimeCatalogueLocal;module.exports=exports['default'];\n\n},{\"../utils/utils\":103,\"./RuntimeCatalogue\":102,\"babel-runtime/core-js/object/get-prototype-of\":4,\"babel-runtime/core-js/promise\":6,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9,\"babel-runtime/helpers/inherits\":10,\"babel-runtime/helpers/possibleConstructorReturn\":11}],102:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _promise=require('babel-runtime/core-js/promise');var _promise2=_interopRequireDefault(_promise);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _utils=require('../utils/utils');var _CatalogueDataObjectFactory=require('../catalogue-factory/CatalogueDataObjectFactory');var _CatalogueDataObjectFactory2=_interopRequireDefault(_CatalogueDataObjectFactory);var _PersistenceManager=require('../persistence/PersistenceManager');var _PersistenceManager2=_interopRequireDefault(_PersistenceManager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var RuntimeCatalogue=function(){function RuntimeCatalogue(runtimeFactory){(0,_classCallCheck3.default)(this,RuntimeCatalogue);if(!runtimeFactory)throw Error('The catalogue needs the runtimeFactory');var _this=this;_this._factory=new _CatalogueDataObjectFactory2.default(false,undefined);_this.httpRequest=runtimeFactory.createHttpRequest();} /**\n     * Get a Catalogue Data Object (Descriptor) from a URL, and construct it using the provided function\n     * @param {String} descriptorURL - e.g. mydomain.com/.well-known/hyperty/MyHyperty\n     * @param {function} createFunc - e.g. _createHyperty\n     * @returns {Promise}\n     */(0,_createClass3.default)(RuntimeCatalogue,[{key:'getDescriptor',value:function getDescriptor(descriptorURL,createFunc){var _this=this; // console.log(\"getDescriptor\", descriptorURL);\nreturn new _promise2.default(function(resolve,reject){_this.httpRequest.get(descriptorURL+\"/version\").then(function(result){if(_PersistenceManager2.default.getVersion(descriptorURL)>=result){ // return saved version\nconsole.log(\"returning saved version:\",_PersistenceManager2.default.get(descriptorURL));resolve(createFunc(_this,_PersistenceManager2.default.get(descriptorURL)));}else { // request the json\n_this.httpRequest.get(descriptorURL).then(function(result){result=JSON.parse(result);if(result[\"ERROR\"]){ // TODO handle error properly\nreject(result);}else { // FIXME hotfix for unparsed arrays (e.g. hypertyType), will be fixed in Catalogue 1.1.0\nfor(var key in result){try{result[key]=JSON.parse(result[key]);}catch(e){ // do nothing\n}} // console.log(\"creating descriptor based on: \", result);\nvar descriptor=createFunc(_this,result);_PersistenceManager2.default.set(descriptorURL,descriptor.version,result); // console.log(\"created descriptor object:\", hyperty);\nresolve(descriptor);}});}}).catch(function(reason){reject(reason);});});} /**\n     * Get HypertyDescriptor\n     * @param hypertyURL - e.g. mydomain.com/.well-known/hyperty/MyHyperty\n     * @returns {Promise}\n     */},{key:'getHypertyDescriptor',value:function getHypertyDescriptor(hypertyURL){var _this=this;return _this.getDescriptor(hypertyURL,_this._createHyperty);} /**\n     * Get StubDescriptor\n     * @param stubURL - e.g. mydomain.com/.well-known/protostub/MyProtostub\n     * @returns {Promise}\n     */},{key:'getStubDescriptor',value:function getStubDescriptor(stubURL){var _this=this;var dividedURL=(0,_utils.divideURL)(stubURL);var type=dividedURL.type;var domain=dividedURL.domain;var protostub=dividedURL.identity;if(!protostub){protostub='default';}else {protostub=protostub.substring(protostub.lastIndexOf('/')+1);}var prefix='catalogue.';if(stubURL.includes('catalogue')){prefix='';}stubURL=type+'://'+prefix+domain+'/.well-known/protocolstub/'+protostub;return _this.getDescriptor(stubURL,_this._createStub);} /**\n     * Get RuntimeDescriptor\n     * @param runtimeURL - e.g. mydomain.com/.well-known/runtime/MyRuntime\n     * @returns {Promise}\n     */},{key:'getRuntimeDescriptor',value:function getRuntimeDescriptor(runtimeURL){var _this=this;return _this.getDescriptor(runtimeURL,_this._createRuntimeDescriptor);} /**\n     * Get DataSchemaDescriptor\n     * @param dataSchemaURL - e.g. mydomain.com/.well-known/dataschema/MyDataSchema\n     * @returns {Promise}\n     */},{key:'getDataSchemaDescriptor',value:function getDataSchemaDescriptor(dataSchemaURL){var _this=this;return _this.getDescriptor(dataSchemaURL,_this._createDataSchema);} /**\n     * Get IDPProxyDescriptor\n     * @param idpProxyURL - e.g. mydomain.com/.well-known/idp-proxy/MyProxy\n     * @returns {Promise}\n     */},{key:'getIdpProxyDescriptor',value:function getIdpProxyDescriptor(idpProxyURL){var _this=this;return new _promise2.default(function(resolve,reject){var dividedURL=(0,_utils.divideURL)(idpProxyURL);var type=dividedURL.type;var domain=dividedURL.domain;var idpproxy=dividedURL.identity;var originDividedURL=(0,_utils.divideURL)(_this.runtimeURL);var originDomain=originDividedURL.domain;if(!domain){domain=idpProxyURL;}if(domain===originDomain||!idpproxy){idpproxy='default';}else {idpproxy=idpproxy.substring(idpproxy.lastIndexOf('/')+1);}var prefix='catalogue.';if(idpProxyURL.includes('catalogue')){prefix='';}idpProxyURL=type+'://'+prefix+domain+'/.well-known/idp-proxy/'+idpproxy;return _this.getDescriptor(idpProxyURL,_this._createIdpProxy).then(function(result){console.log('result: ',result);resolve(result);}).catch(function(){idpproxy=domain;domain=originDomain;console.log('Get an specific protostub for domain',domain,' specific for: ',idpproxy);idpProxyURL=type+'://'+prefix+domain+'/.well-known/idp-proxy/'+idpproxy;return _this.getDescriptor(idpProxyURL,_this._createIdpProxy);}).then(function(result){resolve(result);}).catch(function(reason){reject(reason);});});} /**\n     * Create HypertyDescriptor based on raw object that contains its attributes\n     * @param _this\n     * @param rawHyperty\n     * @returns {HypertyDescriptor}\n     */},{key:'_createHyperty',value:function _createHyperty(_this,rawHyperty){ // create the descriptor\nvar hyperty=_this._factory.createHypertyDescriptorObject(rawHyperty[\"cguid\"],rawHyperty[\"version\"],rawHyperty[\"objectName\"],rawHyperty[\"description\"],rawHyperty[\"language\"],rawHyperty[\"sourcePackageURL\"],rawHyperty[\"type\"]||rawHyperty[\"hypertyType\"],rawHyperty[\"dataObjects\"]); // optional fields\nhyperty.configuration=rawHyperty[\"configuration\"];hyperty.constraints=rawHyperty[\"constraints\"];hyperty.messageSchema=rawHyperty[\"messageSchema\"];hyperty.policies=rawHyperty[\"policies\"];hyperty.signature=rawHyperty[\"signature\"]; // parse and attach sourcePackage\nvar sourcePackage=rawHyperty[\"sourcePackage\"];if(sourcePackage){ // console.log(\"hyperty has sourcePackage:\", sourcePackage);\nhyperty.sourcePackage=_this._createSourcePackage(_this,sourcePackage);}return hyperty;} /**\n     * Create ProtocolStubDescriptor based on raw object that contains its attributes\n     * @param _this\n     * @param rawStub\n     * @returns {ProtocolStubDescriptor}\n     */},{key:'_createStub',value:function _createStub(_this,rawStub){ // console.log(\"creating stub descriptor based on: \", rawStub);\n// create the descriptor\nvar stub=_this._factory.createProtoStubDescriptorObject(rawStub[\"cguid\"],rawStub[\"version\"],rawStub[\"objectName\"],rawStub[\"description\"],rawStub[\"language\"],rawStub[\"sourcePackageURL\"],rawStub[\"messageSchemas\"],rawStub[\"configuration\"],rawStub[\"constraints\"]); // optional fields\nstub.signature=rawStub[\"signature\"]; // parse and attach the sourcePackage\nvar sourcePackage=rawStub[\"sourcePackage\"];if(sourcePackage){sourcePackage=_this._createSourcePackage(_this,sourcePackage);stub.sourcePackage=sourcePackage;}return stub;} /**\n     * Create HypertyRuntimeDescriptor based on raw object that contains its attributes\n     * @param _this\n     * @param rawRuntime\n     * @returns {HypertyRuntimeDescriptor}\n     */},{key:'_createRuntimeDescriptor',value:function _createRuntimeDescriptor(_this,rawRuntime){ // parse capabilities first\ntry{rawRuntime[\"hypertyCapabilities\"]=JSON.parse(rawRuntime[\"hypertyCapabilities\"]);rawRuntime[\"protocolCapabilities\"]=JSON.parse(rawRuntime[\"protocolCapabilities\"]);}catch(e){ // already json object\n}console.log(\"creating runtime descriptor based on: \",rawRuntime); // create the descriptor\nvar runtime=_this._factory.createHypertyRuntimeDescriptorObject(rawRuntime[\"cguid\"],rawRuntime[\"version\"],rawRuntime[\"objectName\"],rawRuntime[\"description\"],rawRuntime[\"language\"],rawRuntime[\"sourcePackageURL\"],rawRuntime[\"type\"]||rawRuntime[\"runtimeType\"],rawRuntime[\"hypertyCapabilities\"],rawRuntime[\"protocolCapabilities\"]); // optional fields\nruntime.signature=rawRuntime[\"signature\"]; // parse and attach sourcePackage\nvar sourcePackage=rawRuntime[\"sourcePackage\"];if(sourcePackage){ // console.log(\"runtime has sourcePackage:\", sourcePackage);\nruntime.sourcePackage=_this._createSourcePackage(_this,sourcePackage);}return runtime;} /**\n     * Create DataObjectSchema based on raw object that contains its attributes\n     * @param _this\n     * @param rawSchema\n     * @returns {DataObjectSchema}\n     */},{key:'_createDataSchema',value:function _createDataSchema(_this,rawSchema){console.log(\"creating dataSchema based on: \",rawSchema);var dataSchema=void 0;console.log('1. createMessageDataObjectSchema: ',rawSchema[\"accessControlPolicy\"]);console.log('2. createMessageDataObjectSchema: ',rawSchema[\"scheme\"]);if(rawSchema[\"accessControlPolicy\"]&&rawSchema[\"scheme\"]){dataSchema=_this._factory.createHypertyDataObjectSchema(rawSchema[\"cguid\"],rawSchema[\"version\"],rawSchema[\"objectName\"],rawSchema[\"description\"],rawSchema[\"language\"],rawSchema[\"sourcePackageURL\"],rawSchema[\"accessControlPolicy\"],rawSchema[\"scheme\"]);}else {console.log('3. createMessageDataObjectSchema: ',rawSchema);dataSchema=_this._factory.createMessageDataObjectSchema(rawSchema[\"cguid\"],rawSchema[\"version\"],rawSchema[\"objectName\"],rawSchema[\"description\"],rawSchema[\"language\"],rawSchema[\"sourcePackageURL\"]);} // optional fields\ndataSchema.signature=rawSchema[\"signature\"]; // parse and attach sourcePackage\nvar sourcePackage=rawSchema[\"sourcePackage\"];if(sourcePackage){console.log(\"dataSchema has sourcePackage:\",sourcePackage);dataSchema.sourcePackage=_this._createSourcePackage(_this,sourcePackage);try{dataSchema.sourcePackage.sourceCode=JSON.parse(dataSchema.sourcePackage.sourceCode);}catch(e){console.log('DataSchema Source code is already parsed');}return dataSchema;}else {console.log('4. getSourcePackageFromURL: ',rawSchema.sourcePackageURL);return new _promise2.default(function(resolve,reject){_this.getSourcePackageFromURL(rawSchema.sourcePackageURL).then(function(sourcePackage){console.log('5. result of getSourcePackageFromURL',sourcePackage);dataSchema.sourcePackage=sourcePackage;resolve(dataSchema);}).catch(function(reason){console.log('Error getting the sourcePackageURL ',reason);reject(reason);});});} // console.log(\"created dataSchema descriptor object:\", dataSchema);\n// return dataSchema;\n} /**\n     * Create ProtocolStubDescriptor based on raw object that contains its attributes\n     * @param _this\n     * @param rawProxy\n     * @returns {ProtocolStubDescriptor}\n     */},{key:'_createIdpProxy',value:function _createIdpProxy(_this,rawProxy){ // console.log(\"creating idpproxy descriptor based on: \", rawProxy);\n// create the descriptor\nvar idpproxy=_this._factory.createProtoStubDescriptorObject(rawProxy[\"cguid\"],rawProxy[\"version\"],rawProxy[\"objectName\"],rawProxy[\"description\"],rawProxy[\"language\"],rawProxy[\"sourcePackageURL\"],rawProxy[\"messageSchemas\"],rawProxy[\"configuration\"],rawProxy[\"constraints\"]); // optional fields\nidpproxy.signature=rawProxy[\"signature\"]; // parse and attach the sourcePackage\nvar sourcePackage=rawProxy[\"sourcePackage\"];if(sourcePackage){sourcePackage=_this._createSourcePackage(_this,sourcePackage);idpproxy.sourcePackage=sourcePackage;}return idpproxy;}},{key:'_createSourcePackage',value:function _createSourcePackage(_this,sp){try{sp=JSON.parse(sp);}catch(e){console.log(\"parsing sourcePackage failed. already parsed? -> \",sp);} // check encoding\nif(sp[\"encoding\"]===\"base64\"){sp[\"sourceCode\"]=atob(sp[\"sourceCode\"]);}var sourcePackage=_this._factory.createSourcePackage(sp[\"sourceCodeClassname\"],sp[\"sourceCode\"]);if(sp[\"encoding\"])sourcePackage.encoding=sp[\"encoding\"];if(sp[\"signature\"])sourcePackage.signature=sp[\"signature\"];return sourcePackage;} /**\n     * Get source Package from a URL\n     * @param sourcePackageURL - e.g. mydomain.com/.well-known/hyperty/MyHyperty/sourcePackage\n     * @returns {Promise}\n     */},{key:'getSourcePackageFromURL',value:function getSourcePackageFromURL(sourcePackageURL){var _this=this;console.log(\"getting sourcePackage from:\",sourcePackageURL);console.warn(\"-------------------------------------------------------------------------------------------\");console.warn(\"ATTENTION: This function may fail if the sourceCode of the the sourcePackage is very large!\");console.warn(\"-------------------------------------------------------------------------------------------\");return new _promise2.default(function(resolve,reject){_this.httpRequest.get(sourcePackageURL).then(function(result){ //console.log(\"got raw sourcePackage:\", result);\nif(result[\"ERROR\"]){ // TODO handle error properly\nreject(result);}else {result=JSON.parse(result);var sourcePackage=_this._createSourcePackage(_this,result);resolve(sourcePackage);}}).catch(function(reason){reject(reason);});});} /**\n     * Returns the sourceCode of a given descriptor\n     * @param {CatalogueDataObject} descriptor - Catalogue Object that was retrieved using e.g. getHypertyDescriptor()\n     * @returns {Promise}\n     */},{key:'getSourceCodeFromDescriptor',value:function getSourceCodeFromDescriptor(descriptor){var _this=this;return new _promise2.default(function(resolve,reject){if(descriptor.sourcePackage){ //console.log(\"descriptor has sourcePackage\");\n//console.log(\"returning sourceCode:\", descriptor.sourcePackage.sourceCode);\nresolve(descriptor.sourcePackage.sourceCode);}else {if(_PersistenceManager2.default.getVersion(descriptor.sourcePackageURL+\"/sourceCode\")>=descriptor.version){console.log(\"returning cached version from persistence manager\");resolve(_PersistenceManager2.default.get(descriptor.sourcePackageURL+\"/sourceCode\"));}else {_this.httpRequest.get(descriptor.sourcePackageURL+\"/sourceCode\").then(function(sourceCode){if(sourceCode[\"ERROR\"]){ // TODO handle error properly\nreject(sourceCode);}else {_PersistenceManager2.default.set(descriptor.sourcePackageURL+\"/sourceCode\",descriptor.version,sourceCode);resolve(sourceCode);}});}}});}},{key:'deleteFromPM',value:function deleteFromPM(url){_PersistenceManager2.default.delete(url);}},{key:'runtimeURL',set:function set(runtimeURL){var _this=this;_this._runtimeURL=runtimeURL;},get:function get(){var _this=this;return _this._runtimeURL;}}]);return RuntimeCatalogue;}();exports.default=RuntimeCatalogue;module.exports=exports['default'];\n\n},{\"../catalogue-factory/CatalogueDataObjectFactory\":92,\"../persistence/PersistenceManager\":99,\"../utils/utils\":103,\"babel-runtime/core-js/promise\":6,\"babel-runtime/helpers/classCallCheck\":8,\"babel-runtime/helpers/createClass\":9}],103:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _stringify=require('babel-runtime/core-js/json/stringify');var _stringify2=_interopRequireDefault(_stringify);exports.divideURL=divideURL;exports.deepClone=deepClone;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};} /**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/ /**\n * Support module with some functions will be useful\n * @module utils\n */ /**\n * @typedef divideURL\n * @type Object\n * @property {string} type The type of URL\n * @property {string} domain The domain of URL\n * @property {string} identity The identity of URL\n */ /**\n * Divide an url in type, domain and identity\n * @param  {URL.URL} url - url address\n * @return {divideURL} the result of divideURL\n */function divideURL(url){ // let re = /([a-zA-Z-]*)?:\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)*(\\/[\\/\\d\\w\\.-]*)*(?:[\\?])*(.+)*/gi;\nvar re=/([a-zA-Z-]*):\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;var subst='$1,$2,$3';var parts=url.replace(re,subst).split(','); // If the url has no protocol, the default protocol set is https\nif(parts[0]===url){parts[0]='https';parts[1]=url;}var result={type:parts[0],domain:parts[1],identity:parts[2]};return result;} /**\n * Make a COPY of the original data\n * @param  {Object}  obj - object to be cloned\n * @return {Object}\n */function deepClone(obj){ //TODO: simple but inefficient JSON deep clone...\nif(obj)return JSON.parse((0,_stringify2.default)(obj));}\n\n},{\"babel-runtime/core-js/json/stringify\":1}]},{},[90])(90)\n});"],"sourceRoot":"/source/"}