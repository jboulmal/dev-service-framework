{"version":3,"sources":["Syncher.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","Syncher","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","default","__esModule","core-js/library/fn/json/stringify","2","core-js/library/fn/object/create","3","core-js/library/fn/object/define-property","4","core-js/library/fn/object/get-own-property-descriptor","5","core-js/library/fn/object/get-prototype-of","6","core-js/library/fn/object/keys","7","core-js/library/fn/object/set-prototype-of","8","core-js/library/fn/promise","9","core-js/library/fn/symbol","10","core-js/library/fn/symbol/iterator","11","instance","Constructor","TypeError","12","_interopRequireDefault","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","../core-js/object/define-property","13","_getPrototypeOf","_getPrototypeOf2","_getOwnPropertyDescriptor","_getOwnPropertyDescriptor2","get","object","property","receiver","Function","desc","undefined","parent","value","getter","../core-js/object/get-own-property-descriptor","../core-js/object/get-prototype-of","14","_setPrototypeOf","_setPrototypeOf2","_create","_create2","_typeof2","_typeof3","subClass","superClass","constructor","__proto__","../core-js/object/create","../core-js/object/set-prototype-of","../helpers/typeof","15","ReferenceError","16","_iterator","_iterator2","_symbol","_symbol2","_typeof","../core-js/symbol","../core-js/symbol/iterator","17","core","$JSON","JSON","stringify","it","apply","arguments","../../modules/_core","18","$Object","Object","P","D","create","../../modules/es6.object.create","19","defineProperty","../../modules/es6.object.define-property","20","getOwnPropertyDescriptor","../../modules/es6.object.get-own-property-descriptor","21","getPrototypeOf","../../modules/es6.object.get-prototype-of","22","keys","../../modules/es6.object.keys","23","setPrototypeOf","../../modules/es6.object.set-prototype-of","24","Promise","../modules/_core","../modules/es6.object.to-string","../modules/es6.promise","../modules/es6.string.iterator","../modules/web.dom.iterable","25","Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol","../../modules/es7.symbol.async-iterator","../../modules/es7.symbol.observable","26","../../modules/_wks-ext","../../modules/es6.string.iterator","../../modules/web.dom.iterable","27","28","29","name","forbiddenField","30","isObject","./_is-object","31","toIObject","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","O","index","./_to-index","./_to-iobject","./_to-length","32","cof","TAG","ARG","tryGet","T","B","callee","./_cof","./_wks","33","toString","slice","34","version","__e","35","aFunction","fn","that","b","c","./_a-function","36","37","./_fails","38","document","is","createElement","./_global","39","split","40","getKeys","gOPS","pIE","result","getSymbols","symbols","isEnum","push","./_object-gops","./_object-keys","./_object-pie","41","ctx","hide","PROTOTYPE","$export","type","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","IS_BIND","IS_WRAP","W","expProto","C","virtual","R","U","./_core","./_ctx","./_hide","42","exec","43","isArrayIter","anObject","getIterFn","BREAK","RETURN","iterable","entries","ITERATOR","step","iterator","iterFn","next","done","./_an-object","./_is-array-iter","./_iter-call","./core.get-iterator-method","44","Math","__g","45","hasOwnProperty","46","dP","createDesc","./_descriptors","./_object-dp","./_property-desc","47","documentElement","48","./_dom-create","49","args","un","50","propertyIsEnumerable","51","Iterators","ArrayProto","Array","./_iterators","52","isArray","arg","53","54","ret","55","setToStringTag","IteratorPrototype","NAME","./_object-create","./_set-to-string-tag","56","LIBRARY","redefine","has","$iterCreate","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","values","./_export","./_has","./_iter-create","./_library","./_object-gpo","./_redefine","57","SAFE_CLOSING","riter","from","skipClosing","safe","arr","iter","58","59","60","61","62","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","./_uid","63","macrotask","set","Observer","MutationObserver","WebKitMutationObserver","process","isNode","head","last","notify","flush","domain","exit","enter","nextTick","toggle","node","createTextNode","observe","characterData","data","resolve","promise","then","task","./_task","64","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","gt","style","display","appendChild","src","contentWindow","open","write","close","Properties","./_enum-bug-keys","./_html","./_object-dps","./_shared-key","65","IE8_DOM_DEFINE","toPrimitive","Attributes","./_ie8-dom-define","./_to-primitive","66","67","gOPD","68","gOPN","windowNames","getOwnPropertyNames","getWindowNames","./_object-gopn","69","$keys","hiddenKeys","concat","./_object-keys-internal","70","getOwnPropertySymbols","71","toObject","ObjectProto","./_to-object","72","arrayIndexOf","names","./_array-includes","73","74","75","fails","exp","76","bitmap","77","78","79","check","test","buggy","./_object-gopd","80","DESCRIPTORS","SPECIES","81","def","tag","stat","82","shared","uid","./_shared","83","SHARED","store","84","85","toInteger","defined","TO_STRING","pos","String","charCodeAt","charAt","./_defined","./_to-integer","86","defer","channel","port","invoke","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","counter","queue","ONREADYSTATECHANGE","run","listener","event","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","clear","./_invoke","87","max","min","88","ceil","floor","isNaN","89","IObject","./_iobject","90","91","92","val","valueOf","93","px","random","94","wksExt","$Symbol","./_wks-ext","95","96","USE_SYMBOL","$exports","97","classof","getIteratorMethod","./_classof","98","addToUnscopables","iterated","_t","_i","_k","Arguments","./_add-to-unscopables","./_iter-define","./_iter-step","99","100","101","$getOwnPropertyDescriptor","./_object-sap","102","$getPrototypeOf","103","104","./_set-proto","105","106","Internal","GenericPromiseCapability","Wrapper","anInstance","forOf","speciesConstructor","microtask","PROMISE","$Promise","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","sameConstructor","isThenable","newPromiseCapability","PromiseCapability","reject","$$resolve","$$reject","perform","error","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","abrupt","console","isUnhandled","emit","onunhandledrejection","reason","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","err","onFulfilled","onRejected","catch","capability","x","all","remaining","$index","alreadyCalled","race","./_an-instance","./_for-of","./_iter-detect","./_microtask","./_redefine-all","./_set-species","./_species-constructor","107","$at","point","./_string-at","108","$fails","wks","wksDefine","keyOf","enumKeys","gOPNExt","$GOPD","$DP","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","for","keyFor","useSetter","useSimple","replacer","$replacer","./_enum-keys","./_is-array","./_keyof","./_meta","./_object-gopn-ext","./_wks-define","109","110","111","TO_STRING_TAG","collections","Collection","./es6.array.iterator","112","DataObjectObserver","DataObjectReporter","_Syncher","_Syncher2","_DataObjectReporter","_DataObjectReporter2","_DataObjectObserver","_DataObjectObserver2","./syncher/DataObjectObserver","./syncher/DataObjectReporter","./syncher/Syncher","113","_promise","_promise2","_keys","_keys2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_SyncObject","_SyncObject2","_DataObjectChild","_DataObjectChild2","_utils","DataObject","syncher","url","schema","initialStatus","initialData","childrens","_this","_syncher","_url","_schema","_status","_syncObj","_childrens","_version","_childId","_childrenObjects","_childrenListeners","_owner","_bus","_this2","childBaseURL","forEach","child","childURL","addListener","msg","log","_onChildCreate","_changeChildren","remove","_releaseListeners","children","msgChildId","msgChildPath","requestMsg","to","body","resource","msgId","newChild","onChange","_onChange","path","childId","callback","_onAddChildrenHandler","identity","childInfo","changeMsg","attribute","field","oType","ObjectType","OBJECT","cType","ChangeType","REMOVE","attributeType","UPDATE","operation","syncObj","deepClone","findResult","findBefore","ARRAY","ADD","splice","_arr","_index","_changeObject","../utils/utils.js","./DataObjectChild","./SyncObject","babel-runtime/core-js/object/keys","babel-runtime/core-js/promise","babel-runtime/helpers/classCallCheck","babel-runtime/helpers/createClass","114","DataObjectChild","owner","_parent","_msgId","_allocateListeners","_listener","_onResponse","_children","_onResponseHandler","115","_possibleConstructorReturn2","_possibleConstructorReturn3","_get2","_get3","_inherits2","_inherits3","_DataObject2","_DataObject3","FilterType","ANY","START","EXACT","_DataObject","initialVersion","_filters","_onFilter","childData","_changeListener","_observers","unSubscribeMsg","_subURL","reply","filter","filterObj","idx","indexOf","substr","./DataObject","babel-runtime/core-js/object/get-prototype-of","babel-runtime/helpers/get","babel-runtime/helpers/inherits","babel-runtime/helpers/possibleConstructorReturn","116","_subscriptions","_objectListener","_onRead","observers","inviteMsg","authorise","deleteMsg","_reporters","_onSubscriptionHandler","_onReadHandler","_onSubscribe","_onUnSubscribe","hypertyUrl","accept","sub","status","childrenValues","117","DataProvisional","bus","_changes","observer","change","118","SyncObject","_data","_internalObserve","Path","list","_findWithSplit","pop","_isObservable","changes","_onChanges","prop","_prop","np","ArrayIndex","objType","fieldString","removeSize","removed","removeValues","removeIndex","_fireEvent","addSize","addedCount","addValues","reIndexFrom","_field","_fieldString","newValue","_path","_observables","array","_this3","arrayIndex","nPath","clone","str","119","_DataProvisional","_DataProvisional2","config","runtimeURL","_provisionals","_onForward","_onRemoteCreate","_onRemoteDelete","reporter","objURL","newObj","childrenResources","subscribeMsg","newProvisional","readMsg","_onNotificationHandler","ack","lType","./DataObjectObserver","./DataObjectReporter","./DataProvisional","120","divideURL","re","subst","parts","replace","divideEmail","email","indexOfAt","username","substring","emptyObject","parse","_stringify2","getUserURLFromEmail","userEmail","getUserEmailFromURL","userURL","convertToUserURL","identifier","dividedURL","babel-runtime/core-js/json/stringify"],"mappings":"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","file":"Syncher.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Syncher = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n},{\"core-js/library/fn/json/stringify\":17}],2:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n},{\"core-js/library/fn/object/create\":18}],3:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n},{\"core-js/library/fn/object/define-property\":19}],4:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n},{\"core-js/library/fn/object/get-own-property-descriptor\":20}],5:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/get-prototype-of\":21}],6:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n},{\"core-js/library/fn/object/keys\":22}],7:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };\n},{\"core-js/library/fn/object/set-prototype-of\":23}],8:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n},{\"core-js/library/fn/promise\":24}],9:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n},{\"core-js/library/fn/symbol\":25}],10:[function(require,module,exports){\nmodule.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n},{\"core-js/library/fn/symbol/iterator\":26}],11:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n},{}],12:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n},{\"../core-js/object/define-property\":3}],13:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n},{\"../core-js/object/get-own-property-descriptor\":4,\"../core-js/object/get-prototype-of\":5}],14:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};\n},{\"../core-js/object/create\":2,\"../core-js/object/set-prototype-of\":7,\"../helpers/typeof\":16}],15:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n},{\"../helpers/typeof\":16}],16:[function(require,module,exports){\n\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n},{\"../core-js/symbol\":9,\"../core-js/symbol/iterator\":10}],17:[function(require,module,exports){\nvar core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n},{\"../../modules/_core\":34}],18:[function(require,module,exports){\nrequire('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};\n},{\"../../modules/_core\":34,\"../../modules/es6.object.create\":99}],19:[function(require,module,exports){\nrequire('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n},{\"../../modules/_core\":34,\"../../modules/es6.object.define-property\":100}],20:[function(require,module,exports){\nrequire('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n},{\"../../modules/_core\":34,\"../../modules/es6.object.get-own-property-descriptor\":101}],21:[function(require,module,exports){\nrequire('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n},{\"../../modules/_core\":34,\"../../modules/es6.object.get-prototype-of\":102}],22:[function(require,module,exports){\nrequire('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n},{\"../../modules/_core\":34,\"../../modules/es6.object.keys\":103}],23:[function(require,module,exports){\nrequire('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n},{\"../../modules/_core\":34,\"../../modules/es6.object.set-prototype-of\":104}],24:[function(require,module,exports){\nrequire('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n},{\"../modules/_core\":34,\"../modules/es6.object.to-string\":105,\"../modules/es6.promise\":106,\"../modules/es6.string.iterator\":107,\"../modules/web.dom.iterable\":111}],25:[function(require,module,exports){\nrequire('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n},{\"../../modules/_core\":34,\"../../modules/es6.object.to-string\":105,\"../../modules/es6.symbol\":108,\"../../modules/es7.symbol.async-iterator\":109,\"../../modules/es7.symbol.observable\":110}],26:[function(require,module,exports){\nrequire('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n},{\"../../modules/_wks-ext\":95,\"../../modules/es6.string.iterator\":107,\"../../modules/web.dom.iterable\":111}],27:[function(require,module,exports){\nmodule.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n},{}],28:[function(require,module,exports){\nmodule.exports = function(){ /* empty */ };\n},{}],29:[function(require,module,exports){\nmodule.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n},{}],30:[function(require,module,exports){\nvar isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n},{\"./_is-object\":53}],31:[function(require,module,exports){\n// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n},{\"./_to-index\":87,\"./_to-iobject\":89,\"./_to-length\":90}],32:[function(require,module,exports){\n// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n},{\"./_cof\":33,\"./_wks\":96}],33:[function(require,module,exports){\nvar toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n},{}],34:[function(require,module,exports){\nvar core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n},{}],35:[function(require,module,exports){\n// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n},{\"./_a-function\":27}],36:[function(require,module,exports){\n// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n},{}],37:[function(require,module,exports){\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n},{\"./_fails\":42}],38:[function(require,module,exports){\nvar isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n},{\"./_global\":44,\"./_is-object\":53}],39:[function(require,module,exports){\n// IE 8- don't enum bug keys\r\nmodule.exports = (\r\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\r\n).split(',');\n},{}],40:[function(require,module,exports){\n// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};\n},{\"./_object-gops\":70,\"./_object-keys\":73,\"./_object-pie\":74}],41:[function(require,module,exports){\nvar global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n},{\"./_core\":34,\"./_ctx\":35,\"./_global\":44,\"./_hide\":46}],42:[function(require,module,exports){\nmodule.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n},{}],43:[function(require,module,exports){\nvar ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n},{\"./_an-object\":30,\"./_ctx\":35,\"./_is-array-iter\":51,\"./_iter-call\":54,\"./_to-length\":90,\"./core.get-iterator-method\":97}],44:[function(require,module,exports){\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n},{}],45:[function(require,module,exports){\nvar hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n},{}],46:[function(require,module,exports){\nvar dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n},{\"./_descriptors\":37,\"./_object-dp\":65,\"./_property-desc\":76}],47:[function(require,module,exports){\nmodule.exports = require('./_global').document && document.documentElement;\n},{\"./_global\":44}],48:[function(require,module,exports){\nmodule.exports = !require('./_descriptors') && !require('./_fails')(function(){\r\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\r\n});\n},{\"./_descriptors\":37,\"./_dom-create\":38,\"./_fails\":42}],49:[function(require,module,exports){\n// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n},{}],50:[function(require,module,exports){\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n},{\"./_cof\":33}],51:[function(require,module,exports){\n// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n},{\"./_iterators\":59,\"./_wks\":96}],52:[function(require,module,exports){\n// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n},{\"./_cof\":33}],53:[function(require,module,exports){\nmodule.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n},{}],54:[function(require,module,exports){\n// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n},{\"./_an-object\":30}],55:[function(require,module,exports){\n'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n},{\"./_hide\":46,\"./_object-create\":64,\"./_property-desc\":76,\"./_set-to-string-tag\":81,\"./_wks\":96}],56:[function(require,module,exports){\n'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n},{\"./_export\":41,\"./_has\":45,\"./_hide\":46,\"./_iter-create\":55,\"./_iterators\":59,\"./_library\":61,\"./_object-gpo\":71,\"./_redefine\":78,\"./_set-to-string-tag\":81,\"./_wks\":96}],57:[function(require,module,exports){\nvar ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n},{\"./_wks\":96}],58:[function(require,module,exports){\nmodule.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n},{}],59:[function(require,module,exports){\nmodule.exports = {};\n},{}],60:[function(require,module,exports){\nvar getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n},{\"./_object-keys\":73,\"./_to-iobject\":89}],61:[function(require,module,exports){\nmodule.exports = true;\n},{}],62:[function(require,module,exports){\nvar META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n},{\"./_fails\":42,\"./_has\":45,\"./_is-object\":53,\"./_object-dp\":65,\"./_uid\":93}],63:[function(require,module,exports){\nvar global    = require('./_global')\n  , macrotask = require('./_task').set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = require('./_cof')(process) == 'process';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode('');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n},{\"./_cof\":33,\"./_global\":44,\"./_task\":86}],64:[function(require,module,exports){\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\r\nvar anObject    = require('./_an-object')\r\n  , dPs         = require('./_object-dps')\r\n  , enumBugKeys = require('./_enum-bug-keys')\r\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\r\n  , Empty       = function(){ /* empty */ }\r\n  , PROTOTYPE   = 'prototype';\r\n\r\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\r\nvar createDict = function(){\r\n  // Thrash, waste and sodomy: IE GC bug\r\n  var iframe = require('./_dom-create')('iframe')\r\n    , i      = enumBugKeys.length\r\n    , gt     = '>'\r\n    , iframeDocument;\r\n  iframe.style.display = 'none';\r\n  require('./_html').appendChild(iframe);\r\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\r\n  // createDict = iframe.contentWindow.Object;\r\n  // html.removeChild(iframe);\r\n  iframeDocument = iframe.contentWindow.document;\r\n  iframeDocument.open();\r\n  iframeDocument.write('<script>document.F=Object</script' + gt);\r\n  iframeDocument.close();\r\n  createDict = iframeDocument.F;\r\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\r\n  return createDict();\r\n};\r\n\r\nmodule.exports = Object.create || function create(O, Properties){\r\n  var result;\r\n  if(O !== null){\r\n    Empty[PROTOTYPE] = anObject(O);\r\n    result = new Empty;\r\n    Empty[PROTOTYPE] = null;\r\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\r\n    result[IE_PROTO] = O;\r\n  } else result = createDict();\r\n  return Properties === undefined ? result : dPs(result, Properties);\r\n};\n},{\"./_an-object\":30,\"./_dom-create\":38,\"./_enum-bug-keys\":39,\"./_html\":47,\"./_object-dps\":66,\"./_shared-key\":82}],65:[function(require,module,exports){\nvar anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n},{\"./_an-object\":30,\"./_descriptors\":37,\"./_ie8-dom-define\":48,\"./_to-primitive\":92}],66:[function(require,module,exports){\nvar dP       = require('./_object-dp')\r\n  , anObject = require('./_an-object')\r\n  , getKeys  = require('./_object-keys');\r\n\r\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\r\n  anObject(O);\r\n  var keys   = getKeys(Properties)\r\n    , length = keys.length\r\n    , i = 0\r\n    , P;\r\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\r\n  return O;\r\n};\n},{\"./_an-object\":30,\"./_descriptors\":37,\"./_object-dp\":65,\"./_object-keys\":73}],67:[function(require,module,exports){\nvar pIE            = require('./_object-pie')\r\n  , createDesc     = require('./_property-desc')\r\n  , toIObject      = require('./_to-iobject')\r\n  , toPrimitive    = require('./_to-primitive')\r\n  , has            = require('./_has')\r\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\r\n  , gOPD           = Object.getOwnPropertyDescriptor;\r\n\r\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\r\n  O = toIObject(O);\r\n  P = toPrimitive(P, true);\r\n  if(IE8_DOM_DEFINE)try {\r\n    return gOPD(O, P);\r\n  } catch(e){ /* empty */ }\r\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\r\n};\n},{\"./_descriptors\":37,\"./_has\":45,\"./_ie8-dom-define\":48,\"./_object-pie\":74,\"./_property-desc\":76,\"./_to-iobject\":89,\"./_to-primitive\":92}],68:[function(require,module,exports){\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n},{\"./_object-gopn\":69,\"./_to-iobject\":89}],69:[function(require,module,exports){\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\r\nvar $keys      = require('./_object-keys-internal')\r\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\r\n\r\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\r\n  return $keys(O, hiddenKeys);\r\n};\n},{\"./_enum-bug-keys\":39,\"./_object-keys-internal\":72}],70:[function(require,module,exports){\nexports.f = Object.getOwnPropertySymbols;\n},{}],71:[function(require,module,exports){\n// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\r\nvar has         = require('./_has')\r\n  , toObject    = require('./_to-object')\r\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\r\n  , ObjectProto = Object.prototype;\r\n\r\nmodule.exports = Object.getPrototypeOf || function(O){\r\n  O = toObject(O);\r\n  if(has(O, IE_PROTO))return O[IE_PROTO];\r\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\r\n    return O.constructor.prototype;\r\n  } return O instanceof Object ? ObjectProto : null;\r\n};\n},{\"./_has\":45,\"./_shared-key\":82,\"./_to-object\":91}],72:[function(require,module,exports){\nvar has          = require('./_has')\r\n  , toIObject    = require('./_to-iobject')\r\n  , arrayIndexOf = require('./_array-includes')(false)\r\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\r\n\r\nmodule.exports = function(object, names){\r\n  var O      = toIObject(object)\r\n    , i      = 0\r\n    , result = []\r\n    , key;\r\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\r\n  // Don't enum bug & hidden keys\r\n  while(names.length > i)if(has(O, key = names[i++])){\r\n    ~arrayIndexOf(result, key) || result.push(key);\r\n  }\r\n  return result;\r\n};\n},{\"./_array-includes\":31,\"./_has\":45,\"./_shared-key\":82,\"./_to-iobject\":89}],73:[function(require,module,exports){\n// 19.1.2.14 / 15.2.3.14 Object.keys(O)\r\nvar $keys       = require('./_object-keys-internal')\r\n  , enumBugKeys = require('./_enum-bug-keys');\r\n\r\nmodule.exports = Object.keys || function keys(O){\r\n  return $keys(O, enumBugKeys);\r\n};\n},{\"./_enum-bug-keys\":39,\"./_object-keys-internal\":72}],74:[function(require,module,exports){\nexports.f = {}.propertyIsEnumerable;\n},{}],75:[function(require,module,exports){\n// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n},{\"./_core\":34,\"./_export\":41,\"./_fails\":42}],76:[function(require,module,exports){\nmodule.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n},{}],77:[function(require,module,exports){\nvar hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n},{\"./_hide\":46}],78:[function(require,module,exports){\nmodule.exports = require('./_hide');\n},{\"./_hide\":46}],79:[function(require,module,exports){\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n},{\"./_an-object\":30,\"./_ctx\":35,\"./_is-object\":53,\"./_object-gopd\":67}],80:[function(require,module,exports){\n'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n},{\"./_core\":34,\"./_descriptors\":37,\"./_global\":44,\"./_object-dp\":65,\"./_wks\":96}],81:[function(require,module,exports){\nvar def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n},{\"./_has\":45,\"./_object-dp\":65,\"./_wks\":96}],82:[function(require,module,exports){\nvar shared = require('./_shared')('keys')\r\n  , uid    = require('./_uid');\r\nmodule.exports = function(key){\r\n  return shared[key] || (shared[key] = uid(key));\r\n};\n},{\"./_shared\":83,\"./_uid\":93}],83:[function(require,module,exports){\nvar global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n},{\"./_global\":44}],84:[function(require,module,exports){\n// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = require('./_an-object')\n  , aFunction = require('./_a-function')\n  , SPECIES   = require('./_wks')('species');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n},{\"./_a-function\":27,\"./_an-object\":30,\"./_wks\":96}],85:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n},{\"./_defined\":36,\"./_to-integer\":88}],86:[function(require,module,exports){\nvar ctx                = require('./_ctx')\n  , invoke             = require('./_invoke')\n  , html               = require('./_html')\n  , cel                = require('./_dom-create')\n  , global             = require('./_global')\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(require('./_cof')(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n},{\"./_cof\":33,\"./_ctx\":35,\"./_dom-create\":38,\"./_global\":44,\"./_html\":47,\"./_invoke\":49}],87:[function(require,module,exports){\nvar toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n},{\"./_to-integer\":88}],88:[function(require,module,exports){\n// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n},{}],89:[function(require,module,exports){\n// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n},{\"./_defined\":36,\"./_iobject\":50}],90:[function(require,module,exports){\n// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n},{\"./_to-integer\":88}],91:[function(require,module,exports){\n// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n},{\"./_defined\":36}],92:[function(require,module,exports){\n// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n},{\"./_is-object\":53}],93:[function(require,module,exports){\nvar id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n},{}],94:[function(require,module,exports){\nvar global         = require('./_global')\r\n  , core           = require('./_core')\r\n  , LIBRARY        = require('./_library')\r\n  , wksExt         = require('./_wks-ext')\r\n  , defineProperty = require('./_object-dp').f;\r\nmodule.exports = function(name){\r\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\r\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\r\n};\n},{\"./_core\":34,\"./_global\":44,\"./_library\":61,\"./_object-dp\":65,\"./_wks-ext\":95}],95:[function(require,module,exports){\nexports.f = require('./_wks');\n},{\"./_wks\":96}],96:[function(require,module,exports){\nvar store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n},{\"./_global\":44,\"./_shared\":83,\"./_uid\":93}],97:[function(require,module,exports){\nvar classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n},{\"./_classof\":32,\"./_core\":34,\"./_iterators\":59,\"./_wks\":96}],98:[function(require,module,exports){\n'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n},{\"./_add-to-unscopables\":28,\"./_iter-define\":56,\"./_iter-step\":58,\"./_iterators\":59,\"./_to-iobject\":89}],99:[function(require,module,exports){\nvar $export = require('./_export')\r\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\r\n$export($export.S, 'Object', {create: require('./_object-create')});\n},{\"./_export\":41,\"./_object-create\":64}],100:[function(require,module,exports){\nvar $export = require('./_export');\r\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\r\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n},{\"./_descriptors\":37,\"./_export\":41,\"./_object-dp\":65}],101:[function(require,module,exports){\n// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = require('./_to-iobject')\n  , $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n},{\"./_object-gopd\":67,\"./_object-sap\":75,\"./_to-iobject\":89}],102:[function(require,module,exports){\n// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});\n},{\"./_object-gpo\":71,\"./_object-sap\":75,\"./_to-object\":91}],103:[function(require,module,exports){\n// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n},{\"./_object-keys\":73,\"./_object-sap\":75,\"./_to-object\":91}],104:[function(require,module,exports){\n// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});\n},{\"./_export\":41,\"./_set-proto\":79}],105:[function(require,module,exports){\n\n},{}],106:[function(require,module,exports){\n'use strict';\nvar LIBRARY            = require('./_library')\n  , global             = require('./_global')\n  , ctx                = require('./_ctx')\n  , classof            = require('./_classof')\n  , $export            = require('./_export')\n  , isObject           = require('./_is-object')\n  , anObject           = require('./_an-object')\n  , aFunction          = require('./_a-function')\n  , anInstance         = require('./_an-instance')\n  , forOf              = require('./_for-of')\n  , setProto           = require('./_set-proto').set\n  , speciesConstructor = require('./_species-constructor')\n  , task               = require('./_task').set\n  , microtask          = require('./_microtask')()\n  , PROMISE            = 'Promise'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == 'process'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError('Promise-chain cycle'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit('unhandledRejection', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit('rejectionHandled', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError(\"Promise can't be resolved itself\");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function(iter){\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n},{\"./_a-function\":27,\"./_an-instance\":29,\"./_an-object\":30,\"./_classof\":32,\"./_core\":34,\"./_ctx\":35,\"./_export\":41,\"./_for-of\":43,\"./_global\":44,\"./_is-object\":53,\"./_iter-detect\":57,\"./_library\":61,\"./_microtask\":63,\"./_redefine-all\":77,\"./_set-proto\":79,\"./_set-species\":80,\"./_set-to-string-tag\":81,\"./_species-constructor\":84,\"./_task\":86,\"./_wks\":96}],107:[function(require,module,exports){\n'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n},{\"./_iter-define\":56,\"./_string-at\":85}],108:[function(require,module,exports){\n'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n},{\"./_an-object\":30,\"./_descriptors\":37,\"./_enum-keys\":40,\"./_export\":41,\"./_fails\":42,\"./_global\":44,\"./_has\":45,\"./_hide\":46,\"./_is-array\":52,\"./_keyof\":60,\"./_library\":61,\"./_meta\":62,\"./_object-create\":64,\"./_object-dp\":65,\"./_object-gopd\":67,\"./_object-gopn\":69,\"./_object-gopn-ext\":68,\"./_object-gops\":70,\"./_object-keys\":73,\"./_object-pie\":74,\"./_property-desc\":76,\"./_redefine\":78,\"./_set-to-string-tag\":81,\"./_shared\":83,\"./_to-iobject\":89,\"./_to-primitive\":92,\"./_uid\":93,\"./_wks\":96,\"./_wks-define\":94,\"./_wks-ext\":95}],109:[function(require,module,exports){\nrequire('./_wks-define')('asyncIterator');\n},{\"./_wks-define\":94}],110:[function(require,module,exports){\nrequire('./_wks-define')('observable');\n},{\"./_wks-define\":94}],111:[function(require,module,exports){\nrequire('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n},{\"./_global\":44,\"./_hide\":46,\"./_iterators\":59,\"./_wks\":96,\"./es6.array.iterator\":98}],112:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.DataObjectObserver=exports.DataObjectReporter=exports.Syncher=undefined;var _Syncher=require('./syncher/Syncher');var _Syncher2=_interopRequireDefault(_Syncher);var _DataObjectReporter=require('./syncher/DataObjectReporter');var _DataObjectReporter2=_interopRequireDefault(_DataObjectReporter);var _DataObjectObserver=require('./syncher/DataObjectObserver');var _DataObjectObserver2=_interopRequireDefault(_DataObjectObserver);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.Syncher=_Syncher2.default;exports.DataObjectReporter=_DataObjectReporter2.default;exports.DataObjectObserver=_DataObjectObserver2.default;// polyfills\n// Removed because the compatibility of runtime-nodejs\n// import 'mutationobserver-shim';\n// import 'object.observe';\n// import 'array.observe';\n\n},{\"./syncher/DataObjectObserver\":115,\"./syncher/DataObjectReporter\":116,\"./syncher/Syncher\":119}],113:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _promise=require('babel-runtime/core-js/promise');var _promise2=_interopRequireDefault(_promise);var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _SyncObject=require('./SyncObject');var _SyncObject2=_interopRequireDefault(_SyncObject);var _DataObjectChild=require('./DataObjectChild');var _DataObjectChild2=_interopRequireDefault(_DataObjectChild);var _utils=require('../utils/utils.js');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * Main extension class for observers and reporters, with common properties and methods.\n * Children management is common for observers and reporters.\n *//**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var DataObject=function(){/* private\n  _version: number\n\n  _owner: HypertyURL\n  _url: ObjectURL\n  _schema: Schema\n  _bus: MiniBus\n  _status: on | paused\n  _syncObj: SyncData\n\n  _children: { id: DataObjectChild }\n  _childrenListeners: [MsgListener]\n\n  ----event handlers----\n  _onAddChildHandler: (event) => void\n  *//**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher create or subscribe method's\n   */function DataObject(syncher,url,schema,initialStatus,initialData,childrens){(0,_classCallCheck3.default)(this,DataObject);var _this=this;_this._syncher=syncher;_this._url=url;_this._schema=schema;_this._status=initialStatus;_this._syncObj=new _SyncObject2.default(initialData);_this._childrens=childrens;_this._version=0;_this._childId=0;_this._childrenObjects={};_this._childrenListeners=[];_this._owner=syncher._owner;_this._bus=syncher._bus;}(0,_createClass3.default)(DataObject,[{key:'_allocateListeners',value:function _allocateListeners(){var _this2=this;var _this=this;var childBaseURL=_this._url+'/children/';if(_this._childrens){_this._childrens.forEach(function(child){var childURL=childBaseURL+child;var listener=_this._bus.addListener(childURL,function(msg){//ignore msg sent by himself\nif(msg.from!==_this2._owner){console.log('DataObject-Children-RCV: ',msg);switch(msg.type){case'create':_this._onChildCreate(msg);break;case'delete':console.log(msg);break;default:_this._changeChildren(msg);break;}}});_this._childrenListeners.push(listener);});}}},{key:'_releaseListeners',value:function _releaseListeners(){var _this=this;_this._childrenListeners.forEach(function(listener){listener.remove();});(0,_keys2.default)(_this._childrenObjects).forEach(function(key){_this._childrenObjects[key]._releaseListeners();});}/**\n   * Object URL of reporter or observer\n   * @type {ObjectURL}\n   */},{key:'pause',/**\n   * @ignore\n   */value:function pause(){//TODO: this feature needs more analise\nthrow'Not implemented';}/**\n   * @ignore\n   */},{key:'resume',value:function resume(){//TODO: this feature needs more analise\nthrow'Not implemented';}/**\n   * @ignore\n   */},{key:'stop',value:function stop(){//TODO: should remove the subscription and send message unsubscribe?\nthrow'Not implemented';}/**\n   * Create and add a DataObjectChild to a children collection.\n   * @param {String} children - Children name where the child is added.\n   * @param {JSON} initialData - Initial data of the child\n   * @return {Promise<DataObjectChild>} - Return Promise to a new DataObjectChild.\n   */},{key:'addChild',value:function addChild(children,initialData){var _this=this;//create new child unique ID, based on hypertyURL\n_this._childId++;var msgChildId=_this._owner+'#'+_this._childId;var msgChildPath=_this._url+'/children/'+children;//FLOW-OUT: this message will be sent directly to a resource child address: MessageBus\nvar requestMsg={type:'create',from:_this._owner,to:msgChildPath,body:{resource:msgChildId,value:initialData}};//returns promise, in the future, the API may change to asynchronous call\nreturn new _promise2.default(function(resolve){var msgId=_this._bus.postMessage(requestMsg);console.log('create-reporter-child( '+_this._owner+' ): ',requestMsg);var newChild=new _DataObjectChild2.default(_this,msgChildId,initialData,_this._owner,msgId);newChild.onChange(function(event){_this._onChange(event,{path:msgChildPath,childId:msgChildId});});_this._childrenObjects[msgChildId]=newChild;resolve(newChild);});}/**\n   * Setup the callback to process create and delete of childrens.\n   * @param {function(event: MsgEvent)} callback\n   */},{key:'onAddChild',value:function onAddChild(callback){this._onAddChildrenHandler=callback;}//FLOW-IN: message received from a remote DataObject -> addChild\n},{key:'_onChildCreate',value:function _onChildCreate(msg){var _this=this;var msgChildId=msg.body.resource;console.log('create-observer-child( '+_this._owner+' ): ',msg);var newChild=new _DataObjectChild2.default(_this,msgChildId,msg.body.value);_this._childrenObjects[msgChildId]=newChild;setTimeout(function(){//FLOW-OUT: will flow to DataObjectChild -> _onResponse\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:200,source:_this._owner}});});var event={type:msg.type,from:msg.from,url:msg.to,value:msg.body.value,childId:msgChildId,identity:msg.body.identity};if(_this._onAddChildrenHandler){console.log('ADD-CHILDREN-EVENT: ',event);_this._onAddChildrenHandler(event);}}//send delta messages to subscriptions\n},{key:'_onChange',value:function _onChange(event,childInfo){var _this=this;_this._version++;if(_this._status==='on'){//FLOW-OUT: this message will be sent directly to a resource changes address: MessageBus\nvar changeMsg={type:'update',from:_this._url,to:_this._url+'/changes',body:{version:_this._version,source:_this._owner,attribute:event.field}};if(event.oType===_SyncObject.ObjectType.OBJECT){if(event.cType!==_SyncObject.ChangeType.REMOVE){changeMsg.body.value=event.data;}}else{changeMsg.body.attributeType=event.oType;changeMsg.body.value=event.data;if(event.cType!==_SyncObject.ChangeType.UPDATE){changeMsg.body.operation=event.cType;}}//childInfo must have (path, childId)\nif(childInfo){changeMsg.to=childInfo.path;changeMsg.body.resource=childInfo.childId;}_this._bus.postMessage(changeMsg);}}//FLOW-IN: delta message received from a remote DataObjectReporter or DataObjectChild when changing data\n},{key:'_changeObject',value:function _changeObject(syncObj,msg){var _this=this;//TODO: update version ?\n//how to handle an incorrect version ? Example: receive a version 3 when the observer is in version 1, where is the version 2 ?\n//will we need to confirm the reception ?\nif(_this._version+1===msg.body.version){_this._version++;var path=msg.body.attribute;var value=(0,_utils.deepClone)(msg.body.value);var findResult=syncObj.findBefore(path);if(msg.body.attributeType===_SyncObject.ObjectType.ARRAY){if(msg.body.operation===_SyncObject.ChangeType.ADD){var arr=findResult.obj;var index=findResult.last;Array.prototype.splice.apply(arr,[index,0].concat(value));}else if(msg.body.operation===_SyncObject.ChangeType.REMOVE){var _arr=findResult.obj;var _index=findResult.last;_arr.splice(_index,value);}else{findResult.obj[findResult.last]=value;// UPDATE\n}}else{if(msg.body.value){findResult.obj[findResult.last]=value;// UPDATE or ADD\n}else{delete findResult.obj[findResult.last];// REMOVE\n}}}else{//TODO: how to handle unsynchronized versions?\nconsole.log('UNSYNCHRONIZED VERSION: (data => '+_this._version+', msg => '+msg.body.version+')');}}//FLOW-IN: message received from a remote DataObjectChild when changing data\n},{key:'_changeChildren',value:function _changeChildren(msg){var _this=this;console.log('Change children: ',_this._owner,msg);var childId=msg.body.resource;var children=_this._childrenObjects[childId];if(children){_this._changeObject(children._syncObj,msg);}else{console.log('No children found for: ',childId);}}},{key:'url',get:function get(){return this._url;}/**\n   * Object schema URL (this field is not yet stable, and is subsject to change)\n   * @type {SchemaURL}\n   */},{key:'schema',get:function get(){return this._schema;}/**\n   * Status of the reporter or observer connection (this field is not yet stable, and is subsject to change)\n   * @type {Status} - Enum of: on | paused\n   */},{key:'status',get:function get(){return this._status;}/**\n   * Data structure to be synchronized.\n   * @type {JSON} - JSON structure that should follow the defined schema, if any.\n   */},{key:'data',get:function get(){return this._syncObj.data;}/**\n   * All created children's since the subscription, doesn't contain all children's since reporter creation.\n   * @type {Object<ChildId, DataObjectChild>}\n   */},{key:'childrens',get:function get(){return this._childrenObjects;}}]);return DataObject;}();exports.default=DataObject;module.exports=exports['default'];\n\n},{\"../utils/utils.js\":120,\"./DataObjectChild\":114,\"./SyncObject\":118,\"babel-runtime/core-js/object/keys\":6,\"babel-runtime/core-js/promise\":8,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12}],114:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _SyncObject=require('./SyncObject');var _SyncObject2=_interopRequireDefault(_SyncObject);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * The class returned from the DataObject addChildren call or from onAddChildren if remotely created.\n * Children object synchronization is a a fast forward mechanism, no need for direct subscriptions, it uses the already authorized subscription from the parent DataObject.\n */var DataObjectChild/* implements SyncStatus */=function(){/* private\n\n  ----event handlers----\n  _onResponseHandler: (event) => void\n  *//**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the DataObject.addChildren\n   */function DataObjectChild(parent,childId,initialData,owner,msgId){(0,_classCallCheck3.default)(this,DataObjectChild);var _this=this;_this._parent=parent;_this._childId=childId;_this._owner=owner;_this._msgId=msgId;_this._syncObj=new _SyncObject2.default(initialData);_this._bus=parent._bus;_this._allocateListeners();}(0,_createClass3.default)(DataObjectChild,[{key:'_allocateListeners',value:function _allocateListeners(){var _this=this;//this is only needed for children reporters\nif(_this._owner){_this._listener=_this._bus.addListener(_this._owner,function(msg){if(msg.type==='response'&&msg.id===_this._msgId){console.log('DataObjectChild.onResponse:',msg);_this._onResponse(msg);}});}}},{key:'_releaseListeners',value:function _releaseListeners(){var _this=this;if(_this._listener){_this._listener.remove();}}/**\n   * Release and delete object data\n   */},{key:'delete',value:function _delete(){var _this=this;delete _this._parent._children[_this._childId];_this._releaseListeners();//TODO: send delete message ?\n}/**\n   * Children ID generated on addChildren. Unique identifier\n   * @type {URL} - URL of the format <HypertyURL>#<numeric-sequence>\n   */},{key:'onChange',/**\n   * Register the change listeners sent by the reporter child\n   * @param {function(event: MsgEvent)} callback\n   */value:function onChange(callback){this._syncObj.observe(function(event){callback(event);});}/**\n   * Setup the callback to process response notifications of the creates\n   * @param {function(event: MsgEvent)} callback\n   */},{key:'onResponse',value:function onResponse(callback){this._onResponseHandler=callback;}//FLOW-IN: message received from a remote DataObject -> _onChildCreate\n},{key:'_onResponse',value:function _onResponse(msg){var _this=this;var event={type:msg.type,url:msg.body.source,code:msg.body.code};if(_this._onResponseHandler){_this._onResponseHandler(event);}}},{key:'childId',get:function get(){return this._childId;}/**\n   * Data Structure to be synchronized.\n   * @type {JSON} - JSON structure that should follow the defined schema, if any.\n   */},{key:'data',get:function get(){return this._syncObj.data;}}]);return DataObjectChild;}();/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/exports.default=DataObjectChild;module.exports=exports['default'];\n\n},{\"./SyncObject\":118,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12}],115:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _get2=require('babel-runtime/helpers/get');var _get3=_interopRequireDefault(_get2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _DataObject2=require('./DataObject');var _DataObject3=_interopRequireDefault(_DataObject2);var _DataObjectChild=require('./DataObjectChild');var _DataObjectChild2=_interopRequireDefault(_DataObjectChild);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var FilterType={ANY:'any',START:'start',EXACT:'exact'};/**\n * The class returned from the Syncher subscribe call.\n * To be used as an observation point from a DataObjectReporter change.\n */var DataObjectObserver=function(_DataObject){(0,_inherits3.default)(DataObjectObserver,_DataObject);/* private\n  _changeListener: MsgListener\n\n  ----event handlers----\n  _filters: {<filter>: {type: <start, exact>, callback: <function>} }\n  *//**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher.subscribe method\n   */function DataObjectObserver(syncher,url,schema,initialStatus,initialData,childrens,initialVersion){(0,_classCallCheck3.default)(this,DataObjectObserver);var _this2=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(DataObjectObserver).call(this,syncher,url,schema,initialStatus,initialData.data,childrens));var _this=_this2;_this._version=initialVersion;_this._filters={};_this._syncObj.observe(function(event){_this._onFilter(event);});//setup childrens data from subscription\n(0,_keys2.default)(initialData.childrens).forEach(function(childId){var childData=initialData.childrens[childId];_this._childrenObjects[childId]=new _DataObjectChild2.default(_this,childId,childData);});_this._allocateListeners();return _this2;}(0,_createClass3.default)(DataObjectObserver,[{key:'_allocateListeners',value:function _allocateListeners(){(0,_get3.default)((0,_getPrototypeOf2.default)(DataObjectObserver.prototype),'_allocateListeners',this).call(this);var _this=this;_this._changeListener=_this._bus.addListener(_this._url+'/changes',function(msg){if(msg.type==='update'){console.log('DataObjectObserver-'+_this._url+'-RCV: ',msg);_this._changeObject(_this._syncObj,msg);}});}},{key:'_releaseListeners',value:function _releaseListeners(){(0,_get3.default)((0,_getPrototypeOf2.default)(DataObjectObserver.prototype),'_releaseListeners',this).call(this);var _this=this;_this._changeListener.remove();}/**\n   * Release and delete object data\n   */},{key:'delete',value:function _delete(){var _this=this;_this._releaseListeners();delete _this._syncher._observers[_this._url];}/**\n   * Release and delete object data\n   */},{key:'unsubscribe',value:function unsubscribe(){var _this=this;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalUnSubscribe\nvar unSubscribeMsg={type:'unsubscribe',from:_this._owner,to:_this._syncher._subURL,body:{resource:_this._url}};_this._bus.postMessage(unSubscribeMsg,function(reply){console.log('DataObjectObserver-UNSUBSCRIBE: ',reply);if(reply.body.code===200){_this._releaseListeners();delete _this._syncher._observers[_this._url];}});}/**\n   * Register the change listeners sent by the reporter\n   * @param {string} filter - Filter that identifies the field (separated dot path). Accepts * at the end for a more unrestricted filtering.\n   * @param {function(event: MsgEvent)} callback\n   */},{key:'onChange',value:function onChange(filter,callback){var key=filter;var filterObj={type:FilterType.EXACT,callback:callback};var idx=filter.indexOf('*');if(idx===filter.length-1){if(idx===0){filterObj.type=FilterType.ANY;}else{filterObj.type=FilterType.START;key=filter.substr(0,filter.length-1);}}this._filters[key]=filterObj;}},{key:'_onFilter',value:function _onFilter(event){var _this=this;(0,_keys2.default)(_this._filters).forEach(function(key){var filter=_this._filters[key];if(filter.type===FilterType.ANY){//match anything\nfilter.callback(event);}else if(filter.type===FilterType.START){//if starts with filter...\nif(event.field.indexOf(key)===0){filter.callback(event);}}else if(filter.type===FilterType.EXACT){//exact match\nif(event.field===key){filter.callback(event);}}});}}]);return DataObjectObserver;}(_DataObject3.default/* implements SyncStatus */);exports.default=DataObjectObserver;module.exports=exports['default'];\n\n},{\"./DataObject\":113,\"./DataObjectChild\":114,\"babel-runtime/core-js/object/get-prototype-of\":5,\"babel-runtime/core-js/object/keys\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"babel-runtime/helpers/get\":13,\"babel-runtime/helpers/inherits\":14,\"babel-runtime/helpers/possibleConstructorReturn\":15}],116:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);var _getPrototypeOf=require('babel-runtime/core-js/object/get-prototype-of');var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require('babel-runtime/helpers/possibleConstructorReturn');var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _get2=require('babel-runtime/helpers/get');var _get3=_interopRequireDefault(_get2);var _inherits2=require('babel-runtime/helpers/inherits');var _inherits3=_interopRequireDefault(_inherits2);var _DataObject2=require('./DataObject');var _DataObject3=_interopRequireDefault(_DataObject2);var _utils=require('../utils/utils.js');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * The class returned from the Syncher create call.\n * To be used as a reporter point, changes will be submited to DataObjectObserver instances.\n *//**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var DataObjectReporter=function(_DataObject){(0,_inherits3.default)(DataObjectReporter,_DataObject);/* private\n  _subscriptions: <hypertyUrl: { status: string } }>\n\n  ----event handlers----\n  _onSubscriptionHandler: (event) => void\n  _onResponseHandler: (event) => void\n  _onReadHandler: (event) => void\n  *//**\n   * @ignore\n   * Should not be used directly by Hyperties. It's called by the Syncher.create method\n   */function DataObjectReporter(syncher,url,schema,initialStatus,initialData,childrens){(0,_classCallCheck3.default)(this,DataObjectReporter);var _this2=(0,_possibleConstructorReturn3.default)(this,(0,_getPrototypeOf2.default)(DataObjectReporter).call(this,syncher,url,schema,initialStatus,initialData,childrens));var _this=_this2;_this._subscriptions={};_this._syncObj.observe(function(event){console.log('DataObjectReporter-'+url+'-SEND: ',event);_this._onChange(event);});_this._allocateListeners();return _this2;}(0,_createClass3.default)(DataObjectReporter,[{key:'_allocateListeners',value:function _allocateListeners(){(0,_get3.default)((0,_getPrototypeOf2.default)(DataObjectReporter.prototype),'_allocateListeners',this).call(this);var _this=this;_this._objectListener=_this._bus.addListener(_this._url,function(msg){console.log('DataObject-'+_this._url+'-RCV: ',msg);switch(msg.type){case'response':_this._onResponse(msg);break;case'read':_this._onRead(msg);break;}});}},{key:'_releaseListeners',value:function _releaseListeners(){(0,_get3.default)((0,_getPrototypeOf2.default)(DataObjectReporter.prototype),'_releaseListeners',this).call(this);var _this=this;_this._objectListener.remove();}/**\n   * Send invitations (create messages) to hyperties, observers list.\n   * @param  {HypertyURL[]} observers List of Hyperty URL's\n   */},{key:'inviteObservers',value:function inviteObservers(observers){var _this=this;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\nvar inviteMsg={type:'create',from:_this._syncher._owner,to:_this._syncher._subURL,body:{resource:_this._url,schema:_this._schema,value:_this._syncObj.data,authorise:observers}};_this._bus.postMessage(inviteMsg);}/**\n   * Release and delete object data\n   */},{key:'delete',value:function _delete(){var _this=this;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onDelete\nvar deleteMsg={type:'delete',from:_this._owner,to:_this._syncher._subURL,body:{resource:_this._url}};_this._bus.postMessage(deleteMsg,function(reply){console.log('DataObjectReporter-DELETE: ',reply);if(reply.body.code===200){_this._releaseListeners();delete _this._syncher._reporters[_this._url];}});}/**\n   * Subscriptions requested and accepted to this reporter\n   * @type {Object<HypertyURL, SyncSubscription>}\n   */},{key:'onSubscription',/**\n   * Setup the callback to process subscribe and unsubscribe notifications\n   * @param {function(event: MsgEvent)} callback function to receive events\n   */value:function onSubscription(callback){this._onSubscriptionHandler=callback;}/**\n   * Setup the callback to process response notifications of the create's\n   * @param {function(event: MsgEvent)} callback function to receive events\n   */},{key:'onResponse',value:function onResponse(callback){this._onResponseHandler=callback;}/**\n   * Setup the callback to process read notifications\n   * @param {function(event: MsgEvent)} callback\n   */},{key:'onRead',value:function onRead(callback){this._onReadHandler=callback;}//FLOW-IN: message received from parent Syncher -> _onForward\n},{key:'_onForward',value:function _onForward(msg){var _this=this;console.log('DataObjectReporter-RCV: ',msg);switch(msg.body.type){case'subscribe':_this._onSubscribe(msg);break;case'unsubscribe':_this._onUnSubscribe(msg);break;}}//FLOW-IN: message received from this -> _onForward: emitted by a remote Syncher -> subscribe\n},{key:'_onSubscribe',value:function _onSubscribe(msg){var _this=this;var hypertyUrl=msg.body.from;var event={type:msg.body.type,url:hypertyUrl,identity:msg.body.identity,accept:function accept(){//create new subscription\nvar sub={url:hypertyUrl,status:'on'};_this._subscriptions[hypertyUrl]=sub;//process and send childrens data\nvar childrenValues={};(0,_keys2.default)(_this._childrenObjects).forEach(function(childId){var childData=_this._childrenObjects[childId].data;childrenValues[childId]=(0,_utils.deepClone)(childData);});//send ok response message\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:200,schema:_this._schema,version:_this._version,value:{data:(0,_utils.deepClone)(_this.data),childrens:childrenValues}}});return sub;},reject:function reject(reason){//send reject response message\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:403,desc:reason}});}};if(_this._onSubscriptionHandler){console.log('SUBSCRIPTION-EVENT: ',event);_this._onSubscriptionHandler(event);}}//FLOW-IN: message received from this -> _onForward: emitted by a remote DataObjectObserver -> unsubscribe\n},{key:'_onUnSubscribe',value:function _onUnSubscribe(msg){var _this=this;var hypertyUrl=msg.body.from;var sub=_this._subscriptions[hypertyUrl];delete _this._subscriptions[hypertyUrl];var event={type:msg.body.type,url:hypertyUrl,object:sub};if(_this._onSubscriptionHandler){console.log('UN-SUBSCRIPTION-EVENT: ',event);_this._onSubscriptionHandler(event);}}//FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> _onRemoteCreate -> event.ack\n},{key:'_onResponse',value:function _onResponse(msg){var _this=this;var event={type:msg.type,url:msg.from,code:msg.body.code};if(_this._onResponseHandler){console.log('RESPONSE-EVENT: ',event);_this._onResponseHandler(event);}}//FLOW-IN: message received from ReporterURL address: emited by a remote Syncher -> read\n},{key:'_onRead',value:function _onRead(msg){var _this=this;var event={type:msg.type,url:msg.from,accept:function accept(){_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:200,value:(0,_utils.deepClone)(_this.data)}});},reject:function reject(reason){_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:401,desc:reason}});}};if(_this._onReadHandler){console.log('READ-EVENT: ',event);_this._onReadHandler(event);}}},{key:'subscriptions',get:function get(){return this._subscriptions;}}]);return DataObjectReporter;}(_DataObject3.default/* implements SyncStatus */);exports.default=DataObjectReporter;module.exports=exports['default'];\n\n},{\"../utils/utils.js\":120,\"./DataObject\":113,\"babel-runtime/core-js/object/get-prototype-of\":5,\"babel-runtime/core-js/object/keys\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12,\"babel-runtime/helpers/get\":13,\"babel-runtime/helpers/inherits\":14,\"babel-runtime/helpers/possibleConstructorReturn\":15}],117:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**//**\n * @access private\n * This class is responsible for collecting delta changes in remote objects, before the response of subscription reach the observer.\n * It's used in Syncher -> subscribe. The flow is defined as:\n * 1. (observer) --subscribe--> (reporter)\n * 2. (observer) <--delta updates-- (reporter)\n * 3. (observer) <--subscribe response-- (reporter)\n * This means that there could be delta updates transferred before the subscription confirmation.\n * Since there is no DataObjectObserver before the ubscription confirmation, there should be some other object collecting the updates.\n * Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n */var DataProvisional=function(){/* private\n  _childrenListeners: [MsgListener]\n  _listener: MsgListener\n\n  _changes: []\n  */function DataProvisional(owner,url,bus,children){(0,_classCallCheck3.default)(this,DataProvisional);var _this=this;_this._owner=owner;_this._url=url;_this._bus=bus;_this._children=children;_this._changes=[];_this._allocateListeners();}(0,_createClass3.default)(DataProvisional,[{key:'_allocateListeners',value:function _allocateListeners(){var _this=this;_this._listener=_this._bus.addListener(_this._url,function(msg){console.log('DataProvisional-'+_this._url+'-RCV: ',msg);_this._changes.push(msg);});/*\n    _this._childrenListeners = [];\n    if (_this._children) {\n      let childBaseURL = url + '/children/';\n      _this._children.forEach((child) => {\n        let childURL = childBaseURL + child;\n        let listener = _this._bus.addListener(childURL, (msg) => {\n          //ignore msg sent by himself\n          if (msg.from !== owner) {\n            console.log(msg);\n          }\n        });\n\n        _this._childrenListeners.push(listener);\n      });\n    }*/}},{key:'_releaseListeners',value:function _releaseListeners(){var _this=this;_this._listener.remove();/*_this._childrenListeners.forEach((listener) => {\n      listener.remove();\n    });*/}},{key:'apply',value:function apply(observer){var _this=this;_this._changes.forEach(function(change){observer._changeObject(observer._syncObj,change);});}},{key:'children',get:function get(){return this._children;}}]);return DataProvisional;}();exports.default=DataProvisional;module.exports=exports['default'];\n\n},{\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12}],118:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.ObjectType=exports.ChangeType=undefined;var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _utils=require('../utils/utils.js');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * @access private\n * Main class that maintains a JSON object, and observes changes in this object, recursively.\n * Internal objects and arrays are also observed.\n */var SyncObject=function(){/* private\n    _data: any;\n    _observers: ((event: ChangeEvent) => void)[]\n  */function SyncObject(initialData){(0,_classCallCheck3.default)(this,SyncObject);var _this=this;_this._observers=[];_this._filters={};if(initialData){_this._data=(0,_utils.deepClone)(initialData);}else{_this._data={};}_this._internalObserve(new Path(),_this._data);}(0,_createClass3.default)(SyncObject,[{key:'observe',value:function observe(callback){this._observers.push(callback);}},{key:'find',value:function find(path){var list=path.split('.');return this._findWithSplit(list);}},{key:'findBefore',value:function findBefore(path){var result={};var list=path.split('.');result.last=list.pop();result.obj=this._findWithSplit(list);return result;}},{key:'_findWithSplit',value:function _findWithSplit(list){var obj=this._data;list.forEach(function(value){obj=obj[value];});return obj;}},{key:'_fireEvent',value:function _fireEvent(event){this._observers.forEach(function(callback){callback(event);});}},{key:'_isObservable',value:function _isObservable(obj){if(obj.constructor===Object||obj.constructor===Array){return true;}return false;}},{key:'_internalObserve',value:function _internalObserve(path,obj){var _this=this;if(_this._isObservable(obj)){var handler=function handler(changes){_this._onChanges(path,changes);};if(obj.constructor===Object){Object.observe(obj,handler);for(var prop in obj){if(_this._isObservable(obj[prop])){_this._internalObserve(path.new(prop),obj[prop]);}}}else if(obj.constructor===Array){Array.observe(obj,handler);for(var _prop in obj){if(_this._isObservable(obj[_prop])){var np=path.new(new ArrayIndex(obj[_prop],_prop));_this._internalObserve(np,obj[_prop]);}}}}}},{key:'_onChanges',value:function _onChanges(path,changes){var _this2=this;for(var i in changes){var obj=changes[i].object;var objType=void 0;if(obj.constructor===Object){objType=ObjectType.OBJECT;}if(obj.constructor===Array){objType=ObjectType.ARRAY;}if(changes[i].type==='splice'){(function(){var idx=changes[i].index;var field=path.new(''+idx);var fieldString=field.toString();var removeSize=changes[i].removed.length;if(removeSize!==0){var removeValues=changes[i].removed;removeValues.forEach(function(value,index){if(_this2._isObservable(value)){path.removeIndex(idx+index);}});_this2._fireEvent({cType:ChangeType.REMOVE,oType:objType,field:fieldString,data:removeSize});}var addSize=changes[i].addedCount;if(addSize!==0){var addValues=obj.slice(idx,idx+addSize);addValues.forEach(function(value,index){if(_this2._isObservable(value)){var np=path.new(new ArrayIndex(value,idx+index));_this2._internalObserve(np,value);}});_this2._fireEvent({cType:ChangeType.ADD,oType:objType,field:fieldString,data:(0,_utils.deepClone)(addValues)});}//re-define paths...\nif(idx!==obj.length-1){path.reIndexFrom(obj);}})();}else{var _field=path.new(changes[i].name);var _fieldString=_field.toString();if(_fieldString.indexOf('Symbol')!==-1){//hack for PhantomJS2\n//console.log('SYMBOL: ', changes[i]);\ncontinue;}//let oldValue = changes[i].oldValue;\nvar newValue=obj[changes[i].name];if(changes[i].type==='update'){this._fireEvent({cType:ChangeType.UPDATE,oType:objType,field:_fieldString,data:(0,_utils.deepClone)(newValue)});}if(changes[i].type==='add'){this._internalObserve(_field,newValue);this._fireEvent({cType:ChangeType.ADD,oType:objType,field:_fieldString,data:(0,_utils.deepClone)(newValue)});}if(changes[i].type==='delete'){this._fireEvent({cType:ChangeType.REMOVE,oType:objType,field:_fieldString});}}}}},{key:'data',get:function get(){return this._data;}}]);return SyncObject;}();//dynamic path for Array index...\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/var Path=function(){function Path(){(0,_classCallCheck3.default)(this,Path);this._path=[];this._observables={};//<index:ArrayIndex>\n}(0,_createClass3.default)(Path,[{key:'removeIndex',value:function removeIndex(idx){//console.log('REMOVE-PATH ' + idx);\ndelete this._observables[idx];}},{key:'reIndexFrom',value:function reIndexFrom(array){var _this3=this;(0,_keys2.default)(this._observables).forEach(function(key){var arrayIndex=_this3._observables[key];var idx=array.indexOf(arrayIndex.obj);if(arrayIndex.idx!=idx){//console.log('RE-INDEX: ' + key + '->' + idx);\narrayIndex.idx=idx;delete _this3._observables[key];_this3._observables[idx]=arrayIndex;}});}},{key:'new',value:function _new(idx){if(idx.constructor==ArrayIndex){//console.log('PATH-OBSERV: ', idx);\nthis._observables[idx.idx]=idx;}var nPath=this.clone();nPath._path.push(idx);return nPath;}},{key:'clone',value:function clone(){var nPath=new Path();this._path.forEach(function(value){nPath._path.push(value);});return nPath;}},{key:'toString',value:function toString(){//TODO: optimize!!\nvar str='';this._path.forEach(function(value,index){if(index===0){str=value.toString();}else{str+='.'+value.toString();}});return str;}}]);return Path;}();var ArrayIndex=function(){function ArrayIndex(obj,idx){(0,_classCallCheck3.default)(this,ArrayIndex);this.obj=obj;this.idx=idx;}(0,_createClass3.default)(ArrayIndex,[{key:'toString',value:function toString(){return this.idx.toString();}}]);return ArrayIndex;}();var ChangeType=exports.ChangeType={UPDATE:'update',ADD:'add',REMOVE:'remove'};var ObjectType=exports.ObjectType={OBJECT:'object',ARRAY:'array'};exports.default=SyncObject;\n\n},{\"../utils/utils.js\":120,\"babel-runtime/core-js/object/keys\":6,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12}],119:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _promise=require('babel-runtime/core-js/promise');var _promise2=_interopRequireDefault(_promise);var _classCallCheck2=require('babel-runtime/helpers/classCallCheck');var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require('babel-runtime/helpers/createClass');var _createClass3=_interopRequireDefault(_createClass2);var _DataObjectReporter=require('./DataObjectReporter');var _DataObjectReporter2=_interopRequireDefault(_DataObjectReporter);var _DataObjectObserver=require('./DataObjectObserver');var _DataObjectObserver2=_interopRequireDefault(_DataObjectObserver);var _DataProvisional=require('./DataProvisional');var _DataProvisional2=_interopRequireDefault(_DataProvisional);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n * The main class for the syncher package.\n * The Syncher is a singleton class per Hyperty/URL and it is the owner of all created Data Sync Objects according to the Reporter - Observer pattern.\n * Main functionality is to create reporters and to subscribe to existing ones.\n */var Syncher=function(){/* private\n  _owner: URL\n  _bus: MiniBus\n\n  _subURL: URL\n\n  _reporters: <url: DataObjectReporter>\n  _observers: <url: DataObjectObserver>\n  _provisionals: <url: DataProvisional>\n\n  ----event handlers----\n  _onNotificationHandler: (event) => void\n  *//**\n  * Constructor that should be used by the Hyperty owner\n  * @param {HypertyURL} owner - Hyperty URL owner. An URL allocated by the runtime that uniquely identifies the Hyperty.\n  * @param {MiniBus} bus - An instance of the MiniBus provided in the sandbox. When an object (Reporter or Observed) is created, the SyncherManager will add a listener in the MiniBus to receive/send Messages of that object.\n  * @param {JSON} config - Configuration data. The only required field for now is the runtimeURL.\n  */function Syncher(owner,bus,config){(0,_classCallCheck3.default)(this,Syncher);var _this=this;_this._owner=owner;_this._bus=bus;_this._subURL=config.runtimeURL+'/sm';_this._reporters={};_this._observers={};_this._provisionals={};bus.addListener(owner,function(msg){//ignore msg sent by himself\nif(msg.from!==owner){console.log('Syncher-RCV: ',msg);switch(msg.type){case'forward':_this._onForward(msg);break;case'create':_this._onRemoteCreate(msg);break;case'delete':_this._onRemoteDelete(msg);break;}}});}/**\n  * The owner of the Syncher and all created reporters.\n  * @type {HypertyURL}\n  */(0,_createClass3.default)(Syncher,[{key:'create',/**\n  * Request a DataObjectReporter creation. The URL will be be requested by the allocation mechanism.\n  * @param  {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\n  * @param  {HypertyURL[]} observers - List of hyperties that are pre-authorized for subscription\n  * @param  {JSON} initialData - Initial data of the reporter\n  * @return {Promise<DataObjectReporter>} Return Promise to a new Reporter. The reporter can be accepted or rejected by the PEP\n  */value:function create(schema,observers,initialData){var _this=this;initialData.reporter=_this._owner;initialData.schema=schema;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onCreate\nvar requestMsg={type:'create',from:_this._owner,to:_this._subURL,body:{schema:schema,value:initialData,authorise:observers}};return new _promise2.default(function(resolve,reject){//request create to the allocation system. Can be rejected by the PolicyEngine.\n_this._bus.postMessage(requestMsg,function(reply){console.log('create-response: ',reply);if(reply.body.code===200){//reporter creation accepted\nvar objURL=reply.body.resource;var newObj=new _DataObjectReporter2.default(_this,objURL,schema,'on',initialData,reply.body.childrenResources);_this._reporters[objURL]=newObj;resolve(newObj);}else{//reporter creation rejected\nreject(reply.body.desc);}});});}/**\n  * Request a subscription to an existent reporter object.\n  * @param {SchemaURL} schema - Hyperty Catalogue URL address that can be used to retrieve the JSON-Schema describing the Data Object schema\n  * @param {ObjectURL} objURL - Address of the existent reporter object to be observed\n  * @return {Promise<DataObjectObserver>} Return Promise to a new observer. It's associated with the reporter.\n  */},{key:'subscribe',value:function subscribe(schema,objURL){var _this=this;//FLOW-OUT: this message will be sent to the runtime instance of SyncherManager -> _onLocalSubscribe\nvar subscribeMsg={type:'subscribe',from:_this._owner,to:_this._subURL,body:{schema:schema,resource:objURL}};return new _promise2.default(function(resolve,reject){//request subscription\n//Provisional data is applied to the DataObjectObserver after confirmation. Or discarded if there is no confirmation.\n//for more info see the DataProvisional class documentation.\n_this._bus.postMessage(subscribeMsg,function(reply){console.log('subscribe-response: ',reply);var newProvisional=_this._provisionals[objURL];delete _this._provisionals[objURL];if(newProvisional)newProvisional._releaseListeners();if(reply.body.code<200){newProvisional=new _DataProvisional2.default(_this._owner,objURL,_this._bus,reply.body.childrenResources);_this._provisionals[objURL]=newProvisional;}else if(reply.body.code===200){var newObj=new _DataObjectObserver2.default(_this,objURL,schema,'on',reply.body.value,newProvisional.children,reply.body.version);_this._observers[objURL]=newObj;resolve(newObj);newProvisional.apply(newObj);}else{reject(reply.body.desc);}});});}/**\n  * Request a read action on the reporter object\n  * @param {ObjectURL} objURL - URL of the reporter object to be read\n  * @return {Promise<Object>} Return Promise to last available data of the reporter\n  */},{key:'read',value:function read(objURL){var _this=this;//FLOW-OUT: this message will be sent directly to reporter object (maybe there is no listener available, so it will be resolved with MessageBus -> resolve)\n//will reach the remote object in DataObjectReporter -> _onRead\nvar readMsg={type:'read',from:_this._owner,to:objURL};return new _promise2.default(function(resolve,reject){_this._bus.postMessage(readMsg,function(reply){console.log('read-response: ',reply);if(reply.body.code===200){resolve(reply.body.value);}else{reject(reply.body.desc);}});});}/**\n  * Setup the callback to process create and delete events of remove Reporter objects.\n  * This is releated to the messagens sent by create to the observers Hyperty array.\n  * @param {function(event: MsgEvent)} callback\n  */},{key:'onNotification',value:function onNotification(callback){this._onNotificationHandler=callback;}//FLOW-IN: message received from a local runtime ReporterObject -> _onRemoteSubscribe\n},{key:'_onForward',value:function _onForward(msg){var _this=this;var reporter=_this._reporters[msg.body.to];reporter._onForward(msg);}//FLOW-IN: message received from a remote Syncher -> create (this is actually an invitation to subscribe)\n},{key:'_onRemoteCreate',value:function _onRemoteCreate(msg){var _this=this;//remove \"/subscription\" from the URL\nvar resource=msg.from.slice(0,-13);var event={type:msg.type,from:msg.body.source,url:resource,schema:msg.body.schema,value:msg.body.value,identity:msg.body.identity,ack:function ack(type){var lType=200;if(type){lType=type;}//send ack response message\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:lType}});}};if(_this._onNotificationHandler){console.log('NOTIFICATION-EVENT: ',event);_this._onNotificationHandler(event);}}//FLOW-IN: message received from a remote DataObjectReporter -> delete\n},{key:'_onRemoteDelete',value:function _onRemoteDelete(msg){var _this=this;//remove \"/subscription\" from the URL\nvar resource=msg.body.resource;var object=_this._observers[resource];if(object){var event={type:msg.type,url:resource,identity:msg.body.identity,ack:function ack(type){var lType=200;if(type){lType=type;}//TODO: any other different options for the release process, like accept but nor release local?\nif(lType===200){object.delete();}//send ack response message\n_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:lType,source:_this._owner}});}};if(_this._onNotificationHandler){console.log('NOTIFICATION-EVENT: ',event);_this._onNotificationHandler(event);}}else{_this._bus.postMessage({id:msg.id,type:'response',from:msg.to,to:msg.from,body:{code:404,source:_this._owner}});}}},{key:'owner',get:function get(){return this._owner;}/**\n  * All owned reporters, the ones that were created by a create\n  * @type {Object<URL, DataObjectReporter>}\n  */},{key:'reporters',get:function get(){return this._reporters;}/**\n  * All owned observers, the ones that were created by a local subscription\n  * @type {Object<URL, DataObjectObserver>}\n  */},{key:'observers',get:function get(){return this._observers;}}]);return Syncher;}();/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/exports.default=Syncher;module.exports=exports['default'];\n\n},{\"./DataObjectObserver\":115,\"./DataObjectReporter\":116,\"./DataProvisional\":117,\"babel-runtime/core-js/promise\":8,\"babel-runtime/helpers/classCallCheck\":11,\"babel-runtime/helpers/createClass\":12}],120:[function(require,module,exports){\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _stringify=require('babel-runtime/core-js/json/stringify');var _stringify2=_interopRequireDefault(_stringify);var _keys=require('babel-runtime/core-js/object/keys');var _keys2=_interopRequireDefault(_keys);exports.divideURL=divideURL;exports.divideEmail=divideEmail;exports.emptyObject=emptyObject;exports.deepClone=deepClone;exports.getUserURLFromEmail=getUserURLFromEmail;exports.getUserEmailFromURL=getUserEmailFromURL;exports.convertToUserURL=convertToUserURL;function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**//**\n * Support module with some functions will be useful\n * @module utils\n *//**\n * @typedef divideURL\n * @type Object\n * @property {string} type The type of URL\n * @property {string} domain The domain of URL\n * @property {string} identity The identity of URL\n *//**\n * Divide an url in type, domain and identity\n * @param  {URL.URL} url - url address\n * @return {divideURL} the result of divideURL\n */function divideURL(url){if(!url)throw Error('URL is needed to split');// let re = /([a-zA-Z-]*)?:\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)*(\\/[\\/\\d\\w\\.-]*)*(?:[\\?])*(.+)*/gi;\nvar re=/([a-zA-Z-]*):\\/\\/(?:\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256})([-a-zA-Z0-9@:%._\\+~#=\\/]*)/gi;var subst='$1,$2,$3';var parts=url.replace(re,subst).split(',');// If the url has no protocol, the default protocol set is https\nif(parts[0]===url){parts[0]='https';parts[1]=url;}var result={type:parts[0],domain:parts[1],identity:parts[2]};return result;}function divideEmail(email){var indexOfAt=email.indexOf('@');var result={username:email.substring(0,indexOfAt),domain:email.substring(indexOfAt+1,email.length)};return result;}/**\n * Check if an Object is empty\n * @param  {Object} object Object to be checked\n * @return {Boolean}       status of Object, empty or not (true|false);\n */function emptyObject(object){return(0,_keys2.default)(object).length>0?false:true;}/**\n * Make a COPY of the original data\n * @param  {Object}  obj - object to be cloned\n * @return {Object}\n */function deepClone(obj){//TODO: simple but inefficient JSON deep clone...\nif(obj)return JSON.parse((0,_stringify2.default)(obj));}/**\n * Obtains the user URL that corresponds to a given email\n * @param  {string} userEmail The user email\n * @return {URL.URL} userURL The user URL\n */function getUserURLFromEmail(userEmail){var indexOfAt=userEmail.indexOf('@');return'user://'+userEmail.substring(indexOfAt+1,userEmail.length)+'/'+userEmail.substring(0,indexOfAt);}/**\n * Obtains the user email that corresponds to a given URL\n * @param  {URL.URL} userURL The user URL\n * @return {string} userEmail The user email\n */function getUserEmailFromURL(userURL){var url=divideURL(userURL);return url.identity.replace('/','')+'@'+url.domain;// identity field has '/exampleID' instead of 'exampleID'\n}/**\n * Check if the user identifier is already in the URL format, if not, convert to URL format\n * @param  {string}   identifier  user identifier\n * @return {string}   userURL    the user URL\n */function convertToUserURL(identifier){// check if the identifier is already in the url format\nif(identifier.substring(0,7)==='user://'){var dividedURL=divideURL(identifier);//check if the url is well formated\nif(dividedURL.domain&&dividedURL.identity){return identifier;}else{throw'userURL with wrong format';}//if not, convert the user email to URL format\n}else{return getUserURLFromEmail(identifier);}}\n\n},{\"babel-runtime/core-js/json/stringify\":1,\"babel-runtime/core-js/object/keys\":6}]},{},[112])(112)\n});"],"sourceRoot":"/source/"}